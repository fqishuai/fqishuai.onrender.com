---
slug: bff-article
tags: [æ¶æ„]
---

> æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»BFFï¼ˆBackends For Frontendsï¼‰ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼šä»€ä¹ˆæ˜¯BFFã€BFFèƒ½å¹²å•¥ã€ä½¿ç”¨BFFæœ‰å•¥å¥½å¤„ã€BFFçš„é€‚ç”¨åœºæ™¯ã€BFFåº”è¯¥æ€ä¹ˆåˆ’åˆ†ã€BFFæ€§èƒ½è€ƒè™‘ã€BFFé™·é˜±ã€BFFæŠ€æœ¯é€‰å‹ã€‚è‹¥æ‚¨å†³å®šä½¿ç”¨Node.jså®ç°BFFï¼Œä¹Ÿå¯ä»¥å‚è€ƒæœ¬æ–‡ä»‹ç»çš„å‡ ç§Node.jsæ¡†æ¶ã€‚æ–‡ç« çš„æœ€åæ˜¯ä¸€äº›å‚è€ƒæ–‡çŒ®åŠå»¶ä¼¸é˜…è¯»çš„èµ„æ–™ã€‚

## ä¸€ã€ä»€ä¹ˆæ˜¯BFF
BFFï¼ˆBackends For Frontendsï¼‰æ˜¯ä¸ºå‰ç«¯æœåŠ¡çš„åç«¯ï¼Œæ˜¯ä¸€ç§å‰ç«¯æ¶æ„æ¨¡å¼ï¼Œæ˜¯ä¸€ç§ç®€åŒ–å‰ç«¯å’Œåç«¯ä¹‹é—´çš„é€šä¿¡å¹¶ä½¿å‰ç«¯å¼€å‘æ›´ç®€å•çš„æ–¹æ³•ã€‚

BFF æ¨¡å¼æºäºæ”¯æŒå…·æœ‰ä¸åŒéœ€æ±‚çš„å¤šä¸ªç”¨æˆ·ç•Œé¢çš„éœ€è¦ï¼Œç‰¹åˆ«æ˜¯å…·æœ‰è®¸å¤šçº¦æŸçš„ç§»åŠ¨ç•Œé¢ã€‚é€šç”¨APIå·²æˆä¸ºå¼€å‘çš„ç“¶é¢ˆï¼Œæ— æ³•å§‹ç»ˆè½»æ¾æ»¡è¶³å¤šç”¨æˆ·ç•Œé¢çš„éœ€æ±‚ã€‚å› æ­¤ï¼Œä¸å…¶è®©æ¯ä¸ªç«¯è°ƒç”¨ä¸€ä¸ªé€šç”¨çš„APIåç«¯ï¼Œä¸å¦‚è®©æ¯ä¸ªç«¯éƒ½å®ç°è‡ªå·±çš„APIå±‚ï¼Œè¯¥å±‚è°ƒç”¨åº•å±‚å¾®æœåŠ¡ã€‚BFF ç´§ç´§åœ°ä¸“æ³¨äºå•ä¸ªUIï¼Œåˆ†ç¦»å…³æ³¨ç‚¹ã€‚

BFF å°†ç”±å‰ç«¯å›¢é˜Ÿç»´æŠ¤ï¼Œä»è€Œä½¿ä»–ä»¬æ‘†è„±ç­‰å¾…åº•å±‚APIæ›´æ”¹ä»¥åœ¨UIä¸Šè¿­ä»£çš„é™åˆ¶ï¼ŒåŒæ—¶è¿˜å…è®¸ä»–ä»¬æ”¹è¿›å’Œæ„é€  API ä»¥æ»¡è¶³å…¶UIçš„ç‰¹å®šéœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œç§»åŠ¨ç«¯UIå¯èƒ½éœ€è¦æ¯”PCç«¯UIæ›´å°‘çš„æ•°æ®ï¼Œå¹¶ä¸”å‡å°‘ API è°ƒç”¨çš„è´Ÿè½½å¯ä»¥æé«˜ç§»åŠ¨åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚

BFF ä¸æ˜¯åº”ç”¨ç¨‹åºä½¿ç”¨çš„ APIï¼ŒBFF æ˜¯åº”ç”¨ç¨‹åºçš„ä¸€éƒ¨åˆ†ã€‚å¦‚å›¾ï¼š
![bff](bff.png)

BFF æ¨¡å¼é€šè¿‡å¢åŠ ç³»ç»Ÿå¤æ‚æ€§æ¥æé«˜å¼€å‘é€Ÿåº¦ã€‚

## äºŒã€BFFçš„ä½œç”¨
1. èšåˆæ•°æ®

ç”¨äºè§£å†³ç§»åŠ¨è®¾å¤‡çš„é™åˆ¶ã€‚ç”±äºç§»åŠ¨å®¢æˆ·ç«¯çš„æ˜¾ç¤ºåŒºåŸŸæ›´å°ï¼Œå¹¶ä¸”ä¹Ÿå—åˆ°å¸¦å®½çš„å½±å“ï¼Œæ‰€ä»¥åç«¯è¿”å›æ‰€æœ‰æ•°æ®å¹¶è®©æ¯ä¸ªå®¢æˆ·ç«¯è¿‡æ»¤æ‰ä¸å¿…è¦çš„æ•°æ®ä¸æ˜¯ä¸€ç§å¥½çš„é€‰æ‹©ï¼ŒBFFå±‚æ£€æµ‹å‘å‡ºè¯·æ±‚çš„ç§»åŠ¨ç«¯å¹¶è¿‡æ»¤æ‰å“åº”ä¸­çš„ä¸ç›¸å…³æ•°æ®ã€‚ä»æ¯ä¸ªæ‰€éœ€çš„å¾®æœåŠ¡ä¸­è·å–æ•°æ®--->æå–ç›¸å…³éƒ¨åˆ†--->èšåˆ--->æœ€åä»¥ä¸ç‰¹å®šç«¯ç›¸å…³çš„æ ¼å¼è¿”å›ã€‚

2. å¾®æœåŠ¡ä¸å‰ç«¯è§£è€¦

å¾®æœåŠ¡æ•°é‡ä¼—å¤šï¼Œæ¯ä¸€ä¸ªéƒ½æ ¹æ®ä¸åŒçš„ç«¯è¿‡æ»¤æ•°æ®æ˜¾ç„¶æ˜¯ä¸å¯èƒ½çš„ã€‚å‰ç«¯çš„ä¸€äº›å¾®è°ƒä¿ƒä½¿å¾®æœåŠ¡é€šç”¨APIçš„æ”¹åŠ¨ï¼Œè¿™æ ·ä¹Ÿæ˜¯ä¸åˆç†çš„ã€‚BFFå¯ä»¥è§£é™¤è¿™ç§å¼ºè€¦åˆã€‚

3. ç¼–æ’æ•°æ®

æ ¹æ®ç•Œé¢æ˜¾ç¤ºæƒ…å†µå°†æ•°æ®è¿›è¡Œç¼–æ’ï¼Œæä¾›ç»™å‰ç«¯ï¼Œä½¿å‰ç«¯é¡µé¢åªè´Ÿè´£UIæ¸²æŸ“å’Œäº¤äº’ï¼Œä¸å¤„ç†å¤æ‚çš„æ•°æ®å…³ç³»ï¼Œä»è€Œæé«˜å‰ç«¯ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

4. æ‹¼æ¥é¡µé¢æ¨¡ç‰ˆ

å½“éœ€è¦åœ¨æœåŠ¡å™¨ç«¯ç”Ÿæˆå¤§éƒ¨åˆ† Web UI æ—¶ï¼ˆä¾‹å¦‚ï¼Œæ ¹æ®é…ç½®ç”Ÿæˆhtmlé¡µé¢ï¼‰ï¼ŒBFF æ˜¾ç„¶æ˜¯å¯ä»¥å®Œæˆæ­¤æ“ä½œçš„åœ°æ–¹ã€‚è¿˜å¯ä»¥åœ¨BFFå‰é¢è®¾ç½®ä¸€ä¸ªåå‘ä»£ç†ï¼Œè¿™æ ·å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šç®€åŒ–ç¼“å­˜ã€‚

5. ç§»åŠ¨ç«¯ç‰¹æ®Šwebviewå¤„ç†

å½“æŸäº›webviewå¯¹é“¾æ¥çš„è·³è½¬è¡Œä¸ºåšäº†é™åˆ¶ç­‰å…¶ä»–ç‰¹æ®Šè¡Œä¸ºéœ€è¦å¤„ç†æ—¶ï¼Œwebviewå¯¹äºå‰ç«¯å’Œåç«¯éƒ½å±äºç¬¬ä¸‰æ–¹ï¼Œç›¸å…³çš„å¤„ç†é€»è¾‘æ”¾åœ¨å‰ç«¯æˆ–è€…åç«¯éƒ½ä¸åˆé€‚ï¼Œè¿™ç§é—®é¢˜å°±å¯ä»¥ç”±BFFæ¥è§£å†³ã€‚

## ä¸‰ã€BFFçš„å¥½å¤„
1. é‡å¤é€»è¾‘æå–

å½“æ²¡æœ‰BFFæ—¶ï¼Œé€šå¸¸â€œé€šç”¨â€é€»è¾‘æœ€ç»ˆä¼šè¢«åµŒå…¥åˆ°ä¸åŒçš„å®¢æˆ·ç«¯ä¸­ã€‚ç”±äºè¿™äº›å®¢æˆ·ç«¯ä½¿ç”¨éå¸¸ä¸åŒçš„æŠ€æœ¯æ ˆï¼ˆFlutterã€RNã€Vueã€Reactã€Taroç­‰ï¼‰ï¼Œè¯†åˆ«è¿™ç§é‡å¤å¯èƒ½å¾ˆå›°éš¾ã€‚ç›¸è¾ƒè€Œè¨€ï¼Œæ‹¥æœ‰å¤šä¸ªé‡å¤çš„BFFæ›´å®¹æ˜“å‘ç°å’Œæ’é™¤ã€‚

2. è‡ªæ²»

æœ‰çš„å›¢é˜Ÿå¯èƒ½é¢ä¸´è¿™æ ·çš„æƒ…å†µï¼Œä»–ä»¬æ„å»ºçš„ç”¨æˆ·ç•Œé¢æ­£åœ¨è°ƒç”¨å¦ä¸€ä¸ªå›¢é˜Ÿæä¾›çš„APIï¼Œè€Œä¸”APIé€šå¸¸åœ¨è¿­ä»£ä»¥æ»¡è¶³å…¶ä»–å›¢é˜Ÿçš„éœ€æ±‚ã€‚ è¿™ç§æƒ…å†µä¸‹BFFæ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œç‰¹åˆ«æ˜¯å¦‚æœå®ƒç”±åˆ›å»ºç”¨æˆ·ç•Œé¢çš„å›¢é˜Ÿæ‰€æœ‰ï¼Œè¿™æ ·å¯ä»¥åœ¨è¿­ä»£å‰ç«¯éœ€æ±‚çš„åŒæ—¶ï¼Œç”±è‡ªå·±çš„å›¢é˜Ÿå¼€å‘BFFçš„APIã€‚

3. å…è®¸æ›´å¿«åœ°å‘å¸ƒæ–°åŠŸèƒ½

å‰ç«¯å’ŒBFFå®Œå…¨è‡ªæ²»çš„è¯ï¼Œå¯ä»¥å¿«é€Ÿè¿­ä»£ä¸¤è€…ã€‚ è™½ç„¶BFFæœ¬èº«ä»ç„¶éœ€è¦è°ƒç”¨å…¶ä»–ä¸‹æ¸¸æœåŠ¡ï¼Œä½†è¿™å¯ä»¥åœ¨ä¸ä¸­æ–­ç”¨æˆ·ç•Œé¢å¼€å‘çš„æƒ…å†µä¸‹å®Œæˆã€‚å¯¹äºä¸éœ€è¦åº•å±‚æœåŠ¡æ”¹åŠ¨çš„éœ€æ±‚ï¼Œå¯ä»¥ç”±BFFå¤„ç†æ•°æ®ï¼Œè¾¾åˆ°æ›´å¿«å‘å¸ƒæ–°åŠŸèƒ½çš„æ•ˆæœã€‚

4. é™ä½äººå‘˜åè°ƒæˆæœ¬

åç«¯å¾®æœåŠ¡å’Œå¤§å‰ç«¯BFFå®ç°å®Œå–„åï¼ŒåæœŸéƒ¨åˆ†éœ€æ±‚åªéœ€è¦å‰ç«¯äººå‘˜å¼€å‘å³å¯ã€‚

5. é™ä½è¯·æ±‚é¢‘ç‡

BFFæ¨¡å¼èƒ½å¤Ÿè°ƒæ•´æœ‰æ•ˆè´Ÿè½½å¤§å°å’Œé™ä½è¯·æ±‚é¢‘ç‡ï¼Œè¿˜å¯ä»¥æä¾›å•ä¸€èµ„æºæœåŠ¡å™¨ä¾›å‰ç«¯è°ƒç”¨ã€‚

6. é™ä½è¯·æ±‚å‰¯ä½œç”¨

æœ‰äº†BFFåŠåˆç†çš„ç¼“å­˜ï¼Œå‰ç«¯åº”ç”¨ç¨‹åºä¸å—ä¸‹æ¸¸æœåŠ¡ä¸­APIæ›´æ”¹çš„å½±å“ï¼Œæ¯”å¦‚é€šç”¨APIä¸ºäº†å…¼å®¹å…¶ä»–åœºæ™¯çš„æƒ…å†µä¸‹ï¼Œåº•å±‚æœåŠ¡å‘å¸ƒä¼šå½±å“ä¸éœ€è¦ä»»ä½•æ”¹åŠ¨çš„å‰ç«¯åº”ç”¨çš„ä½¿ç”¨ä½“éªŒã€‚


## å››ã€BFFçš„é€‚ç”¨åœºæ™¯
BFFè™½ç„¶æµè¡Œï¼Œä½†ä¸é€‚ç”¨äºæ‰€æœ‰åœºæ™¯ã€‚åªæœ‰åœ¨æ»¡è¶³ä¸€å®šçš„åœºæ™¯å¹¶ä¸”åŸºç¡€è®¾æ–½å®Œå–„çš„æƒ…å†µä¸‹æ‰èƒ½ä½¿ç”¨ï¼Œå¦åˆ™åªä¼šå¢åŠ é¡¹ç›®ç»´æŠ¤æˆæœ¬å’Œé£é™©ï¼Œè€Œæ”¶ç›Šå¾®ä¹å…¶å¾®ã€‚æˆ‘è®¤ä¸ºé€‚ç”¨çš„åœºæ™¯å¦‚ä¸‹ï¼š

1. åç«¯æœ‰ç¨³å®šçš„é¢†åŸŸæœåŠ¡ï¼Œéœ€è¦èšåˆå±‚çš„åœºæ™¯ã€‚

2. éœ€æ±‚å˜åŒ–é¢‘ç¹ï¼Œæ¥å£ä¹Ÿç»å¸¸éœ€è¦å˜åŒ–çš„åœºæ™¯ã€‚

åç«¯æœ‰ä¸€å¥—ç¨³å®šçš„å¤šé¡¹ç›®é¢†åŸŸæœåŠ¡ï¼Œå˜æ›´æˆæœ¬é«˜ï¼Œè€ŒBFFå±‚é’ˆå¯¹å•ä¸ªé¡¹ç›®ï¼ŒBFFå±‚å˜æ›´å¯ä»¥åšåˆ°æœ€å°æˆæœ¬å˜åŒ–ã€‚

3. å®Œå–„çš„åŸºç¡€è®¾æ–½ï¼šæ—¥å¿—ã€é“¾æ¥ã€æœåŠ¡å™¨ç›‘æ§ã€æ€§èƒ½ç›‘æ§ç­‰ã€‚

4. å¸Œæœ›é’ˆå¯¹ç‰¹å®šå®¢æˆ·ç«¯æ¥å£çš„è¦æ±‚æ¥ä¼˜åŒ–åç«¯çš„åœºæ™¯ã€‚

ä»¥å‰ç«¯ä¸ºä¸­å¿ƒçš„åç«¯æœåŠ¡åº”è¯¥åªåŒ…å«ç‰¹å®šäºå®¢æˆ·ç«¯çš„é€»è¾‘å’Œè¡Œä¸ºã€‚ä¸€èˆ¬ä¸šåŠ¡é€»è¾‘å’Œå…¶ä»–å…¨å±€ç‰¹æ€§åº”è¯¥åœ¨åº”ç”¨ç¨‹åºçš„å…¶ä»–åœ°æ–¹è¿›è¡Œç®¡ç†ã€‚

## äº”ã€BFFçš„åˆ’åˆ†
BFFåº”è¯¥æ€ä¹ˆåˆ’åˆ†ï¼Œæˆ–è€…è¯´åº”è¯¥æœ‰å¤šå°‘ä¸ªBFFï¼Ÿ

1. æ ¹æ®UIç•Œé¢åˆ’åˆ†
- ä¸€ç§æ¨¡å‹æ˜¯ï¼šæ¯ç§ä¸åŒç±»å‹çš„ç”¨æˆ·ç•Œé¢ä¸¥æ ¼ä½¿ç”¨ä¸€ä¸ªBFFã€‚
- å¦ä¸€ç§æ¨¡å‹æ˜¯ï¼šæ¯ç§ç±»å‹çš„ç”¨æˆ·ç•Œé¢ä½¿ç”¨ä¸€ä¸ª BFFã€‚

"one experience, one BFF"ã€‚å¦‚æœä¸åŒç«¯çš„UI éå¸¸ç›¸ä¼¼ï¼Œé‚£ä¹ˆæ‹¥æœ‰ä¸€ä¸ªBFFæ˜¯åˆç†çš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœå®ƒä»¬å·®å¼‚å¾ˆå¤§ï¼Œé‚£ä¹ˆæ‹¥æœ‰å•ç‹¬çš„BFFå°±æ›´æœ‰æ„ä¹‰äº†ã€‚

æ¯ä¸ªç”¨æˆ·ç•Œé¢æ‹¥æœ‰ä¸€ä¸ªBFFçš„é—®é¢˜ä¹‹ä¸€æ˜¯ï¼Œæœ€ç»ˆå¯èƒ½ä¼šåœ¨BFFæœ¬èº«ä¹‹é—´äº§ç”Ÿå¤§é‡é‡å¤ã€‚ä¾‹å¦‚ï¼Œå®ƒä»¬æœ€ç»ˆå¯èƒ½ä¼šæ‰§è¡Œç›¸åŒç±»å‹çš„èšåˆï¼Œå…·æœ‰ç›¸åŒæˆ–ç›¸ä¼¼çš„ä»£ç æ¥ä¸ä¸‹æ¸¸æœåŠ¡äº¤äº’ç­‰ã€‚

å½“ç¡®å®éœ€è¦æå–å…±äº«ä»£ç æ—¶ï¼Œé€šå¸¸æœ‰ä¸¤ç§é€‰æ‹©ã€‚ä¸€ç§é€‰æ‹©æ˜¯ï¼Œæå–æŸç§å…±äº«åº“ã€‚è¿™å¯èƒ½å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼Œå…±äº«åº“å¯¼è‡´çš„è€¦åˆï¼Œå°¤å…¶æ˜¯åœ¨è°ƒç”¨ä¸‹æ¸¸æœåŠ¡æ—¶ï¼›å¦ä¸€ç§é€‰æ‹©æ˜¯ï¼Œå°†èšåˆè´£ä»»æ¨åˆ°æ›´ä¸‹æ¸¸çš„æœåŠ¡ä¸­ã€‚

ä½¿ç”¨å…±äº«BFFçš„å®¢æˆ·ç«¯ç±»å‹è¶Šå¤šï¼Œå®ƒå°±è¶Šå®¹æ˜“å› å¤„ç†å¤šä¸ªé—®é¢˜è€Œå˜å¾—è‡ƒè‚¿ã€‚æ³¨æ„ï¼Œå³ä½¿å…±äº«BFFï¼Œå®ƒä¹Ÿä»…ä»…é€‚ç”¨äºåŒä¸€ç±»ç”¨æˆ·ç•Œé¢Â ã€‚

2. æ ¹æ®ç»„ç»‡ç»“æ„åˆ’åˆ†

å¦‚æœBFFæœåŠ¡çš„å‰ç«¯ç”±ä¸åŒçš„å›¢é˜Ÿç»´æŠ¤ï¼Œå¯ä»¥è€ƒè™‘ä¸åŒçš„å‰ç«¯å¯¹åº”ä¸åŒçš„BFFè¿™ç§æ¨¡å‹ã€‚å¯ä»¥å°†ç»„ç»‡ç»“æ„è§†ä¸ºæ¨¡å‹çš„è¾¹ç•Œï¼Œä½†æ˜¯ç»„ç»‡ç»“æ„å¾€å¾€æ¯”æˆ‘ä»¬çš„ç³»ç»Ÿè®¾è®¡æ›´çµæ´»ã€‚

é€šå¸¸ï¼Œå‡å°‘BFFæ•°é‡çš„é©±åŠ¨å› ç´ æ˜¯ï¼Œé‡ç”¨æœåŠ¡å™¨ç«¯åŠŸèƒ½ä»¥é¿å…è¿‡å¤šçš„é‡å¤ã€‚

## å…­ã€BFFçš„æ€§èƒ½è€ƒè™‘
å‡å¦‚ä»å®¢æˆ·ç«¯åˆ°å•ä½“çš„è¯·æ±‚éœ€è¦ä¸€ä¸ªç‰¹å®šçš„æ—¶é—´ Tã€‚å®ƒé€šè¿‡äº’è”ç½‘ï¼ŒT å¯èƒ½å¾ˆé•¿ã€‚

ä¸ä½¿ç”¨BFFï¼Œå®¢æˆ·ç«¯éœ€è¦ä¾æ¬¡è°ƒç”¨æ¯ä¸€ä¸ªå¾®æœåŠ¡ï¼Œå› æ­¤ï¼Œå¯¹äºé¡ºåºè°ƒç”¨ï¼Œæ—¶é—´å˜ä¸º Î£(T1, T2, Ti, Tn)ã€‚ç”±äºè¿™æ˜¯ä¸å¯æ¥å—çš„ï¼Œå®¢æˆ·ç«¯é€šå¸¸ä½¿ç”¨å¹¶è¡Œè°ƒç”¨ï¼Œæ—¶é—´å˜ä¸º max(T1, T2, Ti, Tn)ã€‚æ³¨æ„ï¼Œå³ä½¿è¿™æ ·ï¼Œå®¢æˆ·ç«¯ä¹Ÿéœ€è¦æ‰§è¡Œ n ä¸ªè¯·æ±‚ã€‚

ä½¿ç”¨BFFçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨ T æ—¶é—´å†…å›åˆ°ä¸€ä¸ªè¯·æ±‚ï¼Œæ— è®ºå®ç°æ˜¯ä»€ä¹ˆã€‚ä¸å•ä½“ç›¸æ¯”ï¼Œä»BFFåˆ°å¾®æœåŠ¡è¿˜æœ‰é¢å¤–çš„è¯·æ±‚ t1ã€t2ã€tiã€tnï¼Œä½†å®ƒä»¬å¯èƒ½ä½äºä¸€èµ·ã€‚å› æ­¤ï¼Œæ•´ä½“æ—¶é—´ä¼šæ¯”å•ä½“æ›´é•¿ï¼Œä½†ç”±äºæ¯ä¸ª t éƒ½æ¯” T çŸ­å¾—å¤šï¼Œå› æ­¤ä¸ä¼šå¯¹ç”¨æˆ·ä½“éªŒäº§ç”Ÿå¤ªå¤§å½±å“ã€‚

## ä¸ƒã€BFFçš„é™·é˜±
1. ä¸åŒBFFä¸­é‡å¤é€»è¾‘çš„å¤„ç†ã€‚

2. ä¸éµå¾ªè‰¯å¥½çš„DevOpså®è·µã€‚æ›´å¤šçš„å±‚æ„å‘³ç€æ›´å¤šçš„å¯éƒ¨ç½²æœåŠ¡å’Œæ›´é«˜çš„æ“ä½œå¤æ‚æ€§ã€‚

3. æ— æ„ä¸­å°†BFFè½¬æ¢ä¸ºå®Œæ•´çš„APIæœåŠ¡å™¨ï¼Œå…¶ä¸­åŒ…å«ä¸šåŠ¡é€»è¾‘ã€æ•°æ®åº“ã€å®‰å…¨æ€§ç­‰ã€‚åº”è¯¥ä¿æŒBFF çš„è½»é‡çº§å¹¶ä¸“æ³¨äºä¸»è¦åœºæ™¯ï¼šé’ˆå¯¹ä¸åŒç«¯é«˜æ•ˆå¤„ç†æ•°æ®ã€‚

4. æ²¡æœ‰è®¤è¯†åˆ°BFFæ˜¯å•ç‚¹æ•…éšœè¿™ä¸€äº‹å®ã€‚BFFå¯èƒ½ä¼šä¸è®¸å¤šæœåŠ¡é€šä¿¡è¿™ä¸€äº‹å®æ„å‘³ç€ä»»ä½•ä¸‹æ¸¸æœåŠ¡ä¸­çš„æ•…éšœéƒ½å¯èƒ½ä¼ æ’­åˆ°BFFï¼Œå¯ä»¥è€ƒè™‘ç”¨å†—ä½™å’Œå¼‚æ­¥æ¥è§£å†³è¿™äº›é—®é¢˜â€”â€”å°±åƒå¤„ç†å…¶ä»–ç±»å‹çš„å¾®æœåŠ¡ä¸€æ ·ã€‚

## å…«ã€BFFçš„æŠ€æœ¯é€‰å‹
BFFä¸Node.jsæ²¡æœ‰å¼ºç»‘å®šå…³ç³»ï¼Œä½†æ˜¯è®©å‰ç«¯äººå‘˜ç†Ÿæ‚‰Node.jsä»¥å¤–çš„åç«¯è¯­è¨€å­¦ä¹ æˆæœ¬å¤ªé«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æŠ€æœ¯æ ˆä¸Šä½¿ç”¨Node.jsæ¥å®ç°BFFã€‚ä¸‹é¢åˆ—å‡ºä¸€äº›å¸¸ç”¨çš„Node.jsæ¡†æ¶ï¼ˆæœ‰ï¼šExpressã€Koaã€Eggã€Nestã€Sailsã€AdonisJSã€restifyã€Emberã€Hapiã€Fastifyã€Tower(äº¬ä¸œå†…éƒ¨)ï¼‰ï¼Œå¯¹ä½¿ç”¨è¿‡çš„åšäº†ä¸€äº›ä¼˜ç¼ºç‚¹æ€»ç»“(ä¸ªäººè§‚ç‚¹)ã€‚

1. [Express](https://expressjs.com/)
> Express is a minimal and flexible Node.js web application framework that provides a robust set of features for web and mobile applications.

ä¼˜ç‚¹ï¼š
- å¯¹å¾ˆå¤šç¬¬ä¸‰æ–¹æ’ä»¶çš„å¼ºåŠ›æ”¯æŒ
- ç®€å•è€Œå¼ºå¤§çš„æ ¹API
- å¤§åŠ›æ”¯æŒä¸­é—´ä»¶æ¨¡å¼

ç¼ºç‚¹ï¼š
- ç¼ºä¹æ ‡å‡†åŒ–
- å›è°ƒåœ°ç‹±
- å¼‚å¸¸æ•è·å›°éš¾

2. [Koa](https://koajs.com/)
> By leveraging async functions, Koa allows you to ditch callbacks and greatly increase error-handling. Koa does not bundle any middleware within its core, and it provides an elegant suite of methods that make writing servers fast and enjoyable.

ä¼˜ç‚¹ï¼š
- æ²¡æœ‰å›è°ƒåœ°ç‹±ï¼ˆKoa1é‡‡ç”¨äº†Generatorå‡½æ•°+yieldè¯­å¥+Promiseè¯­å¥ï¼›Koa2é‡‡ç”¨äº†async/await+Promiseåˆ†åˆ«æ¥å¤„ç†å¼‚æ­¥æ“ä½œï¼‰
- æ¨¡å—åŒ–ç»“æ„ï¼ˆæ¯”å¦‚ï¼Œå°†body parserä½œä¸ºä¸€ä¸ªå‡½æ•°è€Œä¸æ˜¯ä¸€ä¸ªä¸­é—´ä»¶ï¼‰

ç¼ºç‚¹ï¼š
- ç¤¾åŒºç›¸å¯¹è¾ƒå°

3. [Egg](https://www.eggjs.org/)
> Egg.js ä¸ºä¼ä¸šçº§æ¡†æ¶å’Œåº”ç”¨è€Œç”Ÿã€‚Egg çš„å®šä½æ˜¯æ¡†æ¶çš„æ¡†æ¶ï¼Œåœ¨ Koa çš„åŸºç¡€ä¸Šæä¾›äº†ä¸€å¥—åŠ è½½è§„èŒƒï¼Œä»è€Œå»¶ä¼¸å‡ºæ’ä»¶å’Œä¸Šå±‚æ¡†æ¶çš„æ¦‚å¿µï¼Œè¾¾åˆ°ç”Ÿæ€å…±å»ºå’Œå·®å¼‚åŒ–å®šåˆ¶çš„å¹³è¡¡ç‚¹ï¼ŒåŠ©åŠ›ä¸åŒå›¢é˜Ÿçš„æ¶æ„å¸ˆå­µåŒ–å‡ºé€‚åˆè‡ªèº«ä¸šåŠ¡åœºæ™¯çš„ä¸Šå±‚æ¡†æ¶ã€‚

ç”±äºæˆ‘ä»¬ä½¿ç”¨eggå®è·µçš„BFFï¼Œæ‰€ä»¥ä»å®¢è§‚æ€§çš„è§’åº¦è€ƒè™‘ï¼Œå…¶ä¼˜ç‚¹ä¸äºˆç½®è¯„ğŸ¤«

ç¼ºç‚¹ï¼š
- é…ç½®çš„åˆå¹¶è§„åˆ™ï¼Œæ ¹æ®ä¼˜å…ˆçº§ï¼Œå¯¹äºç›¸åŒçš„é¡¹ï¼Œåº”ç”¨çš„é…ç½®ä¼šè¦†ç›–æ’ä»¶çš„é…ç½®ï¼Œè€Œæœ‰æ—¶æƒ³è¦çš„æ˜¯åŒæ—¶ä¿ç•™çš„ç»“æœ

4. [Nest](https://nestjs.com/)
> Nest is a framework for building efficient, scalable Node.js server-side applications. It uses progressive JavaScript, is built with TypeScript (preserves compatibility with pure JavaScript) and combines elements of OOP (Object Oriented Programming), FP (Functional Programming), and FRP (Functional Reactive Programming). Under the hood, Nest makes use of Express, but also, provides compatibility with a wide range of other libraries, like e.g. Fastify, allowing for easy use of the myriad third-party plugins which are available.

ä¼˜ç‚¹ï¼š
- åŸºäºTypeScriptå¼€å‘
- æœ‰ä¸€å¥—ç”¨äºç”Ÿæˆä»£ç çš„cliï¼ˆæ¯”å¦‚nest g resource [name]ã€nest g controller [name]ç­‰ï¼‰
- æ¨¡å—åŒ–ç»“æ„ï¼ˆå†…ç½®äº†ä¸€ä¸ªDIå®¹å™¨ï¼‰

ç¼ºç‚¹ï¼š
- Nest.js å¯¹äºæ²¡æœ‰ Angular èƒŒæ™¯çš„æ–°æ‰‹å¼€å‘è€…æ¥è¯´å¯èƒ½æœ‰ç‚¹éš¾ä»¥å­¦ä¹ å’ŒæŒæ¡ã€‚æ­¤å¤–ï¼Œç”±äºå¹¶éæ¯ä¸ª JavaScript å¼€å‘äººå‘˜éƒ½ä½¿ç”¨ TypeScriptï¼Œå› æ­¤è¯¥æ¡†æ¶å¯¹äºè¿™äº›å¼€å‘äººå‘˜æ¥è¯´ä¹Ÿå¾ˆå›°éš¾ã€‚

5. [Sails](https://sailsjs.com/)
> Sails is the most popular MVC framework for Node.js, designed to emulate the familiar MVC pattern of frameworks like Ruby on Rails, but with support for the requirements of modern apps: data-driven APIs with a scalable, service-oriented architecture.

6. [AdonisJS](https://adonisjs.com/)
> AdonisJS is a fully featured web framework for Node.js. The framework is written in TypeScript, and includes everything you need to create a fully functional web app or an API server.

7. [restify](http://restify.com/)
> A Node.js web service framework optimized for building semantically correct RESTful web services ready for production use at scale. restify optimizes for introspection and performance, and is used in some of the largest Node.js deployments on Earth.

8. [Ember](https://emberjs.com/)
> Ember.js is a productive, battle-tested JavaScript framework for building modern web applications. It includes everything you need to build rich UIs that work on any device.

9. [Hapi](https://hapi.dev/)
> Buildpowerful,scalable applications, withminimal overheadand fullout-of-the-boxfunctionality.

10. [Fastify](https://www.fastify.io/)
> Fastify is a web framework highly focused on providing the best developer experience with the least overhead and a powerful plugin architecture, inspired by Hapi and Express.

å¦‚æœæ‚¨ä¹Ÿä½¿ç”¨Node.jsçš„æ¡†æ¶æ¥æ­å»ºé¡¹ç›®ï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ¥æŒ‘é€‰é€‚åˆè‡ªå·±çš„ï¼š
- æ˜“äºå®‰è£…å’Œä½¿ç”¨ï¼Œæœ‰æ´»è·ƒç¤¾åŒºçš„æ”¯æŒ
- å­¦ä¹ æˆæœ¬
- å¥å…¨çš„æ–‡æ¡£
- æ˜“äºåˆ›å»ºæ‰©å±•
- é¿å…ä½¿ç”¨å¤æ‚ä¸”éš¾ä»¥ç†è§£çš„æ¡†æ¶
- æ˜“äºè°ƒè¯•åŠæµ‹è¯•
- æ€§èƒ½ç­‰

ä¸ç®¡é€‰æ‹©å“ªä¸ªæ¡†æ¶ï¼Œå°½é‡ä¸è¦æ²‰è¿·äºæ¡†æ¶ï¼Œè€Œå¿½ç•¥äº†Node.jsæœ¬èº«çš„èƒ½åŠ›ã€‚

## é™„ã€å‚è€ƒåŠå»¶ä¼¸
- [Pattern: Backends For Frontendsï¼ˆSingle-purpose Edge Services for UIs and external partiesï¼‰](https://samnewman.io/patterns/architectural/bff/)
- [The Back-end for Front-end Pattern (BFF)](https://philcalcado.com/2015/09/18/the_back_end_for_front_end_pattern_bff.html)
- [Discussing Backend For Front-end](https://dev.to/apisix/discussing-backend-for-front-end-192a)
- [Frontend Architectural Patterns: Backends-For-Frontends](https://medium.com/frontend-at-scale/frontend-architectural-patterns-backend-for-frontend-29679aba886c)
- [Introduction to BFF and NestJS](https://dev.to/qiuzhi99/introduction-to-bff-and-nestjs-13mo)
- [Learn To Love Your Jamstack BFF](https://dev.to/remotesynth/learn-to-love-your-jamstack-bff-4ej3)
- [What Is Nest.js? A Look at the Lightweight JavaScript Framework](https://kinsta.com/knowledgebase/nestjs/#pros-and-cons-of-nestjs)
- [How To Choose The Right Framework For Your Next Node.js App](https://dev.to/osam1010/how-to-choose-the-right-framework-for-your-next-nodejs-app-2c1e)
- [Node.jsä¸»æµWebæ¡†æ¶å¯¹æ¯”](https://cloud.tencent.com/developer/news/434092)
