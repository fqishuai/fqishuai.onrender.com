---
slug: data-types
tags: [js-base]
---

:::info
JavaScript æ²¡æœ‰è¾“å…¥æˆ–è¾“å‡ºçš„æ¦‚å¿µï¼Œå®ƒæ˜¯ä¸€ä¸ªåœ¨å®¿ä¸»ç¯å¢ƒï¼ˆhost environmentï¼‰ä¸‹è¿è¡Œçš„è„šæœ¬è¯­è¨€ï¼Œä»»ä½•ä¸å¤–ç•Œæ²Ÿé€šçš„æœºåˆ¶éƒ½æ˜¯ç”±å®¿ä¸»ç¯å¢ƒæä¾›çš„ã€‚æµè§ˆå™¨æ˜¯æœ€å¸¸è§çš„å®¿ä¸»ç¯å¢ƒï¼Œä½†åœ¨éå¸¸å¤šçš„å…¶ä»–ç¨‹åºä¸­ä¹ŸåŒ…å« JavaScript è§£é‡Šå™¨ï¼Œå¦‚ Adobe Acrobatã€Adobe Photoshopã€SVG å›¾åƒã€Yahooï¼çš„ Widget å¼•æ“ï¼ŒNode.js ä¹‹ç±»çš„æœåŠ¡å™¨ç«¯ç¯å¢ƒï¼ŒNoSQL æ•°æ®åº“ï¼ˆå¦‚å¼€æºçš„ [Apache CouchDB](https://couchdb.apache.org/))ã€åµŒå…¥å¼è®¡ç®—æœºï¼Œä»¥åŠåŒ…æ‹¬ [GNOME](https://www.gnome.org/)ï¼ˆæ³¨ï¼šGNU/Linux ä¸Šæœ€æµè¡Œçš„ GUI ä¹‹ä¸€ï¼‰åœ¨å†…çš„æ¡Œé¢ç¯å¢ƒç­‰ç­‰ã€‚

JavaScript æ˜¯ä¸€ç§å¤šèŒƒå¼çš„â€œåŠ¨æ€ç±»å‹â€ï¼ˆdynamically typedï¼‰è¯­è¨€ï¼Œå®ƒåŒ…å«ç±»å‹ã€è¿ç®—ç¬¦ã€æ ‡å‡†å†…ç½®ï¼ˆbuilt-inï¼‰å¯¹è±¡å’Œæ–¹æ³•ã€‚
> â€œåŠ¨æ€ç±»å‹â€ï¼ˆdynamically typedï¼‰çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ„æ€æ˜¯è™½ç„¶ç¼–ç¨‹è¯­è¨€ä¸­æœ‰ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œä½†æ˜¯ä½ å®šä¹‰çš„å˜é‡å¹¶ä¸ä¼šåœ¨å®šä¹‰åï¼Œè¢«é™åˆ¶ä¸ºæŸä¸€æ•°æ®ç±»å‹ã€‚

JavaScript æ”¯æŒé¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚JavaScriptæ˜¯é€šè¿‡**[åŸå‹é“¾ï¼ˆprototype chainï¼‰](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain)**è€Œä¸æ˜¯ [ç±»](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Classes) æ¥æ”¯æŒé¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚

JavaScript ä¹Ÿæ”¯æŒå‡½æ•°å¼ç¼–ç¨‹ã€‚åœ¨JavaScriptä¸­ï¼Œå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå‡½æ•°ä¹Ÿå¯ä»¥è¢«ä¿å­˜åœ¨å˜é‡ä¸­ï¼Œå¹¶ä¸”åƒå…¶ä»–å¯¹è±¡ä¸€æ ·è¢«ä¼ é€’ã€‚

å­¦ä¹ èµ„æ–™ï¼š
- [é‡æ–°ä»‹ç» JavaScript](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Language_Overview)
- [Learn ES2015](https://babeljs.io/docs/en/learn)
- [ecma](https://www.ecma-international.org/)
- [tc39](https://tc39.es/) æ‰€å± Ecma International çš„ TC39 æ˜¯ä¸€ä¸ªç”± JavaScript å¼€å‘è€…ã€å®ç°è€…ã€å­¦è€…ç­‰ç»„æˆçš„å›¢ä½“ï¼Œä¸ JavaScript ç¤¾åŒºåˆä½œç»´æŠ¤å’Œå‘å±• JavaScript çš„æ ‡å‡†ã€‚
:::

## ä¸¥æ ¼æ¨¡å¼
- "use strict" æˆ–è€… 'use strict'ï¼Œå½“å®ƒå¤„äºè„šæœ¬æ–‡ä»¶çš„é¡¶éƒ¨ï¼ˆè¯·ç¡®ä¿ "use strict" å‡ºç°åœ¨è„šæœ¬çš„æœ€é¡¶éƒ¨ï¼Œå¦åˆ™ä¸¥æ ¼æ¨¡å¼å¯èƒ½æ— æ³•å¯ç”¨ã€‚åªæœ‰æ³¨é‡Šå¯ä»¥å‡ºç°åœ¨ "use strict" çš„ä¸Šé¢ã€‚ï¼‰æ—¶ï¼Œåˆ™æ•´ä¸ªè„šæœ¬æ–‡ä»¶éƒ½å°†ä»¥â€œç°ä»£â€æ¨¡å¼è¿›è¡Œå·¥ä½œã€‚
- "use strict" å¯ä»¥è¢«æ”¾åœ¨å‡½æ•°ä½“çš„å¼€å¤´ï¼Œè¿™æ ·åˆ™å¯ä»¥åªåœ¨è¯¥å‡½æ•°ä¸­å¯ç”¨ä¸¥æ ¼æ¨¡å¼ã€‚
- ç°ä»£ JavaScript æ”¯æŒ â€œclassâ€ å’Œ â€œmoduleâ€ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨å¯ç”¨ use strictã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨å®ƒä»¬ï¼Œåˆ™æ— éœ€æ·»åŠ  "use strict" æŒ‡ä»¤ã€‚

ä¾‹å¦‚ï¼Œæ—§ç‰ˆæœ¬ä¸­å¯ä»¥ç®€å•åœ°é€šè¿‡èµ‹å€¼æ¥åˆ›å»ºä¸€ä¸ªå˜é‡ã€‚ç°åœ¨å¦‚æœæˆ‘ä»¬ä¸åœ¨è„šæœ¬ä¸­ä½¿ç”¨ use strict å£°æ˜å¯ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œè¿™ä»ç„¶å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œè¿™æ˜¯ä¸ºäº†ä¿æŒå¯¹æ—§è„šæœ¬çš„å…¼å®¹ã€‚
```js
// æ³¨æ„ï¼šè¿™ä¸ªä¾‹å­ä¸­æ²¡æœ‰ "use strict"

num = 5; // å¦‚æœå˜é‡ "num" ä¸å­˜åœ¨ï¼Œå°±ä¼šè¢«åˆ›å»º

alert(num); // 5
```
```js
"use strict";

num = 5; // é”™è¯¯ï¼šnum æœªå®šä¹‰
```

## æ•°æ®ç±»å‹-æ¦‚è¿°
åœ¨ JavaScript ä¸­æœ‰ 8 ç§åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼ˆ7 ç§åŸå§‹ç±»å‹å’Œ 1 ç§å¼•ç”¨ç±»å‹ï¼‰ï¼š
1. ä¸ƒç§åŸå§‹æ•°æ®ç±»å‹ï¼š
- "number" ç”¨äºä»»ä½•ç±»å‹çš„æ•°å­—ï¼šæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œåœ¨ Â±(2^53-1) èŒƒå›´å†…çš„æ•´æ•°ã€‚
- "bigint" ç”¨äºä»»æ„é•¿åº¦çš„æ•´æ•°ã€‚
- "string" ç”¨äºå­—ç¬¦ä¸²ï¼šä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»¥åŒ…å« 0 ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥æ²¡æœ‰å•ç‹¬çš„å•å­—ç¬¦ç±»å‹ã€‚
- "boolean" ç”¨äº true å’Œ falseã€‚
- "null" ç”¨äºæœªçŸ¥çš„å€¼ â€”â€” åªæœ‰ä¸€ä¸ª `null` å€¼çš„ç‹¬ç«‹ç±»å‹ã€‚
- "undefined" ç”¨äºæœªå®šä¹‰çš„å€¼ â€”â€” åªæœ‰ä¸€ä¸ª `undefined` å€¼çš„ç‹¬ç«‹ç±»å‹ã€‚
- "symbol" ç”¨äºå”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚

2. ä¸€ç§éåŸå§‹æ•°æ®ç±»å‹ï¼š
- "object" ç”¨äºæ›´å¤æ‚çš„æ•°æ®ç»“æ„ã€‚

## æ•°æ®ç±»å‹-Numberç±»å‹
Number ç±»å‹ï¼ŒåŒ…æ‹¬æ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œè¿˜åŒ…æ‹¬æ‰€è°“çš„â€œç‰¹æ®Šæ•°å€¼ï¼ˆspecial numeric valuesï¼‰â€ï¼š`Infinity`ã€`-Infinity` å’Œ `NaN`ã€‚
- `Infinity` ä»£è¡¨æ•°å­¦æ¦‚å¿µä¸­çš„ æ— ç©·å¤§ ï¼Œæ˜¯ä¸€ä¸ªæ¯”ä»»ä½•æ•°å­—éƒ½å¤§çš„ç‰¹æ®Šå€¼ã€‚`alert( 1 / 0 ); // Infinity` `alert( 1e500 ); // Infinity`

- `NaN` ä»£è¡¨ä¸€ä¸ªè®¡ç®—é”™è¯¯ã€‚å®ƒæ˜¯ä¸€ä¸ªä¸æ­£ç¡®çš„æˆ–è€…ä¸€ä¸ªæœªå®šä¹‰çš„æ•°å­¦æ“ä½œæ‰€å¾—åˆ°çš„ç»“æœã€‚`NaN` æ˜¯ç²˜æ€§çš„:ä»»ä½•å¯¹ `NaN` çš„è¿›ä¸€æ­¥æ•°å­¦è¿ç®—éƒ½ä¼šè¿”å› `NaN`ï¼ˆåªæœ‰ä¸€ä¸ªä¾‹å¤–ï¼š`NaN ** 0` ç»“æœä¸º 1ï¼‰ã€‚
> å¹‚ï¼ˆ`**`ï¼‰è¿ç®—ç¬¦è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°å–ç¬¬äºŒä¸ªæ“ä½œæ•°çš„å¹‚çš„ç»“æœã€‚å®ƒç­‰ä»·äº `Math.pow()`ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒè¿˜æ¥å— `BigInt` ä½œä¸ºæ“ä½œæ•°ã€‚

<CodeRun>
{
  `
  console.log( "not a number" / 2 ); // NaNï¼Œè¿™æ ·çš„é™¤æ³•æ˜¯é”™è¯¯çš„
  console.log( NaN + 1 ); // NaN
  console.log( 3 * NaN ); // NaN
  console.log( "not a number" / 2 - 1 ); // NaN
  console.log( NaN ** 0 ); // 1
  `
}
</CodeRun>

- `isNaN(value)` å°†`value`è½¬æ¢ä¸ºæ•°å­—ï¼Œç„¶åæµ‹è¯•å®ƒæ˜¯å¦ä¸º `NaN`
  ```js
  alert( isNaN(NaN) );   // true
  alert( isNaN("str") ); // true
  ```

- `isFinite(value)` å°†`value`è½¬æ¢ä¸ºæ•°å­—ï¼Œè½¬æ¢åå¦‚æœæ˜¯å¸¸è§„æ•°å­—è€Œä¸æ˜¯ `NaN`æˆ–`Infinity`æˆ–`-Infinity`ï¼Œåˆ™è¿”å› true
  ```js
  alert( isFinite("15") );     // true
  alert( isFinite("str") );    // falseï¼Œå› ä¸ºæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼šNaN
  alert( isFinite(Infinity) ); // falseï¼Œå› ä¸ºæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼šInfinity
  alert( isFinite(null) );     // true
  alert( isFinite('') );       // true
  ```

:::tip
è¯·æ³¨æ„ï¼Œåœ¨æ‰€æœ‰æ•°å­—å‡½æ•°ä¸­ï¼ŒåŒ…æ‹¬ `isFinite`ï¼Œç©ºå­—ç¬¦ä¸²æˆ–ä»…æœ‰ç©ºæ ¼çš„å­—ç¬¦ä¸²å‡è¢«è§†ä¸º `0`ã€‚
:::

- ä¸‹åˆ’çº¿åˆ†éš”ç¬¦ ä½¿å¾—æ•°å­—å…·æœ‰æ›´å¼ºçš„å¯è¯»æ€§ã€‚JavaScript å¼•æ“ä¼šç›´æ¥å¿½ç•¥æ•°å­—ä¹‹é—´çš„ `_`
  ```js
  let billion = 1_000_000_000;
  ```

- ä½¿ç”¨å­—æ¯`e`æŒ‡å®šé›¶çš„ä¸ªæ•°æ¥ç¼©çŸ­æ•°å­—ã€‚ä¾‹å¦‚ `e3`è¡¨ç¤º`ä¹˜ä»¥10çš„3æ¬¡æ–¹`ï¼›`e-3`è¡¨ç¤º`é™¤ä»¥10çš„3æ¬¡æ–¹`
  ```js
  let billion = 1e9;  // 10 äº¿ï¼Œå­—é¢æ„æ€ï¼šæ•°å­— 1 åé¢è·Ÿ 9 ä¸ª 0

  alert( 7.3e9 );  // 73 äº¿ï¼ˆä¸ 7300000000 å’Œ 7_300_000_000 ç›¸åŒï¼‰

  1e3 === 1 * 1000; // e3 è¡¨ç¤º *1000

  1.23e6 === 1.23 * 1000000; // e6 è¡¨ç¤º *1000000

  0.000001 === 1e-6; // 1 / 10**6
  ```

- åå…­è¿›åˆ¶æ•°å­—ä½¿ç”¨`0x`å‰ç¼€ï¼ŒäºŒè¿›åˆ¶æ•°å­—ä½¿ç”¨`0b`å‰ç¼€ï¼Œå…«è¿›åˆ¶æ•°å­—ä½¿ç”¨`0o`å‰ç¼€ã€‚åªæœ‰è¿™ä¸‰ç§è¿›åˆ¶æ”¯æŒè¿™ç§å†™æ³•ã€‚å¯¹äºå…¶ä»–è¿›åˆ¶ï¼Œåº”è¯¥ä½¿ç”¨å‡½æ•°`parseInt`
  ```js
  alert( 0xff ); // 255
  alert( 0xFF ); // 255ï¼ˆä¸€æ ·ï¼Œå¤§å°å†™æ²¡å½±å“ï¼‰

  let a = 0b11111111; // äºŒè¿›åˆ¶å½¢å¼çš„ 255
  let b = 0o377;      // å…«è¿›åˆ¶å½¢å¼çš„ 255
  alert( a == b );    // trueï¼Œä¸¤è¾¹æ˜¯ç›¸åŒçš„æ•°å­—ï¼Œéƒ½æ˜¯ 255
  ```

- å­˜åœ¨ä¸¤ä¸ªé›¶ï¼š0 å’Œ -0ã€‚è¿™æ˜¯å› ä¸ºåœ¨å­˜å‚¨æ—¶ï¼Œä½¿ç”¨ä¸€ä½æ¥å­˜å‚¨ç¬¦å·ï¼ˆ64ä½å­˜å‚¨ä¸€ä¸ªæ•°å­—ï¼šå…¶ä¸­ 52ä½è¢«ç”¨äºå­˜å‚¨è¿™äº›æ•°å­—ï¼Œ11ä½ç”¨äºå­˜å‚¨å°æ•°ç‚¹çš„ä½ç½®ï¼Œ1ä½ç”¨äºç¬¦å·ï¼‰ï¼Œå› æ­¤å¯¹äºåŒ…æ‹¬é›¶åœ¨å†…çš„ä»»ä½•æ•°å­—ï¼Œå¯ä»¥è®¾ç½®è¿™ä¸€ä½æˆ–è€…ä¸è®¾ç½®ã€‚

### `toString(base)`
æ–¹æ³• `toString(base)` è¿”å›ç»™å®š `base` è¿›åˆ¶ çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚`base` çš„èŒƒå›´å¯ä»¥ä» 2 åˆ° 36ã€‚é»˜è®¤æƒ…å†µä¸‹æ˜¯ 10ã€‚
- base=16 ç”¨äºåå…­è¿›åˆ¶é¢œè‰²ï¼Œå­—ç¬¦ç¼–ç ç­‰ï¼Œæ•°å­—å¯ä»¥æ˜¯ 0..9 æˆ– A..Fã€‚
- base=2 ä¸»è¦ç”¨äºè°ƒè¯•æŒ‰ä½æ“ä½œï¼Œæ•°å­—å¯ä»¥æ˜¯ 0 æˆ– 1ã€‚
  ```js
  let num = 255;

  alert( num.toString(16) );  // ff
  alert( num.toString(2) );   // 11111111
  ```
- base=36 æ˜¯æœ€å¤§è¿›åˆ¶ï¼Œæ•°å­—å¯ä»¥æ˜¯ 0..9 æˆ– A..Zã€‚æ‰€æœ‰æ‹‰ä¸å­—æ¯éƒ½è¢«ç”¨äºäº†è¡¨ç¤ºæ•°å­—ã€‚å¯¹äº 36 è¿›åˆ¶æ¥è¯´ï¼Œä¸€ä¸ªæœ‰è¶£ä¸”æœ‰ç”¨çš„ä¾‹å­æ˜¯ï¼Œå½“æˆ‘ä»¬éœ€è¦å°†ä¸€ä¸ªè¾ƒé•¿çš„æ•°å­—æ ‡è¯†ç¬¦è½¬æ¢æˆè¾ƒçŸ­çš„æ—¶å€™ï¼Œä¾‹å¦‚åšä¸€ä¸ªçŸ­çš„ URLã€‚å¯ä»¥ç®€å•åœ°ä½¿ç”¨åŸºæ•°ä¸º 36 çš„æ•°å­—ç³»ç»Ÿè¡¨ç¤º:
  ```js
  alert( 123456..toString(36) ); // 2n9c
  ```

:::info
å¦‚æœæˆ‘ä»¬æƒ³ç›´æ¥åœ¨ä¸€ä¸ªæ•°å­—ä¸Šè°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œæ¯”å¦‚ä¸Šé¢ä¾‹å­ä¸­çš„ toStringï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨å®ƒåé¢æ”¾ç½®ä¸¤ä¸ªç‚¹ `..`ã€‚å¦‚æœæˆ‘ä»¬æ”¾ç½®ä¸€ä¸ªç‚¹ï¼š`123456.toString(36)`ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°ä¸€ä¸ª errorï¼Œå› ä¸º JavaScript è¯­æ³•éšå«äº†ç¬¬ä¸€ä¸ªç‚¹ä¹‹åçš„éƒ¨åˆ†ä¸ºå°æ•°éƒ¨åˆ†ã€‚å¦‚æœæˆ‘ä»¬å†æ”¾ä¸€ä¸ªç‚¹ï¼Œé‚£ä¹ˆ JavaScript å°±çŸ¥é“å°æ•°éƒ¨åˆ†ä¸ºç©ºï¼Œç°åœ¨ä½¿ç”¨è¯¥æ–¹æ³•ã€‚ä¹Ÿå¯ä»¥å†™æˆ `(123456).toString(36)`ã€‚
:::

### èˆå…¥
å¯¹æ•°å­—è¿›è¡Œèˆå…¥çš„å†…å»ºå‡½æ•°:
- `Math.floor` å‘ä¸‹èˆå…¥
- `Math.ceil` å‘ä¸Šèˆå…¥
- `Math.round` å‘æœ€è¿‘çš„æ•´æ•°èˆå…¥ï¼ˆ0åˆ°4 ä¼šè¢«èˆå»ï¼Œè€Œ 5åˆ°9 ä¼šè¿›ä¸€ä½ï¼‰
- `Math.trunc` ç§»é™¤å°æ•°ç‚¹åçš„æ‰€æœ‰å†…å®¹è€Œæ²¡æœ‰èˆå…¥

![èˆå…¥å‡½æ•°](../img/math.jpeg)

#### å°†æ•°å­—èˆå…¥åˆ°å°æ•°ç‚¹å n ä½
æœ‰ä¸¤ç§æ–¹å¼:
1. ä¹˜é™¤æ³•ã€‚ä¾‹å¦‚ï¼Œè¦å°†æ•°å­—èˆå…¥åˆ°å°æ•°ç‚¹åä¸¤ä½ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°å­—ä¹˜ä»¥ 100ï¼Œè°ƒç”¨èˆå…¥å‡½æ•°ï¼Œç„¶åå†å°†å…¶é™¤å›ã€‚
   ```js
   let num = 1.23456;

   alert( Math.round(num * 100) / 100 ); // 1.23456 -> 123.456 -> 123 -> 1.23
   ```

2. å‡½æ•° `toFixed(n)` å°†æ•°å­—èˆå…¥åˆ°å°æ•°ç‚¹å n ä½ï¼ˆè¿™ä¼šå‘ä¸Šæˆ–å‘ä¸‹èˆå…¥åˆ°æœ€æ¥è¿‘çš„å€¼(0åˆ°4 ä¼šè¢«èˆå»ï¼Œè€Œ 5åˆ°9 ä¼šè¿›ä¸€ä½)ï¼Œç±»ä¼¼äº `Math.round`ï¼‰ï¼Œå¹¶ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›ç»“æœã€‚
   ```js
   let num = 12.34;
   alert( num.toFixed(1) ); // "12.3"

   let num = 12.36;
   alert( num.toFixed(1) ); // "12.4"

   // æ³¨æ„ toFixed çš„ç»“æœæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å¦‚æœå°æ•°éƒ¨åˆ†æ¯”æ‰€éœ€è¦çš„çŸ­ï¼Œåˆ™åœ¨ç»“å°¾æ·»åŠ é›¶
   let num = 12.34;
   alert( num.toFixed(5) ); // "12.34000"ï¼Œåœ¨ç»“å°¾æ·»åŠ äº† 0ï¼Œä»¥è¾¾åˆ°å°æ•°ç‚¹åäº”ä½
   ```

### ç²¾åº¦æŸå¤±
- åœ¨åè¿›åˆ¶æ•°å­—ç³»ç»Ÿä¸­ï¼Œå¯ä»¥ä¿è¯ä»¥ 10 çš„æ•´æ•°æ¬¡å¹‚ä½œä¸ºé™¤æ•°èƒ½å¤Ÿæ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯ä»¥ 3 ä½œä¸ºé™¤æ•°åˆ™ä¸èƒ½ï¼ˆ1/3 æ˜¯æ— é™å¾ªç¯å°æ•° 0.33333(3)ï¼‰ã€‚åŒæ ·çš„åŸå› ï¼Œåœ¨äºŒè¿›åˆ¶æ•°å­—ç³»ç»Ÿä¸­ï¼Œå¯ä»¥ä¿è¯ä»¥ 2 çš„æ•´æ•°æ¬¡å¹‚ä½œä¸ºé™¤æ•°æ—¶èƒ½å¤Ÿæ­£å¸¸å·¥ä½œï¼Œä½† 1/10ï¼ˆ0.1ï¼‰å°±å˜æˆäº†ä¸€ä¸ªæ— é™å¾ªç¯çš„äºŒè¿›åˆ¶å°æ•°ï¼ˆ0.0 0011 0011 0011(0011) 0011æ— é™å¾ªç¯ï¼‰ã€‚åœ¨å†…éƒ¨ï¼Œæ•°å­—æ˜¯ä»¥ 64 ä½æ ¼å¼ IEEE-754 è¡¨ç¤ºçš„ï¼Œæ‰€ä»¥æ­£å¥½æœ‰ 64 ä½å¯ä»¥å­˜å‚¨ä¸€ä¸ªæ•°å­—ï¼šå…¶ä¸­ 52 ä½è¢«ç”¨äºå­˜å‚¨è¿™äº›æ•°å­—ï¼Œå…¶ä¸­ 11 ä½ç”¨äºå­˜å‚¨å°æ•°ç‚¹çš„ä½ç½®ï¼Œè€Œ 1 ä½ç”¨äºç¬¦å·ã€‚æ— é™å¾ªç¯å°æ•°è¶…å‡º64ä½ï¼Œä¼šè¢«æˆªæ–­å¤„ç†ï¼Œå°±ä¼šæŸå¤±ç²¾åº¦ã€‚
  ```js
  alert( 0.1 + 0.2 == 0.3 ); // false

  alert( 0.1 + 0.2 ); // 0.30000000000000004
  ```

- IEEE-754 æ•°å­—æ ¼å¼é€šè¿‡å°†æ•°å­—èˆå…¥åˆ°æœ€æ¥è¿‘çš„å¯èƒ½æ•°å­—æ¥è§£å†³æ­¤é—®é¢˜ã€‚è¿™äº›èˆå…¥è§„åˆ™é€šå¸¸ä¸å…è®¸æˆ‘ä»¬çœ‹åˆ°â€œæå°çš„ç²¾åº¦æŸå¤±â€ï¼Œä½†æ˜¯å®ƒç¡®å®å­˜åœ¨ã€‚
  ```js
  alert( 0.1.toFixed(20) ); // 0.10000000000000000555
  alert( 9999999999999999 ); // æ˜¾ç¤º 10000000000000000
  ```

- æœ€å¯é çš„æ–¹æ³•æ˜¯å€ŸåŠ©æ–¹æ³• `toFixed(n)` å¯¹ç»“æœè¿›è¡Œèˆå…¥ï¼Œä»¥è§£å†³ç²¾åº¦æŸå¤±çš„é—®é¢˜ï¼ˆå³ï¼Œåœ¨å¿…è¦æ—¶å‰ªæ‰å…¶â€œå°¾å·´â€æ¥å¯¹å…¶è¿›è¡Œèˆå…¥ï¼‰
  ```js
  let sum = 0.1 + 0.2;
  alert( sum.toFixed(2) ); // "0.30"
  alert( +sum.toFixed(2) ); // 0.3
  ```
  :::warning
  ä¸ºä»€ä¹ˆ 6.35 è¢«èˆå…¥ä¸º 6.3 è€Œä¸æ˜¯ 6.4ï¼Ÿ
  <CodeRun>{`
  console.log( 6.35.toFixed(1) ); // "6.3"
  console.log( 1.35.toFixed(1) ); // "1.4"
  `}</CodeRun>
  åœ¨å†…éƒ¨ï¼Œ6.35 çš„å°æ•°éƒ¨åˆ†æ˜¯ä¸€ä¸ªæ— é™çš„äºŒè¿›åˆ¶ï¼Œå®ƒçš„å­˜å‚¨ä¼šé€ æˆç²¾åº¦æŸå¤±ã€‚ç²¾åº¦æŸå¤±å¯èƒ½ä¼šå¯¼è‡´æ•°å­—çš„å¢åŠ å’Œå‡å°ã€‚
  <CodeRun>{`
  // å¯ä»¥çœ‹åˆ° 6.35 å­˜å‚¨çš„å…¶å®æ˜¯ 6.34999...
  console.log( 6.35.toFixed(20) ); // "6.34999999999999964473"
  console.log( 1.35.toFixed(20) ); // "1.35000000000000008882"
  `}</CodeRun>
  åº”è¯¥å¦‚ä½•è§£å†³ 6.35 çš„èˆå…¥é—®é¢˜å‘¢ï¼Ÿåœ¨è¿›è¡Œèˆå…¥å‰ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿å…¶æ›´æ¥è¿‘æ•´æ•°ï¼š
  <CodeRun>{`
  console.log( Math.round(6.35 * 10) / 10); // 6.35 -> 63.5 -> 64(rounded) -> 6.4
  // 63.5 å®Œå…¨æ²¡æœ‰ç²¾åº¦æŸå¤±ã€‚è¿™æ˜¯å› ä¸ºå°æ•°éƒ¨åˆ† 0.5 å®é™…ä¸Šæ˜¯ 1/2ï¼Œä»¥ 2 çš„æ•´æ•°æ¬¡å¹‚ä¸ºåˆ†æ¯çš„å°æ•°åœ¨äºŒè¿›åˆ¶æ•°å­—ç³»ç»Ÿä¸­å¯ä»¥è¢«ç²¾ç¡®åœ°è¡¨ç¤ºã€‚
  console.log( (6.35 * 10).toFixed(20) );   // "63.50000000000000000000"
  `}</CodeRun>
  :::

- ä¹˜/é™¤æ³•å¯ä»¥å‡å°‘è¯¯å·®ï¼Œä½†ä¸èƒ½å®Œå…¨æ¶ˆé™¤è¯¯å·®ã€‚
  ```js
  alert( (0.1 * 10 + 0.2 * 10) / 10 ); // 0.3
  alert( (0.28 * 100 + 0.14 * 100) / 100); // 0.4200000000000001
  ```

- ç”±äºç²¾åº¦æŸå¤±çš„é—®é¢˜å­˜åœ¨ï¼Œæ‰€ä»¥åœ¨å¤„ç†å°æ•°æ—¶åº”é¿å…ç›¸ç­‰æ€§æ£€æŸ¥ã€‚

### `parseInt` å’Œ `parseFloat`
`parseInt` å’Œ `parseFloat` å¯ä»¥ä»å­—ç¬¦ä¸²ä¸­â€œè¯»å–â€æ•°å­—ï¼Œç›´åˆ°æ— æ³•è¯»å–ä¸ºæ­¢ã€‚å¦‚æœå‘ç”Ÿ errorï¼Œåˆ™è¿”å›æ”¶é›†åˆ°çš„æ•°å­—ã€‚å‡½æ•° `parseInt` è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè€Œ `parseFloat` è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°
<CodeRun>{`
console.log( parseInt('100px') );    // 100
console.log( parseFloat('12.5em') ); // 12.5
console.log( parseInt('12.3') );     // 12ï¼Œåªæœ‰æ•´æ•°éƒ¨åˆ†è¢«è¿”å›äº†
console.log( parseFloat('12.3.4') ); // 12.3ï¼Œåœ¨ç¬¬äºŒä¸ªç‚¹å¤„åœæ­¢äº†è¯»å–
`}</CodeRun>

- å¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦å°±æ˜¯éæ•°å­—ï¼Œåˆ™ä¼šè¿”å›`NaN`
  <CodeRun>{`
  console.log( parseInt('a123') );
  console.log( parseFloat('a123') );
  `}</CodeRun>

- `parseInt` å‡½æ•°å…·æœ‰å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œå®ƒæŒ‡å®šäº†æ•°å­—ç³»ç»Ÿçš„åŸºæ•°ï¼Œå› æ­¤ `parseInt` è¿˜å¯ä»¥è§£æåå…­è¿›åˆ¶æ•°å­—ã€äºŒè¿›åˆ¶æ•°å­—ç­‰çš„å­—ç¬¦ä¸²
  <CodeRun>{`
  console.log( parseInt('0xff', 16) ); // 255
  console.log( parseInt('ff', 16) );   // 255ï¼Œæ²¡æœ‰ 0x ä»ç„¶æœ‰æ•ˆ
  console.log( parseInt('2n9c', 36) ); // 123456
  `}</CodeRun>

### å…¶ä»–æ•°å­¦å‡½æ•°
JavaScript æœ‰ä¸€ä¸ªå†…å»ºçš„ Math å¯¹è±¡ï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªå°å‹çš„æ•°å­¦å‡½æ•°å’Œå¸¸é‡åº“ã€‚
- `Math.random()` è¿”å›ä¸€ä¸ªä» 0 åˆ° 1 çš„éšæœºæ•°ï¼ˆä¸åŒ…æ‹¬ 1ï¼‰
- `Math.max(a, b, c...)` ä»ä»»æ„æ•°é‡çš„å‚æ•°ä¸­è¿”å›æœ€å¤§å€¼
- `Math.min(a, b, c...)` ä»ä»»æ„æ•°é‡çš„å‚æ•°ä¸­è¿”å›æœ€å°å€¼
- `Math.pow(n, power)` è¿”å› n çš„ç»™å®šï¼ˆpowerï¼‰æ¬¡å¹‚
- ...ç­‰ç­‰

## æ•°æ®ç±»å‹-BigIntç±»å‹
- åœ¨ JavaScript ä¸­ï¼ŒNumber ç±»å‹è¶…å‡ºå®‰å…¨æ•´æ•°èŒƒå›´ Â±(2^53-1) ä¼šå‡ºç°ç²¾åº¦é—®é¢˜ï¼Œå› ä¸ºå¹¶éæ‰€æœ‰æ•°å­—éƒ½é€‚åˆå›ºå®šçš„ 64 ä½å­˜å‚¨ã€‚å› æ­¤ï¼Œå¯èƒ½å­˜å‚¨çš„æ˜¯â€œè¿‘ä¼¼å€¼â€ã€‚å¦‚ä¸‹ä¸¤ä¸ªæ•°å­—ï¼ˆæ­£å¥½è¶…å‡ºäº†å®‰å…¨æ•´æ•°èŒƒå›´ï¼‰æ˜¯ç›¸åŒçš„ï¼š
<CodeRun>
{
  `
  console.log(9007199254740991 + 1); // 9007199254740992
  console.log(9007199254740991 + 2); // 9007199254740992
  `
}
</CodeRun>

- BigInt ç±»å‹ç”¨äºè¡¨ç¤ºä»»æ„é•¿åº¦çš„æ•´æ•°ã€‚å¯ä»¥é€šè¿‡å°† `n` é™„åŠ åˆ°æ•´æ•°å­—æ®µçš„æœ«å°¾æ¥åˆ›å»º BigInt å€¼ã€‚
  ```js
  // å°¾éƒ¨çš„ "n" è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ª BigInt ç±»å‹
  const bigInt = 1234567890123456789012345678901234567890n;
  ```


## æ•°æ®ç±»å‹-Stringç±»å‹
- å­—ç¬¦ä¸²çš„å†…éƒ¨ä½¿ç”¨ UTF-16 ç¼–ç (å³ï¼šæ¯ä¸ªå­—ç¬¦éƒ½æœ‰å¯¹åº”çš„æ•°å­—ä»£ç )ï¼Œå®ƒä¸ä¾èµ–äºé¡µé¢ç¼–ç ã€‚
- å•å¼•å·å’ŒåŒå¼•å·åŸºæœ¬ç›¸åŒã€‚åå¼•å·å…è®¸æˆ‘ä»¬é€šè¿‡ `${â€¦}` å°†ä»»ä½•è¡¨è¾¾å¼åµŒå…¥åˆ°å­—ç¬¦ä¸²ä¸­ã€‚ä½¿ç”¨åå¼•å·çš„å¦ä¸€ä¸ªä¼˜ç‚¹æ˜¯å®ƒä»¬å…è®¸å­—ç¬¦ä¸²è·¨è¡Œã€‚
- åå¼•å·è¿˜å…è®¸æˆ‘ä»¬åœ¨ç¬¬ä¸€ä¸ªåå¼•å·ä¹‹å‰æŒ‡å®šä¸€ä¸ªâ€œæ¨¡ç‰ˆå‡½æ•°â€ã€‚è¯­æ³•æ˜¯ï¼š
  ```js
  func`string` // å‡½æ•° func è¢«è‡ªåŠ¨è°ƒç”¨ï¼Œæ¥æ”¶å­—ç¬¦ä¸²å’ŒåµŒå…¥å¼è¡¨è¾¾å¼ï¼Œå¹¶å¤„ç†å®ƒä»¬ã€‚
  ```

- è¦è·å–åœ¨ `pos` ä½ç½®çš„ä¸€ä¸ªå­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ‹¬å· `[pos]` æˆ–è€…è°ƒç”¨ `charAt(pos)` æ–¹æ³•ï¼ˆç¬¬ä¸€ä¸ªå­—ç¬¦ä»é›¶ä½ç½®å¼€å§‹ï¼‰ã€‚å®ƒä»¬ä¹‹é—´çš„å”¯ä¸€åŒºåˆ«æ˜¯ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å­—ç¬¦ï¼Œæ–¹æ‹¬å· `[pos]` è¿”å› `undefined`ï¼Œè€Œ `charAt(pos)` æ–¹æ³• è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚
  ```js
  let str = `Hello`;

  alert( str[1000] );        // undefined
  alert( str.charAt(1000) ); // ''ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰
  ```

- ä¹Ÿå¯ä»¥ä½¿ç”¨ `for..of` éå†å­—ç¬¦ä¸²ï¼Œå³å­—ç¬¦ä¸²æ˜¯å¯è¿­ä»£çš„ã€‚
  ```js
  for (let char of "Hello") {
    alert(char); // H,e,l,l,o
  }
  ```

- åœ¨ JavaScript ä¸­ï¼Œå­—ç¬¦ä¸²ä¸å¯æ›´æ”¹ã€‚
  ```js
  let str = 'Hi';

  str[0] = 'h'; // éä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šå¿½ç•¥ï¼›ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥é”™ TypeError: Cannot assign to read only property '0' of string 'Hi'
  console.log(str[0]);
  ```

- `toLowerCase()` å’Œ `toUpperCase()` æ–¹æ³•å¯ä»¥æ”¹å˜å¤§å°å†™
  ```js
  alert( 'Interface'.toUpperCase() );    // INTERFACE
  alert( 'Interface'.toLowerCase() );    // interface
  alert( 'Interface'[0].toLowerCase() ); // 'i'
  ```

### ç‰¹æ®Šå­—ç¬¦
- æ‰€æœ‰çš„ç‰¹æ®Šå­—ç¬¦éƒ½ä»¥åæ–œæ å­—ç¬¦ `\` å¼€å§‹ã€‚å®ƒä¹Ÿè¢«ç§°ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€ã€‚
![ç‰¹æ®Šå­—ç¬¦åˆ—è¡¨](../img/special_characters.jpeg)

- æ³¨æ„ï¼šåæ–œæ  `\` åœ¨ JavaScript ä¸­ç”¨äºæ­£ç¡®è¯»å–å­—ç¬¦ä¸²ï¼Œç„¶åæ¶ˆå¤±ã€‚ç”¨ä½œè½¬ä¹‰å­—ç¬¦æ—¶ï¼Œå†…å­˜ä¸­çš„å­—ç¬¦ä¸²æ²¡æœ‰ `\`ã€‚

æ¢è¡Œç¬¦ï¼š
```js
let str1 = "Hello\nWorld"; // ä½¿ç”¨â€œæ¢è¡Œç¬¦â€åˆ›å»ºçš„ä¸¤è¡Œå­—ç¬¦ä¸²

// ä½¿ç”¨åå¼•å·å’Œæ™®é€šçš„æ¢è¡Œåˆ›å»ºçš„ä¸¤è¡Œå­—ç¬¦ä¸²
let str2 = `Hello
World`;

alert(str1 == str2); // true
```

Unicode ç¤ºä¾‹:
```js
alert( "\u00A9" );    // Â©
alert( "\u{20331}" ); // ä½«ï¼Œç½•è§çš„ä¸­å›½è±¡å½¢æ–‡å­—ï¼ˆé•¿ Unicodeï¼‰
alert( "\u{1F60D}" ); // ğŸ˜ï¼Œç¬‘è„¸ç¬¦å·ï¼ˆå¦ä¸€ä¸ªé•¿ Unicodeï¼‰
```

### `length`å±æ€§
`length`å±æ€§è¡¨ç¤ºå­—ç¬¦ä¸²é•¿åº¦ã€‚è¯·æ³¨æ„ `length` æ˜¯ä¸€ä¸ªå±æ€§ï¼Œè€Œä¸æ˜¯å‡½æ•°ï¼Œåé¢ä¸éœ€è¦æ·»åŠ æ‹¬å·ã€‚
```js
alert( `My\n`.length ); // 3 æ³¨æ„ \n æ˜¯ä¸€ä¸ªå•ç‹¬çš„â€œç‰¹æ®Šâ€å­—ç¬¦
```

### æŸ¥æ‰¾å­å­—ç¬¦ä¸²
#### `indexOf(substr, pos)` å’Œ `lastIndexOf(substr, position)`
`indexOf(substr, pos)` ä»ç»™å®šä½ç½® `pos`(å¯é€‰å‚æ•°) å¼€å§‹ï¼Œåœ¨ str ä¸­æŸ¥æ‰¾ substrï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å› -1ï¼Œå¦åˆ™è¿”å›åŒ¹é…æˆåŠŸçš„ä½ç½®ã€‚æ£€ç´¢æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚
```js
let str = 'Widget with id';

alert( str.indexOf('Widget') ); // 0ï¼Œå› ä¸º 'Widget' ä¸€å¼€å§‹å°±è¢«æ‰¾åˆ°
alert( str.indexOf('widget') ); // -1ï¼Œæ²¡æœ‰æ‰¾åˆ°ï¼Œæ£€ç´¢æ˜¯å¤§å°å†™æ•æ„Ÿçš„

alert( str.indexOf("id") ); // 1ï¼Œ"id" åœ¨ä½ç½® 1 å¤„ï¼ˆâ€¦â€¦idget å’Œ idï¼‰
// ä»ä½ç½® 2 å¼€å§‹æ£€ç´¢
alert( str.indexOf('id', 2) ) // 12
```

æŸ¥æ‰¾å­å­—ç¬¦ä¸²çš„æ‰€æœ‰ä½ç½®ï¼š
```js
let str = "As sly as a fox, as strong as an ox";
let target = "as";

let pos = -1;
while ((pos = str.indexOf(target, pos + 1)) != -1) {
  alert( pos );
}
```

`lastIndexOf(substr, position)` ä»å­—ç¬¦ä¸²çš„æœ«å°¾å¼€å§‹æœç´¢åˆ°å¼€å¤´ã€‚

#### Bitwise NOT (`~`) æŒ‰ä½å–å
- `~` å°†æ•°å­—è½¬æ¢ä¸º 32-bit æ•´æ•°ï¼ˆå¦‚æœå­˜åœ¨å°æ•°éƒ¨åˆ†ï¼Œåˆ™åˆ é™¤å°æ•°éƒ¨åˆ†ï¼‰ï¼Œç„¶åå¯¹å…¶äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ä¸­çš„æ‰€æœ‰ä½å‡å–åã€‚
- å¯¹äº 32-bit æ•´æ•°ï¼Œ`~n` ç­‰äº `-(n+1)`ã€‚
  ```js
  alert( ~2 );  // -3ï¼Œå’Œ -(2+1) ç›¸åŒ
  alert( ~1 );  // -2ï¼Œå’Œ -(1+1) ç›¸åŒ
  alert( ~0 );  // -1ï¼Œå’Œ -(0+1) ç›¸åŒ
  alert( ~-1 ); // 0ï¼Œå’Œ -(-1+1) ç›¸åŒ
  ```
- å¦‚ä¸Šï¼Œåªæœ‰å½“ `n == -1` æ—¶ï¼Œ`~n` æ‰ä¸ºé›¶ï¼ˆé€‚ç”¨äºä»»ä½• 32-bit å¸¦ç¬¦å·çš„æ•´æ•° nï¼‰ã€‚å¯ä»¥ç”¨å®ƒæ¥ç®€å†™ `indexOf` æ£€æŸ¥: ä»…å½“ `indexOf` çš„ç»“æœä¸æ˜¯ -1 æ—¶ï¼Œæ£€æŸ¥ `if ( ~str.indexOf("...") )` æ‰ä¸ºçœŸã€‚æ³¨æ„ï¼šç§æ£€æŸ¥åªæœ‰åœ¨å­—ç¬¦ä¸²æ²¡æœ‰é‚£ä¹ˆé•¿çš„æƒ…å†µä¸‹æ‰æ˜¯æ­£ç¡®çš„ã€‚
  ```js
  let str = "Widget";

  if (~str.indexOf("Widget")) {
    alert( 'Found it!' ); // æ­£å¸¸è¿è¡Œ
  }
  ```

#### includesï¼ŒstartsWithï¼ŒendsWith
`str.includes(substr, pos)` æ ¹æ® str ä¸­æ˜¯å¦åŒ…å« substr æ¥è¿”å› true/falseã€‚ç¬¬äºŒä¸ªå¯é€‰å‚æ•°æ˜¯å¼€å§‹æœç´¢çš„èµ·å§‹ä½ç½®ã€‚
```js
alert( "Widget".includes("id") );    // true
alert( "Widget".includes("id", 3) ); // false, ä»ä½ç½® 3 å¼€å§‹æ²¡æœ‰ "id"
```
```js
alert( "Widget".startsWith("Wid") ); // trueï¼Œ"Widget" ä»¥ "Wid" å¼€å§‹
alert( "Widget".endsWith("get") );   // trueï¼Œ"Widget" ä»¥ "get" ç»“æŸ
```

### è·å–å­å­—ç¬¦ä¸²
JavaScript ä¸­æœ‰ä¸‰ç§è·å–å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼šsubstringã€substr å’Œ sliceã€‚
![è·å–å­å­—ç¬¦ä¸²](../img/substring.jpeg)
#### `str.slice(start [, end])`
è¿”å›å­—ç¬¦ä¸²ä» start åˆ°ï¼ˆä½†ä¸åŒ…æ‹¬ï¼‰end çš„éƒ¨åˆ†ã€‚å¦‚æœæ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œslice ä¼šä¸€ç›´è¿è¡Œåˆ°å­—ç¬¦ä¸²æœ«å°¾ã€‚ä¸å½±å“åŸå­—ç¬¦ä¸²ã€‚
```js
let str = "stringify";
alert( str.slice(0, 5) ); // 'strin'ï¼Œä» 0 åˆ° 5 çš„å­å­—ç¬¦ä¸²ï¼ˆä¸åŒ…æ‹¬ 5ï¼‰
alert( str.slice(0, 1) ); // 's'ï¼Œä» 0 åˆ° 1ï¼Œä½†ä¸åŒ…æ‹¬ 1ï¼Œæ‰€ä»¥åªæœ‰åœ¨ 0 å¤„çš„å­—ç¬¦
alert( str.slice(2) );    // 'ringify' ä»ç¬¬äºŒä¸ªä½ç½®ç›´åˆ°ç»“æŸ
```

start/end ä¹Ÿæœ‰å¯èƒ½æ˜¯è´Ÿå€¼ï¼Œæ„æ€æ˜¯èµ·å§‹ä½ç½®ä»å­—ç¬¦ä¸²ç»“å°¾è®¡ç®—
```js
let str = "stringify";

// ä»å³è¾¹çš„ç¬¬å››ä¸ªä½ç½®å¼€å§‹ï¼Œåœ¨å³è¾¹çš„ç¬¬ä¸€ä¸ªä½ç½®ç»“æŸ
alert( str.slice(-4, -1) ); // 'gif'
```

#### `str.substring(start [, end])`
è¿”å›å­—ç¬¦ä¸²ä» start åˆ°ï¼ˆä½†ä¸åŒ…æ‹¬ï¼‰end çš„éƒ¨åˆ†ã€‚ä¸ `slice` çš„åŒºåˆ«æ˜¯ï¼Œ`substring` å…è®¸ start å¤§äº endï¼›`substring` ä¸æ”¯æŒè´Ÿå‚æ•°ï¼ˆè´Ÿå‚æ•°è¢«è§†ä¸º 0ï¼‰ã€‚
```js
let str = "stringify";

// å¦‚ä¸‹å¯¹äº substring æ˜¯ç›¸åŒçš„
alert( str.substring(2, 6) ); // "ring"
alert( str.substring(6, 2) ); // "ring"

// â€¦â€¦ä½†å¯¹ slice æ˜¯ä¸åŒçš„ï¼š
alert( str.slice(2, 6) ); // "ring"ï¼ˆä¸€æ ·ï¼‰
alert( str.slice(6, 2) ); // ""ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰
```

#### `str.substr(start [, length])`
è¿”å›å­—ç¬¦ä¸²ä» start å¼€å§‹çš„ç»™å®š length çš„éƒ¨åˆ†ã€‚ç¬¬ä¸€ä¸ªå‚æ•°å¯èƒ½æ˜¯è´Ÿæ•°ï¼Œè¡¨ç¤ºä»ç»“å°¾ç®—èµ·ã€‚
```js
let str = "stringify";
alert( str.substr(2, 4) );  // 'ring'ï¼Œä»ä½ç½® 2 å¼€å§‹ï¼Œè·å– 4 ä¸ªå­—ç¬¦
alert( str.substr(-4, 2) ); // 'gi'ï¼Œä»ç¬¬ 4 ä½è·å– 2 ä¸ªå­—ç¬¦
```
:::warning
`substr` æœ‰ä¸€ä¸ªå°ç¼ºç‚¹ï¼šå®ƒä¸æ˜¯åœ¨ JavaScript æ ¸å¿ƒè§„èŒƒä¸­æè¿°çš„ï¼Œè€Œæ˜¯åœ¨é™„å½• B ä¸­ã€‚é™„å½• B çš„å†…å®¹ä¸»è¦æ˜¯æè¿°å› å†å²åŸå› è€Œé—ç•™ä¸‹æ¥çš„ä»…æµè§ˆå™¨ç‰¹æ€§ã€‚å› æ­¤ï¼Œç†è®ºä¸Šéæµè§ˆå™¨ç¯å¢ƒå¯èƒ½æ— æ³•æ”¯æŒ `substr`ï¼Œä½†å®é™…ä¸Šå®ƒåœ¨åˆ«çš„åœ°æ–¹ä¹Ÿéƒ½èƒ½ç”¨ã€‚
:::

## æ•°æ®ç±»å‹-Booleanç±»å‹
Booleanç±»å‹ä»…åŒ…å«ä¸¤ä¸ªå€¼ï¼štrue å’Œ falseã€‚

## æ•°æ®ç±»å‹-null
JavaScript ä¸­çš„ `null` ä»…ä»…æ˜¯ä¸€ä¸ªä»£è¡¨â€œæ— â€ã€â€œç©ºâ€æˆ–â€œå€¼æœªçŸ¥â€çš„ç‰¹æ®Šå€¼ã€‚

## æ•°æ®ç±»å‹-undefined
`undefined` çš„å«ä¹‰æ˜¯ æœªè¢«èµ‹å€¼ã€‚å¦‚æœä¸€ä¸ªå˜é‡å·²è¢«å£°æ˜ï¼Œä½†æœªè¢«èµ‹å€¼ï¼Œé‚£ä¹ˆå®ƒçš„å€¼å°±æ˜¯ `undefined`ã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œå¯ä»¥æ˜¾å¼åœ°å°† `undefined` èµ‹å€¼ç»™å˜é‡ï¼Œä½†æ˜¯ä¸å»ºè®®è¿™æ ·åšã€‚**é€šå¸¸ï¼Œä½¿ç”¨ `null` å°†ä¸€ä¸ªâ€œç©ºâ€æˆ–è€…â€œæœªçŸ¥â€çš„å€¼å†™å…¥å˜é‡ä¸­ï¼Œè€Œ `undefined` åˆ™ä¿ç•™ä½œä¸ºæœªè¿›è¡Œåˆå§‹åŒ–çš„äº‹ç‰©çš„é»˜è®¤åˆå§‹å€¼ã€‚**

## æ•°æ®ç±»å‹-Symbolç±»å‹
- å¯ä»¥ä½¿ç”¨ `Symbol()` æ¥åˆ›å»ºè¿™ç§ç±»å‹çš„å€¼ï¼ŒSymbol ç±»å‹çš„å€¼è¡¨ç¤ºå”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚
  ```js
  let id = Symbol();
  ```

- åˆ›å»ºæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ symbol ä¸€ä¸ªæè¿°ï¼ˆä¹Ÿç§°ä¸º symbol åï¼‰ã€‚symbol ä¿è¯æ˜¯å”¯ä¸€çš„ã€‚å³ä½¿æˆ‘ä»¬åˆ›å»ºäº†è®¸å¤šå…·æœ‰ç›¸åŒæè¿°çš„ symbolï¼Œå®ƒä»¬çš„å€¼ä¹Ÿæ˜¯ä¸åŒã€‚æè¿°åªæ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼Œä¸å½±å“ä»»ä½•ä¸œè¥¿ã€‚
  <CodeRun>{`
  let id1 = Symbol("id");
  let id2 = Symbol("id");
  console.log( id1 == id2 ); // false
  `}</CodeRun>

- Symbolå€¼ ä¸ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²
  ```js
  let id = Symbol("id");
  alert(id); // TypeError: Cannot convert a Symbol value to a string ç±»å‹é”™è¯¯ï¼šæ— æ³•å°† Symbol å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚
  ```
  <CodeRun>{`
  let id = Symbol("id");
  console.log( id.toString() );  // "Symbol(id)"
  console.log( id.description ); // "id"
  `}</CodeRun>

- Symbolå€¼ å¯ä»¥ä½œä¸ºå¯¹è±¡çš„â€œéšè—â€å±æ€§ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦å‘â€œå±äºâ€å¦ä¸€ä¸ªè„šæœ¬æˆ–è€…åº“çš„å¯¹è±¡æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª symbol å¹¶ä½¿ç”¨å®ƒä½œä¸ºå±æ€§çš„é”®ã€‚ä½¿ç”¨ `Symbol("id")` ä½œä¸ºé”®ï¼Œæ¯”èµ·ç”¨å­—ç¬¦ä¸² "id" æ¥æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿå‡å¦‚æˆ‘ä»¬ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“çš„`user`å¯¹è±¡ï¼Œå‘å®ƒæ·»åŠ å­—ç¬¦ä¸²å±æ€§æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºå¯èƒ½ä¼šå½±å“ä»£ç åº“ä¸­çš„å…¶ä»–é¢„å®šä¹‰è¡Œä¸ºã€‚ä½† symbol å±æ€§ä¸ä¼šè¢«æ„å¤–è®¿é—®åˆ°ã€‚ç¬¬ä¸‰æ–¹ä»£ç ä¸ä¼šçŸ¥é“æ–°å®šä¹‰çš„ symbolï¼Œå› æ­¤å°† symbol æ·»åŠ åˆ° `user` å¯¹è±¡æ˜¯å®‰å…¨çš„ã€‚
  ```js
  let user = { // å‡è®¾å±äºç¬¬ä¸‰æ–¹ä»£ç åº“
    name: "John"
  };

  let id = Symbol("id");

  user[id] = 1;

  let id = Symbol("id");

  user[id] = "Their id value"; // ä¸ä¼šæœ‰å†²çªï¼Œå› ä¸º symbol æ€»æ˜¯ä¸åŒçš„ï¼Œå³ä½¿å®ƒä»¬æœ‰ç›¸åŒçš„åå­—ã€‚

  // å¦‚æœä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºå±æ€§key
  user.id = "Our id value";

  user.id = "Their id value"; // æ— æ„ä¸­é‡å†™äº† idï¼
  ```
  :::info
  ä»æŠ€æœ¯ä¸Šè¯´ï¼Œsymbol ä¸æ˜¯ 100% éšè—çš„ã€‚æœ‰ä¸€ä¸ªå†…å»ºæ–¹æ³• `Object.getOwnPropertySymbols(obj)` å…è®¸æˆ‘ä»¬è·å–æ‰€æœ‰çš„ symbolã€‚è¿˜æœ‰ä¸€ä¸ªåä¸º `Reflect.ownKeys(obj)` çš„æ–¹æ³•å¯ä»¥è¿”å›ä¸€ä¸ªå¯¹è±¡çš„ æ‰€æœ‰ é”®ï¼ŒåŒ…æ‹¬ symbolã€‚ä½†å¤§å¤šæ•°åº“ã€å†…å»ºæ–¹æ³•å’Œè¯­æ³•ç»“æ„éƒ½æ²¡æœ‰ä½¿ç”¨è¿™äº›æ–¹æ³•ã€‚
  :::
  :::tip
  [ä½¿ç”¨Reflect.ownKeysåˆ¤æ–­å¯¹è±¡è‡ªèº«ä¸ºç©º](https://mp.weixin.qq.com/s/0vSXkIgoGNIGN6mNOTQCiA)ï¼Œ`Reflect.ownKeys` æ–¹æ³•è¿”å›ä¸€ä¸ªç”±ç›®æ ‡å¯¹è±¡è‡ªèº«çš„å±æ€§ç»„æˆçš„æ•°ç»„ï¼Œå®ƒçš„è¿”å›å€¼ç­‰åŒäº `Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))`
  <CodeRun>{`
  const a = Symbol()
  const obj1 = {
    [a]: 1
  }
  const obj2 = {b: 2}
  const obj3 = {}
  Object.defineProperty(obj3, 'a', {
    value: 1,
    enumerable: false
  })
  const obj4 = {}
  // æµ‹è¯•
  console.log(Reflect.ownKeys(obj1).length === 0)  // false
  console.log(Reflect.ownKeys(obj2).length === 0)  // false
  console.log(Reflect.ownKeys(obj3).length === 0)  // false
  console.log(Reflect.ownKeys(obj4).length === 0)  // true
  `}</CodeRun>
  :::

- åœ¨å¯¹è±¡å­—é¢é‡ `{...}` ä¸­ä½¿ç”¨ symbolï¼Œéœ€è¦ä½¿ç”¨æ–¹æ‹¬å·æŠŠå®ƒæ‹¬èµ·æ¥ã€‚
  ```js
  let id = Symbol("id");

  let user = {
    name: "John",
    [id]: 123 // è€Œä¸æ˜¯ "id"ï¼š123
  };
  ```

- symbolå±æ€§åœ¨ `forâ€¦in`ã€`Object.keys(...)`ã€`Object.values(...)`ã€`Object.entries(...)` ä¸­ä¼šè¢«å¿½ç•¥ã€‚
  <CodeRun>{`
  let id = Symbol("id");
  let user = {
    name: "John",
    age: 30,
    [id]: 123
  };
  // for..in ä¼šå¿½ç•¥symbolå±æ€§
  for (let key in user) console.log( key );             // "name" "age"ï¼ˆæ²¡æœ‰ symbolï¼‰
  // å¯ä»¥ç›´æ¥è®¿é—®
  console.log( "Direct: " + user[id] );                 // "Direct: 123"
  // Object.keys(...) ä¼šå¿½ç•¥symbolå±æ€§
  Object.keys(user).forEach(key => console.log( key )); // "name" "age"ï¼ˆæ²¡æœ‰ symbolï¼‰
  `}</CodeRun>

- `Object.assign` ä¼šåŒæ—¶å¤åˆ¶å­—ç¬¦ä¸²å’Œ symbol å±æ€§ã€‚
  <CodeRun>{`
  let id = Symbol("id");
  let user = {
    [id]: 123
  };
  let clone = Object.assign({}, user);
  console.log( clone[id] ); // 123
  `}</CodeRun>

### å…¨å±€symbol
- é€šå¸¸æ‰€æœ‰çš„ symbol éƒ½æ˜¯ä¸åŒçš„ï¼Œå³ä½¿å®ƒä»¬æœ‰ç›¸åŒçš„åå­—ã€‚ä½†æœ‰æ—¶æˆ‘ä»¬æƒ³è¦åå­—ç›¸åŒçš„ symbol å…·æœ‰ç›¸åŒçš„å®ä½“ã€‚

- ä½¿ç”¨ `Symbol.for(key)` å¯ä»¥æ£€æŸ¥å…¨å±€symbolæ³¨å†Œè¡¨ï¼Œå¦‚æœæœ‰ä¸€ä¸ªæè¿°ä¸º `key` çš„ symbolï¼Œåˆ™è¿”å›è¯¥ symbolï¼Œå¦åˆ™å°†åˆ›å»ºä¸€ä¸ªæ–° symbolï¼ˆ`Symbol(key)`ï¼‰ï¼Œå¹¶é€šè¿‡ç»™å®šçš„ `key` å°†å…¶å­˜å‚¨åœ¨æ³¨å†Œè¡¨ä¸­ã€‚æ³¨å†Œè¡¨å†…çš„ symbol è¢«ç§°ä¸º å…¨å±€symbolã€‚ä½¿ç”¨ `Symbol.for(key)` å¤šæ¬¡è°ƒç”¨ `key` ç›¸åŒçš„ symbol æ—¶ï¼Œè¿”å›çš„å°±æ˜¯åŒä¸€ä¸ª symbolã€‚
  <CodeRun>{`
  // ä»å…¨å±€æ³¨å†Œè¡¨ä¸­è¯»å–
  let id = Symbol.for("id"); // å¦‚æœè¯¥ symbol ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºå®ƒ
  // å†æ¬¡è¯»å–ï¼ˆå¯èƒ½æ˜¯åœ¨ä»£ç ä¸­çš„å¦ä¸€ä¸ªä½ç½®ï¼‰
  let idAgain = Symbol.for("id");
  // ç›¸åŒçš„ symbol
  console.log( id === idAgain );                        // true
  console.log( Symbol.for("id") === Symbol.for("id") ); // true
  console.log( Symbol("id") === Symbol("id") )          // false
  `}</CodeRun>

- å¯¹äºå…¨å±€symbolï¼Œ`Symbol.for(key)` æŒ‰åå­—è¿”å›ä¸€ä¸ª symbolï¼›`Symbol.keyFor(sym)`é€šè¿‡å…¨å±€symbol è¿”å›ä¸€ä¸ªåå­—ã€‚
  <CodeRun>{`
  // é€šè¿‡ name è·å– symbol
  let sym = Symbol.for("name");
  let sym2 = Symbol.for("id");
  // é€šè¿‡ symbol è·å– name
  console.log( Symbol.keyFor(sym) );  // "name"
  console.log( Symbol.keyFor(sym2) ); // "id"
  `}</CodeRun>

- `Symbol.keyFor` å†…éƒ¨ä½¿ç”¨å…¨å±€symbolæ³¨å†Œè¡¨æ¥æŸ¥æ‰¾ symbol çš„é”®ï¼Œæ‰€ä»¥å®ƒä¸é€‚ç”¨äºéå…¨å±€ symbolã€‚å¦‚æœ symbol ä¸æ˜¯å…¨å±€çš„ï¼Œå®ƒå°†æ— æ³•æ‰¾åˆ°å®ƒå¹¶è¿”å› `undefined`ã€‚
  <CodeRun>{`
  let globalSymbol = Symbol.for("name");
  let localSymbol = Symbol("name");
  console.log( Symbol.keyFor(globalSymbol) ); // "name"ï¼Œå…¨å±€ symbol
  console.log( Symbol.keyFor(localSymbol) );  // undefinedï¼Œéå…¨å±€
  console.log( localSymbol.description );     // "name"ï¼Œå¯ä»¥ä½¿ç”¨descriptionå±æ€§è·å–symbolåå­—
  `}</CodeRun>

### ç³»ç»Ÿsymbol
JavaScript å†…éƒ¨æœ‰å¾ˆå¤šâ€œç³»ç»Ÿâ€ symbolï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥æ”¹å˜ä¸€äº›å†…å»ºè¡Œä¸ºã€‚å®ƒä»¬éƒ½è¢«åˆ—åœ¨äº† [ä¼—æ‰€å‘¨çŸ¥çš„ symbol](https://tc39.es/ecma262/#sec-well-known-symbols) ä¸­:
- `Symbol.hasInstance`
- `Symbol.isConcatSpreadable`
- `Symbol.iterator` å¯ä»¥ç”¨ä½œå¯¹è±¡çš„å±æ€§ä¸ºå¯¹è±¡å®šä¹‰é»˜è®¤çš„è¿­ä»£å™¨ã€‚
  <CodeRun>{`
  const iterable1 = {};
  iterable1[Symbol.iterator] = function* () {
    yield 1;
    yield 2;
    yield 3;
  };
  console.log( [...iterable1] ); // [1, 2, 3]
  for(let item of iterable1) {
    console.log( item );
  }
  `}</CodeRun>
- `Symbol.toPrimitive`
- â€¦â€¦ç­‰ç­‰ã€‚

## æ•°æ®ç±»å‹-Objectç±»å‹
- åˆ›å»ºå¯¹è±¡çš„2ç§è¯­æ³•: æ„é€ å‡½æ•°ã€å­—é¢é‡(object literal)ã€‚
  ```js
  let user = new Object(); // â€œæ„é€ å‡½æ•°â€ çš„è¯­æ³•
  let user = {};  // â€œå­—é¢é‡â€ çš„è¯­æ³•
  ```

- å¯¹è±¡çš„å±æ€§(`key`)æ˜¯å­—ç¬¦ä¸²ç±»å‹ æˆ–è€… Symbolç±»å‹ï¼ˆå…¶ä»–ç±»å‹ä¼šè¢«è‡ªåŠ¨åœ°è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼‰ï¼Œå±æ€§çš„å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚
  ```js
  let user = {
    name: "John",         // é”® "name"ï¼Œå€¼ "John"
    age: 30,              // é”® "age"ï¼Œå€¼ 30
    "likes birds": true   // å¤šè¯å±æ€§åå¿…é¡»åŠ å¼•å·
    0: "test"             // ç­‰åŒäº "0": "test"
  };

  // ç›¸åŒçš„å±æ€§ï¼ˆæ•°å­— 0 è¢«è½¬ä¸ºå­—ç¬¦ä¸² "0"ï¼‰
  alert( obj["0"] ); // test
  alert( obj[0] );   // test
  ```

- å¯ä»¥ä½¿ç”¨ ç‚¹ç¬¦å· æˆ–è€… æ–¹æ‹¬å· è®¿é—®/è®¾ç½®å±æ€§å€¼ã€‚ç‚¹ç¬¦å·è¦æ±‚ `key` æ˜¯æœ‰æ•ˆçš„å˜é‡æ ‡è¯†ç¬¦ï¼Œè¿™æ„å‘³ç€ï¼šä¸åŒ…å«ç©ºæ ¼ï¼Œä¸ä»¥æ•°å­—å¼€å¤´ï¼Œä¹Ÿä¸åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼ˆå…è®¸ä½¿ç”¨ `$` å’Œ `_`ï¼‰ã€‚ä½¿ç”¨æ–¹æ‹¬å·ï¼Œå¯ç”¨äºä»»ä½•å­—ç¬¦ä¸²ã€‚æ–¹æ‹¬å·åŒæ ·æä¾›äº†ä¸€ç§å¯ä»¥é€šè¿‡ä»»æ„è¡¨è¾¾å¼æ¥è·å–å±æ€§åçš„æ–¹å¼(ç‚¹ç¬¦å·ä¸èƒ½ä»¥ç±»ä¼¼çš„æ–¹å¼ä½¿ç”¨)ã€‚
  ```js
  alert( user.name ); // John
  alert( user.age ); // 30
  alert( user["likes birds"] );
  ```
  ```js
  let key = "likes birds";

  user[key] = true; // è·Ÿ user["likes birds"] = true; ä¸€æ ·

  alert( user.key ) // undefined
  ```

- å¯ä»¥ç”¨ `delete` æ“ä½œç¬¦ç§»é™¤å±æ€§
  ```js
  delete user.age;
  delete user["likes birds"];
  ```

- ä½œä¸ºå¯¹è±¡å±æ€§çš„å‡½æ•°è¢«ç§°ä¸º æ–¹æ³•(method)ã€‚
  ```js
  let user = {
    sayHi: function() {
      alert("Hello");
    }
  };

  // æ–¹æ³•ç®€å†™
  let user = {
    sayHi() { // ä¸ "sayHi: function(){...}" ä¸€æ ·
      alert("Hello");
    }
  };
  ```

### å¯¹è±¡æ–¹æ³•ä¸­çš„`this`
```js
let user = {
  name: "John",
  age: 30,

  sayHi() {
    // "this" æŒ‡çš„æ˜¯â€œå½“å‰çš„å¯¹è±¡â€
    alert(this.name);
  }

};

user.sayHi(); // John
```

- æŠ€æœ¯ä¸Šè®²ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸ä½¿ç”¨ `this` çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å¤–éƒ¨å˜é‡åæ¥å¼•ç”¨å®ƒï¼Œä½†è¿™æ ·çš„ä»£ç æ˜¯ä¸å¯é çš„ã€‚ä¾‹å¦‚ï¼š
  ```js
  let user = {
    name: "John",
    age: 30,

    sayHi() {
      alert( user.name );
    }
  };

  let admin = user;
  user = null; // é‡å†™

  admin.sayHi(); // TypeError: Cannot read property 'name' of null
  ```

  ä½¿ç”¨`this`å¯ä»¥é¿å…ä¸Šè¿°é”™è¯¯ï¼š
  <CodeRun>{`
  let user = {
    name: "John",
    age: 30,
    sayHi() {
      console.log( this.name );
    }
  };
  let admin = user;
  user = null; // é‡å†™
  admin.sayHi();
  `}</CodeRun>

### è®¡ç®—å±æ€§
å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¯¹è±¡å­—é¢é‡ä¸­ä½¿ç”¨æ–¹æ‹¬å·ã€‚è¿™å«åš è®¡ç®—å±æ€§ã€‚
> [è®¡ç®—å±æ€§å](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Object_initializer#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%90%8D)

```js
let fruit = prompt("Which fruit to buy?", "apple");

let bag = {
  [fruit]: 5, // å±æ€§åæ˜¯ä» fruit å˜é‡ä¸­å¾—åˆ°çš„
};

alert( bag.apple ); // 5 å¦‚æœä¸€ä¸ªç”¨æˆ·è¾“å…¥ "apple"ï¼Œbag å°†å˜ä¸º {apple: 5}ã€‚
```
<CodeRun>
{`
let fruit = 'apple';
let bag = {
  [fruit + 'Computers']: 5 // bag.appleComputers = 5
};
console.log( bag.appleComputers )
`}
</CodeRun>

### `in`æ“ä½œç¬¦
- JavaScript çš„å¯¹è±¡æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„ç‰¹æ€§ï¼šèƒ½å¤Ÿè¢«è®¿é—®ä»»ä½•å±æ€§ã€‚å³ä½¿å±æ€§ä¸å­˜åœ¨ä¹Ÿä¸ä¼šæŠ¥é”™ï¼è¯»å–ä¸å­˜åœ¨çš„å±æ€§åªä¼šå¾—åˆ° `undefined`ã€‚
  ```js
  let user = {};

  alert( user.noSuchProperty === undefined ); // true æ„æ€æ˜¯æ²¡æœ‰è¿™ä¸ªå±æ€§
  ```

- å¯ä»¥ä½¿ç”¨`in`æ“ä½œç¬¦æ£€æŸ¥å±æ€§æ˜¯å¦å­˜åœ¨ã€‚è¯·æ³¨æ„ï¼Œ`in` çš„å·¦è¾¹å¿…é¡»æ˜¯ å±æ€§åï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå¸¦å¼•å·çš„å­—ç¬¦ä¸²ã€‚å¦‚æœæˆ‘ä»¬çœç•¥å¼•å·ï¼Œå°±æ„å‘³ç€å·¦è¾¹æ˜¯ä¸€ä¸ªå˜é‡ï¼Œå®ƒåº”è¯¥åŒ…å«è¦åˆ¤æ–­çš„å®é™…å±æ€§åã€‚
  <CodeRun>
  {`
  let user = { name: "John", age: 30 };
  console.log( "age" in user );           // trueï¼Œuser.age å­˜åœ¨
  console.log( "blabla" in user );        // falseï¼Œuser.blabla ä¸å­˜åœ¨ã€‚
  let key = "age";
  console.log( key in user );             // trueï¼Œå±æ€§ "age" å­˜åœ¨
  `}
  </CodeRun>

- å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸ `undefined` è¿›è¡Œæ¯”è¾ƒæ¥åˆ¤æ–­å±æ€§æ˜¯å¦å­˜åœ¨å°±å¯ä»¥äº†ã€‚å½“ å±æ€§å­˜åœ¨ä½†å­˜å‚¨çš„å€¼æ˜¯ `undefined` æ—¶ï¼Œè¿™ç§æ¯”å¯¹æ–¹å¼ä¼šæœ‰é—®é¢˜ï¼Œè€Œ `in` è¿ç®—ç¬¦çš„åˆ¤æ–­ç»“æœä»æ˜¯å¯¹çš„ã€‚
  <CodeRun>
  {`
  let obj = {
    test: undefined
  };
  console.log( obj.test );       // æ˜¾ç¤º undefinedï¼Œæ‰€ä»¥å±æ€§ä¸å­˜åœ¨ï¼Ÿ
  console.log( "test" in obj );  // trueï¼Œå±æ€§å­˜åœ¨ï¼
  `}
  </CodeRun>

- é€šå¸¸æƒ…å†µä¸‹ä¸åº”è¯¥ç»™å¯¹è±¡å±æ€§èµ‹å€¼ `undefined`ã€‚æˆ‘ä»¬é€šå¸¸ä¼šç”¨ `null` æ¥è¡¨ç¤ºæœªçŸ¥çš„æˆ–è€…ç©ºçš„å€¼ã€‚

### å¯¹è±¡å¼•ç”¨å’Œå¤åˆ¶
- åŸå§‹ç±»å‹çš„å¤åˆ¶
  ```js
  let message = "Hello!";
  let phrase = message;
  ```
  ![åŸå§‹ç±»å‹çš„å¤åˆ¶](../img/clone1.jpeg)

- èµ‹å€¼äº†å¯¹è±¡(å¦‚ä¸‹æ–¹çš„`{name:"John"}`)çš„å˜é‡(å¦‚ä¸‹æ–¹çš„`user`) å­˜å‚¨çš„ä¸æ˜¯å¯¹è±¡æœ¬èº«ï¼Œè€Œæ˜¯è¯¥å¯¹è±¡â€œåœ¨å†…å­˜ä¸­çš„åœ°å€â€ï¼Œæ¢å¥è¯è¯´å°±æ˜¯å¯¹è¯¥å¯¹è±¡çš„â€œå¼•ç”¨â€ã€‚
  ```js
  let user = {
    name: "John"
  };
  // è¯¥å¯¹è±¡è¢«å­˜å‚¨åœ¨å†…å­˜ä¸­çš„æŸä¸ªä½ç½®ï¼ˆåœ¨ä¸‹å›¾çš„å³ä¾§ï¼‰ï¼Œè€Œå˜é‡ userï¼ˆåœ¨ä¸‹å›¾çš„å·¦ä¾§ï¼‰ä¿å­˜çš„æ˜¯å¯¹å…¶çš„â€œå¼•ç”¨â€ã€‚
  ```
  ![å€¼ä¸ºå¯¹è±¡çš„å˜é‡çš„å­˜å‚¨](../img/clone2.jpeg)

- å½“ä¸€ä¸ªå¯¹è±¡å˜é‡è¢«å¤åˆ¶ï¼Œå…¶å®æ˜¯å¼•ç”¨è¢«å¤åˆ¶ï¼Œè€Œè¯¥å¯¹è±¡è‡ªèº«å¹¶æ²¡æœ‰è¢«å¤åˆ¶ã€‚
  ```js
  let user = { name: "John" };

  let admin = user; // ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸¤ä¸ªå˜é‡ï¼Œå®ƒä»¬ä¿å­˜çš„éƒ½æ˜¯å¯¹åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚

  // ä»ç„¶åªæœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œä½†ç°åœ¨æœ‰ä¸¤ä¸ªå¼•ç”¨å®ƒçš„å˜é‡ã€‚

  // å¯ä»¥é€šè¿‡å…¶ä¸­ä»»æ„ä¸€ä¸ªå˜é‡æ¥è®¿é—®è¯¥å¯¹è±¡å¹¶ä¿®æ”¹å®ƒçš„å†…å®¹
  admin.name = 'Pete'; // é€šè¿‡ "admin" å¼•ç”¨æ¥ä¿®æ”¹

  alert(user.name); // 'Pete'ï¼Œä¿®æ”¹èƒ½é€šè¿‡ "user" å¼•ç”¨çœ‹åˆ°
  ```
  ![å€¼ä¸ºå¯¹è±¡çš„å˜é‡çš„å¤åˆ¶](../img/clone3.jpeg)

- ä»…å½“ä¸¤ä¸ªå˜é‡éƒ½å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå®ƒä»¬æ‰ç›¸ç­‰ã€‚
  <CodeRun>
  {`
  let a = {};
  let b = a; // å¤åˆ¶å¼•ç”¨
  console.log( a == b );  // trueï¼Œéƒ½å¼•ç”¨åŒä¸€å¯¹è±¡
  console.log( a === b ); // true
  // å¼•ç”¨ä¸¤ä¸ªç‹¬ç«‹çš„å¯¹è±¡çš„å˜é‡å¹¶ä¸ç›¸ç­‰ï¼Œå³ä½¿å®ƒä»¬çœ‹èµ·æ¥å¾ˆåƒï¼ˆå¦‚éƒ½ä¸ºç©ºæ—¶ï¼‰
  let c = {};
  let d = {};
  console.log( c == d );  // false
  `}
  </CodeRun>

### å¯¹è±¡çš„å…‹éš†ä¸åˆå¹¶
- å…‹éš†å¯¹è±¡ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œé€šè¿‡éå†å·²æœ‰å¯¹è±¡çš„å±æ€§ï¼Œå¹¶åœ¨åŸå§‹ç±»å‹å€¼çš„å±‚é¢å¤åˆ¶å®ƒä»¬ï¼Œä»¥å®ç°å¯¹å·²æœ‰å¯¹è±¡ç»“æ„çš„å¤åˆ¶ã€‚
  <CodeRun>
  {`
  let user = {
    name: "John",
    age: 30,
  };
  let clone = {}; // æ–°çš„ç©ºå¯¹è±¡
  // å°† user ä¸­æ‰€æœ‰çš„å±æ€§æ‹·è´åˆ°å…¶ä¸­
  for (let key in user) {
    clone[key] = user[key];
  }
  // ç°åœ¨ clone æ˜¯å¸¦æœ‰ç›¸åŒå†…å®¹çš„å®Œå…¨ç‹¬ç«‹çš„å¯¹è±¡
  clone.name = "Pete"; // æ”¹å˜äº†å…¶ä¸­çš„æ•°æ®
  console.log( clone );
  console.log( user.name ); // åŸæ¥çš„å¯¹è±¡ä¸­çš„ name å±æ€§ä¾ç„¶æ˜¯ John
  `}
  </CodeRun>

- å¯ä»¥ä½¿ç”¨ `Object.assign(dest, [src1, src2, src3...])` æ–¹æ³•è¿›è¡Œå¯¹è±¡çš„åˆå¹¶åŠâ€œæµ…æ‹·è´â€ï¼ˆåµŒå¥—å¯¹è±¡è¢«é€šè¿‡å¼•ç”¨è¿›è¡Œæ‹·è´ï¼Œå³å¦‚æœå¯¹è±¡çš„å±æ€§ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™æ‹·è´åè¯¥å±æ€§çš„å€¼è¢«å…±äº«ï¼‰ï¼Œè¯¥æ–¹æ³•å°†ä»ç¬¬äºŒä¸ªå¼€å§‹çš„æ‰€æœ‰å‚æ•°çš„å±æ€§éƒ½è¢«æ‹·è´åˆ°ç¬¬ä¸€ä¸ªå‚æ•°çš„å¯¹è±¡ä¸­ã€‚è°ƒç”¨ç»“æœè¿”å› `dest`ã€‚å¦‚æœè¢«æ‹·è´çš„å±æ€§çš„å±æ€§åå·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆå®ƒä¼šè¢«è¦†ç›–ã€‚
  <CodeRun>
  {`
  let user = { name: "John" };
  let permissions1 = { canView: true };
  let permissions2 = { canEdit: true };
  // å°† permissions1 å’Œ permissions2 ä¸­çš„æ‰€æœ‰å±æ€§éƒ½æ‹·è´åˆ° user ä¸­
  let cloneResult = Object.assign(user, permissions1, permissions2);
  console.log( user );
  console.log( cloneResult );
  let cloneResult2 = Object.assign(user, { name: "Pete" });
  console.log( user );
  console.log( cloneResult2 );
  `}
  </CodeRun>

- ä¹Ÿå¯ä»¥ç”¨ `Object.assign` ä»£æ›¿ `for..in` å¾ªç¯æ¥è¿›è¡Œç®€å•å…‹éš†
  <CodeRun>
  {`
  let user = {
    name: "John",
    age: 30,
  };
  let clone = Object.assign({}, user);
  console.log( clone );
  `}
  </CodeRun>

- è¿˜å¯ä»¥ä½¿ç”¨ `spread` è¯­æ³• å…‹éš†å¯¹è±¡
  <CodeRun>{`
  let user = {
    name: "John",
    age: 30,
  };
  let clone = {...user};
  console.log( clone );
  `}</CodeRun>

### æ·±å±‚å…‹éš†å¯¹è±¡
å¯¹è±¡çš„å±æ€§å¯ä»¥æ˜¯å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ï¼Œè¿™æ—¶ç®€å•çš„å…‹éš†å¯¹è±¡åï¼Œè¯¥å±æ€§çš„å€¼ä¼šä»¥å¼•ç”¨å½¢å¼è¢«æ‹·è´ã€‚
<CodeRun>{`
let user = {
  name: "John",
  sizes: {
    height: 182,
    width: 50
  }
};
let clone = Object.assign({}, user);
console.log( user.sizes === clone.sizes ); // trueï¼ŒåŒä¸€ä¸ªå¯¹è±¡
// user å’Œ clone å…±äº«åŒä¸€ä¸ª sizes
user.sizes.width++;                        // é€šè¿‡å…¶ä¸­ä¸€ä¸ªæ”¹å˜å±æ€§å€¼
console.log(clone.sizes.width);            // 51ï¼Œèƒ½ä»å¦å¤–ä¸€ä¸ªè·å–åˆ°å˜æ›´åçš„ç»“æœ
`}</CodeRun>

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¹¶è®© `user` å’Œ `clone` æˆä¸ºä¸¤ä¸ªçœŸæ­£ç‹¬ç«‹çš„å¯¹è±¡ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨ä¸€ä¸ªæ‹·è´å¾ªç¯æ¥æ£€æŸ¥ `user[key]` çš„æ¯ä¸ªå€¼ï¼Œå¦‚æœå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆä¹Ÿå¤åˆ¶å®ƒçš„ç»“æ„ã€‚è¿™å°±æ˜¯æ‰€è°“çš„â€œæ·±æ‹·è´â€ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€’å½’æ¥å®ç°å®ƒã€‚æˆ–è€…ä¸ºäº†ä¸é‡å¤é€ è½®å­ï¼Œé‡‡ç”¨ç°æœ‰çš„å®ç°ï¼Œä¾‹å¦‚ [lodash](https://lodash.com/) åº“çš„ [`_.cloneDeep(obj)`](https://lodash.com/docs#cloneDeep)ã€‚

### å¯¹è±¡çš„å±æ€§æ ‡å¿—
- ä½¿ç”¨ `const` å£°æ˜çš„å¯¹è±¡ä¹Ÿæ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„ã€‚å¦‚ä¸‹ä½¿ç”¨`const`å£°æ˜çš„å˜é‡`user`çš„å€¼æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œå®ƒå¿…é¡»å§‹ç»ˆå¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ï¼Œä½†è¯¥å¯¹è±¡çš„å±æ€§å¯ä»¥è¢«è‡ªç”±ä¿®æ”¹ã€‚
  <CodeRun>{`
  const user = {
    name: "John"
  };
  user.name = "Pete";
  console.log(user.name); // Pete
  `}</CodeRun>

### å¯¹è±¡åˆ°åŸå§‹å€¼çš„è½¬æ¢
å¯¹äºç±»ä¼¼ `obj1 > obj2` çš„æ¯”è¾ƒï¼Œæˆ–è€…è·Ÿä¸€ä¸ªåŸå§‹ç±»å‹å€¼çš„æ¯”è¾ƒ `obj == 5`ï¼Œå¯¹è±¡éƒ½ä¼šè¢«è½¬æ¢ä¸ºåŸå§‹å€¼ã€‚
#### hint
JavaScript æ˜¯é€šè¿‡ hint å†³å®šå¯¹è±¡è½¬æ¢ä¸ºå“ªç§åŸå§‹å€¼çš„ï¼Œå¦‚[è§„èŒƒ](https://tc39.github.io/ecma262/#sec-toprimitive)æ‰€è¿°ï¼Œæœ‰3ç§hintï¼š
1. "string"
   å½“æˆ‘ä»¬å¯¹æœŸæœ›ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¯¹è±¡æ‰§è¡Œæ“ä½œæ—¶ï¼Œå¦‚ `alert(obj)` `anotherObj[obj]`(å°†å¯¹è±¡ä½œä¸ºå±æ€§é”®)ï¼Œå¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚

2. "number"
   å½“æˆ‘ä»¬å¯¹ å¯¹è±¡ è¿›è¡Œæ•°å­¦è¿ç®—æ—¶ï¼Œå¯¹è±¡è½¬æ¢ä¸ºæ•°å­—ã€‚
   ```js
   // æ˜¾å¼è½¬æ¢
   let num = Number(obj);

   // æ•°å­¦è¿ç®—ï¼ˆé™¤äº†äºŒå…ƒåŠ æ³•ï¼‰
   let n = +obj; // ä¸€å…ƒåŠ æ³•
   let delta = date1 - date2;

   // å°äº/å¤§äºçš„æ¯”è¾ƒ
   let greater = user1 > user2;
   ```

3. "default"
   å½“è¿ç®—ç¬¦â€œä¸ç¡®å®šâ€æœŸæœ›å€¼çš„ç±»å‹æ—¶ï¼Œå°†ä¾æ® "default" hint æ¥å¯¹ å¯¹è±¡ è¿›è¡Œè½¬æ¢ã€‚ä¾‹å¦‚ï¼ŒäºŒå…ƒåŠ æ³• å¯ç”¨äºå­—ç¬¦ä¸²ï¼ˆè¿æ¥ï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ•°å­—ï¼ˆç›¸åŠ ï¼‰ã€‚æ­¤å¤–ï¼Œå¦‚æœå¯¹è±¡è¢«ç”¨äºä¸å­—ç¬¦ä¸²ã€æ•°å­—æˆ– symbol è¿›è¡Œ == æ¯”è¾ƒï¼Œè¿™æ—¶åˆ°åº•åº”è¯¥è¿›è¡Œå“ªç§è½¬æ¢ä¹Ÿä¸æ˜¯å¾ˆæ˜ç¡®ï¼Œå› æ­¤ä½¿ç”¨ "default" hintã€‚
   ```js
   // äºŒå…ƒåŠ æ³•ä½¿ç”¨é»˜è®¤ hint
   let total = obj1 + obj2;

   // obj == number ä½¿ç”¨é»˜è®¤ hint
   if (user == 1) { ... };
   ```

:::info
åƒ `<` å’Œ `>` è¿™æ ·çš„å°äº/å¤§äºæ¯”è¾ƒè¿ç®—ç¬¦ï¼Œä¹Ÿå¯ä»¥åŒæ—¶ç”¨äºå­—ç¬¦ä¸²å’Œæ•°å­—ã€‚ä¸è¿‡ï¼Œå®ƒä»¬ä½¿ç”¨ â€œnumberâ€ hintï¼Œè€Œä¸æ˜¯ â€œdefaultâ€ hintã€‚è¿™æ˜¯å†å²åŸå› ã€‚
:::

#### è½¬æ¢è§„åˆ™
ä¸ºäº†è¿›è¡Œè½¬æ¢ï¼ŒJavaScript å°è¯•æŸ¥æ‰¾å¹¶è°ƒç”¨ä¸‰ä¸ªå¯¹è±¡æ–¹æ³•ï¼š
1. å¦‚æœå¯¹è±¡æœ‰ `[Symbol.toPrimitive](hint)` æ–¹æ³•çš„è¯ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ï¼ˆè¿™ä¸ªæ–¹æ³•æ˜¯å¸¦æœ‰ symbol é”® `Symbol.toPrimitive`ï¼ˆç³»ç»Ÿ symbolï¼‰çš„æ–¹æ³•ï¼‰ï¼Œ
2. å¦‚æœå¯¹è±¡æ²¡æœ‰ `[Symbol.toPrimitive](hint)` æ–¹æ³•ï¼Œé‚£ä¹ˆ JavaScript å°†å°è¯•å¯»æ‰¾ `toString` å’Œ `valueOf` æ–¹æ³•ï¼š
- å¯¹äº hint æ˜¯ "string"ï¼šè°ƒç”¨ `toString` æ–¹æ³•ï¼Œå¦‚æœå®ƒä¸å­˜åœ¨ï¼Œåˆ™è°ƒç”¨ `valueOf` æ–¹æ³•ï¼ˆå› æ­¤ï¼Œå¯¹äºå­—ç¬¦ä¸²è½¬æ¢ï¼Œä¼˜å…ˆè°ƒç”¨ `toString`ï¼‰ã€‚
- å¯¹äºhint æ˜¯ "number" æˆ– "default"ï¼šè°ƒç”¨ `valueOf` æ–¹æ³•ï¼Œå¦‚æœå®ƒä¸å­˜åœ¨ï¼Œåˆ™è°ƒç”¨ `toString` æ–¹æ³•ï¼ˆå› æ­¤ï¼Œå¯¹äºæ•°å­¦è¿ç®—ï¼Œä¼˜å…ˆè°ƒç”¨ `valueOf` æ–¹æ³•ï¼‰ã€‚

:::info
é»˜è®¤æƒ…å†µä¸‹ï¼Œæ™®é€šå¯¹è±¡å…·æœ‰ `toString` å’Œ `valueOf` æ–¹æ³•ï¼š
- `toString` æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸² "[object Object]"ã€‚
- `valueOf` æ–¹æ³•è¿”å›å¯¹è±¡è‡ªèº«ã€‚

```js
let user = {name: "John"};

alert(user);                     // [object Object]ï¼Œå°è¯•å°†ä¸€ä¸ªå¯¹è±¡å½“åšå­—ç¬¦ä¸²æ¥ä½¿ç”¨
alert(user.valueOf() === user);  // true
```
:::
:::tip
è‡³äºå¸ƒå°”å€¼ï¼Œæ‰€æœ‰çš„å¯¹è±¡åœ¨å¸ƒå°”ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰ä¸­å‡ä¸º `true`ã€‚
:::

å¯¹è±¡æœ‰ `[Symbol.toPrimitive](hint)` æ–¹æ³•çš„ä¾‹å­ï¼š
<CodeRun>{`
let obj = {
  [Symbol.toPrimitive]: function (hint) {
    switch(hint) {
      case 'number':
        return 3;
      case 'string':
        return 'string case';
      case 'default':
      default:
        return 'default case';
    }
  }
};
console.log( 3 + obj );     // "3default case", äºŒå…ƒåŠ æ³• ä½¿ç”¨"default"hint
console.log( 3 - obj );     // 0
console.log( String(obj) ); // "string case"
`}</CodeRun>
<CodeRun>{`
let user = {
  name: "John",
  money: 1000,
  [Symbol.toPrimitive](hint) {
    console.log( "hint: " + hint );
    return hint == "string" ? "name: " + this.name : this.money;
  }
};
// è½¬æ¢æ¼”ç¤ºï¼š
console.log( String(user) );       // hint: string -> "name: John"
console.log( +user );              // hint: number -> 1000
console.log( user + 500 );         // hint: default -> 1500
`}</CodeRun>

å¯¹è±¡æ²¡æœ‰ `[Symbol.toPrimitive](hint)` æ–¹æ³•çš„ä¾‹å­ï¼š
<CodeRun>{`
let user = {
  name: "John",
  money: 1000,
  // å¯¹äº hint="string"
  toString() {
    return "name: " + this.name;
  },
  // å¯¹äº hint="number" æˆ– "default"
  valueOf() {
    return this.money;
  }
};
console.log( String(user) );       // toString -> "name: John"
console.log( +user );              // valueOf -> 1000
console.log( user + 500 );         // valueOf -> 1500
`}</CodeRun>

å¦‚æœæ²¡æœ‰ `[Symbol.toPrimitive](hint)` æ–¹æ³• å’Œ `valueOf` æ–¹æ³•ï¼Œ`toString` æ–¹æ³•å°†å¤„ç†æ‰€æœ‰åŸå§‹è½¬æ¢ï¼š
<CodeRun>{`
let user = {
  name: "John",
  toString() {
    return this.name;
  }
};
console.log( String(user) ); // toString -> John
console.log( user + 500 );   // toString -> John500
`}</CodeRun>

:::warning
æ³¨æ„ï¼Œå¯¹è±¡è½¬æ¢åŸå§‹å€¼ ä¸ä¸€å®šä¼šè¿”å› â€œhintâ€ çš„åŸå§‹å€¼ã€‚æ¯”å¦‚ hint æ˜¯ "number"ï¼Œè½¬æ¢åä¸ä¸€å®šæ˜¯numberç±»å‹çš„åŸå§‹å€¼ã€‚å”¯ä¸€å¼ºåˆ¶æ€§çš„äº‹æƒ…æ˜¯ï¼šè¿™äº›æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œè€Œä¸æ˜¯å¯¹è±¡ã€‚ç”±äºå†å²åŸå› ï¼Œå¦‚æœ `toString` æˆ– `valueOf` è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ä¸ä¼šå‡ºç° errorï¼Œä½†æ˜¯è¿™ç§å€¼ä¼šè¢«å¿½ç•¥ï¼ˆå°±åƒè¿™ç§æ–¹æ³•æ ¹æœ¬ä¸å­˜åœ¨ï¼‰ã€‚`[Symbol.toPrimitive](hint)` æ›´ä¸¥æ ¼ï¼Œå®ƒ å¿…é¡» è¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œå¦åˆ™å°±ä¼šå‡ºç° errorã€‚
<CodeRun>{`
let user = {
  name: "John",
  money: 1000,
  // å¯¹äº hint="string"
  toString() {
    return "name: " + this.name;
  },
  // å¯¹äº hint="number" æˆ– "default"
  valueOf() {
    return this.money + "";
  }
};
console.log( String(user) );       // toString -> "name: John"
console.log( +user );              // valueOf -> 1000
console.log( user + 500 );         // valueOf -> "1000500"
`}</CodeRun>
:::

#### è¿›ä¸€æ­¥çš„è½¬æ¢
å¦‚æœå¯¹è±¡ä½œä¸ºæ“ä½œæ•°å‚ä¸è¿ç®—ï¼Œåˆ™ä¼šå‡ºç°ä¸¤ä¸ªè¿ç®—é˜¶æ®µï¼š
1. å¯¹è±¡è¢«è½¬æ¢ä¸ºåŸå§‹å€¼ã€‚
2. å¦‚æœè¿˜éœ€è¦è¿›ä¸€æ­¥è®¡ç®—ï¼Œåˆ™ç”Ÿæˆçš„åŸå§‹å€¼ä¼šè¢«è¿›ä¸€æ­¥è½¬æ¢ã€‚

<CodeRun>{`
let obj = {
  // toString åœ¨æ²¡æœ‰å…¶ä»–æ–¹æ³•çš„æƒ…å†µä¸‹å¤„ç†æ‰€æœ‰è½¬æ¢
  toString() {
    return "2";
  }
};
console.log( obj * 2 ); // 4ï¼Œå¯¹è±¡è¢«è½¬æ¢ä¸ºåŸå§‹å€¼å­—ç¬¦ä¸² "2"ï¼Œä¹‹åå®ƒè¢«ä¹˜æ³•è½¬æ¢ä¸ºæ•°å­— 2ã€‚
`}</CodeRun>
<CodeRun>{`
let obj = {
  toString() {
    return "2";
  }
};
console.log( obj + 2 ); // 22ï¼ˆ"2" + 2ï¼‰è¢«è½¬æ¢ä¸ºåŸå§‹å€¼å­—ç¬¦ä¸²
`}</CodeRun>

### å¯¹è±¡ä¸Mapçš„è½¬æ¢
#### ä»å¯¹è±¡åˆ›å»º Map
`Object.entries(obj)` æ–¹æ³•è¿”å›å¯¹è±¡çš„é”®/å€¼å¯¹æ•°ç»„ï¼Œæ˜¯ Mapåˆå§‹åŒ– æ‰€éœ€çš„æ ¼å¼ã€‚
<CodeRun>{`
let obj = {
  name: "John",
  age: 30
};
let initMapArg = Object.entries(obj); // [ ["name","John"], ["age", 30] ]
let map = new Map(initMapArg);
console.log( map.get('name') );       // "John"
`}</CodeRun>

#### ä» Map åˆ›å»ºå¯¹è±¡
`Object.fromEntries` æ–¹æ³•ä¼šæ ¹æ®ç»™å®šçš„å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚
<CodeRun>{`
let map = new Map();
map.set('banana', 1);
map.set('orange', 2);
map.set('meat', 4);
// åˆ›å»ºä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼ˆplain objectï¼‰å…¥å‚ä¸ºé”®/å€¼å¯¹æ•°ç»„
let obj = Object.fromEntries(map.entries());
// obj = { banana: 1, orange: 2, meat: 4 }
console.log( obj.orange ); // 2
// åˆ›å»ºä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼ˆplain objectï¼‰å…¥å‚ä¸ºå¯è¿­ä»£å¯¹è±¡mapï¼ˆmap çš„æ ‡å‡†è¿­ä»£ä¼šè¿”å›è·Ÿ map.entries() ä¸€æ ·çš„é”®/å€¼å¯¹ï¼‰
let obj1 = Object.fromEntries(map);
console.log( obj1.meat ); // 4
`}</CodeRun>

### å…¶ä»–å¯¹è±¡
æœ‰æ—¶å€™å¤§å®¶ä¼šè¯´â€œArray ç±»å‹â€æˆ–â€œDate ç±»å‹â€ï¼Œä½†å…¶å®å®ƒä»¬å¹¶ä¸æ˜¯è‡ªèº«æ‰€å±çš„ç±»å‹ï¼Œè€Œæ˜¯å±äºä¸€ä¸ªå¯¹è±¡ç±»å‹å³ â€œobjectâ€ã€‚å®ƒä»¬ä»¥ä¸åŒçš„æ–¹å¼å¯¹ â€œobjectâ€ åšäº†ä¸€äº›æ‰©å±•ã€‚
- Functionï¼ˆå‡½æ•°ï¼‰
- Array ç”¨äºå­˜å‚¨æœ‰åºæ•°æ®é›†åˆ
- Date ç”¨äºå­˜å‚¨æ—¶é—´æ—¥æœŸ
- RegExpï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰
- Error ç”¨äºå­˜å‚¨é”™è¯¯ä¿¡æ¯

#### JavaScript çš„æ ‡å‡†å†…ç½®å¯¹è±¡Date
:::tip
åˆ›å»ºä¸€ä¸ªæ–°Dateå¯¹è±¡çš„å”¯ä¸€æ–¹æ³•æ˜¯é€šè¿‡ `new` æ“ä½œç¬¦ï¼Œä¾‹å¦‚ï¼š`let now = new Date();` è‹¥å°†å®ƒä½œä¸ºå¸¸è§„å‡½æ•°è°ƒç”¨ï¼ˆå³ä¸åŠ  `new` æ“ä½œç¬¦ï¼‰ï¼Œå°†è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œé Date å¯¹è±¡ã€‚
:::

- è¯­æ³•ï¼š
```js
new Date();
new Date(value); // valueæ˜¯ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œè¡¨ç¤ºè‡ª 1970 å¹´ 1 æœˆ 1 æ—¥ 00:00:00 UTCï¼ˆthe Unix epochï¼‰ä»¥æ¥çš„æ¯«ç§’æ•°ï¼Œå¿½ç•¥äº†é—°ç§’ã€‚
new Date(dateString); // dateStringè¡¨ç¤ºæ—¥æœŸçš„å­—ç¬¦ä¸²å€¼ã€‚è¯¥å­—ç¬¦ä¸²åº”è¯¥èƒ½è¢« Date.parse() æ–¹æ³•æ­£ç¡®è¯†åˆ«
new Date(year, monthIndex [, day [, hours [, minutes [, seconds [, milliseconds]]]]]); // monthIndexè¡¨ç¤ºæœˆä»½çš„æ•´æ•°å€¼ï¼Œä» 0ï¼ˆ1 æœˆï¼‰åˆ° 11ï¼ˆ12 æœˆï¼‰ã€‚
```

- å¯¹è±¡çš„æ–¹æ³•ï¼š
  - `Date.prototype.getFullYear()` æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè·å–å¹´ä»½ï¼ˆ4 ä½æ•°ï¼‰
  - `Date.prototype.getMonth()` æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè·å–æœˆä»½ï¼Œä» 0 åˆ° 11
  - `Date.prototype.getDate()` æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè·å–å½“æœˆçš„å…·ä½“æ—¥æœŸï¼Œä» 1 åˆ° 31
  - `Date.prototype.getHours()` æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„å°æ—¶ï¼Œ0 åˆ° 23 ä¹‹é—´çš„æ•´æ•°å€¼
  - `Date.prototype.getMinutes()` æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„åˆ†é’Ÿæ•°ï¼Œ0 åˆ° 59 çš„æ•´æ•°å€¼
  - `Date.prototype.getSeconds()` æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„ç§’æ•°ï¼Œ0 åˆ° 59 çš„æ•´æ•°å€¼
  - `Date.prototype.getMilliseconds()` æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„æ¯«ç§’æ•°ï¼Œ0 åˆ° 999 çš„æ•´æ•°
  - `Date.prototype.getDay()` æ ¹æ®æœ¬åœ°æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªå…·ä½“æ—¥æœŸä¸­ä¸€å‘¨çš„ç¬¬å‡ å¤©ï¼Œä» 0ï¼ˆæ˜ŸæœŸæ—¥ï¼‰åˆ° 6ï¼ˆæ˜ŸæœŸå…­ï¼‰
  - `Date.prototype.getUTCFullYear()` ä»¥ä¸–ç•Œæ—¶ä¸ºæ ‡å‡†ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„å¹´ä»½
  - `Date.prototype.getUTCMonth()` ä»¥ä¸–ç•Œæ—¶ä¸ºæ ‡å‡†ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡çš„æœˆä»½ï¼Œå®ƒæ˜¯ä» 0 å¼€å§‹è®¡æ•°çš„ï¼ˆ0 ä»£è¡¨ä¸€å¹´çš„ç¬¬ä¸€ä¸ªæœˆï¼‰0 åˆ° 11 çš„æ•´æ•°
  - `Date.prototype.getUTCDay()` ä»¥ä¸–ç•Œæ—¶ä¸ºæ ‡å‡†ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å®šçš„æ—¥æœŸå¯¹è±¡ä¸ºä¸€æ˜ŸæœŸä¸­çš„ç¬¬å‡ å¤©ï¼Œ0 ä»£è¡¨æ˜ŸæœŸå¤©
  - `Date.prototype.toJSON()` è¿”å›ä¸€ä¸ª JSON æ ¼å¼å­—ç¬¦ä¸²è¡¨ç¤ºè¯¥æ—¥æœŸå¯¹è±¡çš„å€¼

  ```js
  //  å½“å‰æ—¥æœŸ
  let date = new Date();

  // å½“åœ°æ—¶åŒºçš„å°æ—¶æ•°
  alert( date.getHours() );

  // åœ¨ UTC+0 æ—¶åŒºçš„å°æ—¶æ•°ï¼ˆéå¤ä»¤æ—¶çš„ä¼¦æ•¦æ—¶é—´ï¼‰
  alert( date.getUTCHours() );
  ```

  - `Date.prototype.getTime()` è¿”å›ä¸€ä¸ªæ•°å€¼ï¼Œè¡¨ç¤ºä» 1970 å¹´ 1 æœˆ 1 æ—¥ 0 æ—¶ 0 åˆ† 0 ç§’ï¼ˆUTCï¼Œå³åè°ƒä¸–ç•Œæ—¶ï¼‰è·ç¦»è¯¥æ—¥æœŸå¯¹è±¡æ‰€ä»£è¡¨æ—¶é—´çš„æ¯«ç§’æ•°ã€‚
  - `Date.prototype.getTimezoneOffset()` è¿”å› UTC ä¸æœ¬åœ°æ—¶åŒºä¹‹é—´çš„æ—¶å·®ï¼Œä»¥åˆ†é’Ÿä¸ºå•ä½

  - `Date.prototype.setFullYear(yearValue[, monthValue[, dayValue]])`
  - `Date.prototype.setMonth(monthValue[, dayValue])`
  - `Date.prototype.setDate(dayValue)`
  - `Date.prototype.setHours(hoursValue[, minutesValue[, secondsValue[, msValue]]])`
  - `Date.prototype.setMinutes(minutesValue[, secondsValue[, msValue]])`
  - `Date.prototype.setSeconds(secondsValue[, msValue])`
  - `Date.prototype.setMilliseconds(millisecondsValue)`
  - `Date.prototype.setTime(timeValue)`

- è‡ªåŠ¨æ ¡å‡† æ˜¯ Date å¯¹è±¡çš„ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„ç‰¹æ€§ã€‚æˆ‘ä»¬å¯ä»¥è®¾ç½®è¶…èŒƒå›´çš„æ•°å€¼ï¼Œå®ƒä¼šè‡ªåŠ¨æ ¡å‡†ã€‚
  ```js
  let date = new Date(2013, 0, 32); // 32 Jan 2013 ?!?
  alert(date); // æ˜¯ 1st Feb 2013!
  ```

- å½“ Date å¯¹è±¡è¢«è½¬åŒ–ä¸ºæ•°å­—æ—¶ï¼Œå¾—åˆ°çš„æ˜¯å¯¹åº”çš„æ—¶é—´æˆ³ï¼Œä¸ä½¿ç”¨ `date.getTime()` çš„ç»“æœç›¸åŒã€‚
  ```js
  let date = new Date();
  alert(+date); // ä»¥æ¯«ç§’ä¸ºå•ä½çš„æ•°å€¼ï¼Œä¸ä½¿ç”¨ date.getTime() çš„ç»“æœç›¸åŒ
  ```

- æ—¥æœŸå¯¹è±¡å¯ä»¥ç›¸å‡ï¼Œç›¸å‡çš„ç»“æœæ˜¯ä»¥æ¯«ç§’ä¸ºå•ä½æ—¶é—´å·®ã€‚
  ```js
  let start = new Date(); // å¼€å§‹æµ‹é‡æ—¶é—´

  // do the job
  for (let i = 0; i < 100000; i++) {
    let doSomething = i * i * i;
  }

  let end = new Date(); // ç»“æŸæµ‹é‡æ—¶é—´

  alert( `The loop took ${end - start} ms` ); // The loop took 2 ms
  ```

- `Date.now()` ä¼šè¿”å›å½“å‰çš„æ—¶é—´æˆ³ã€‚
  ```js
  let start = Date.now(); // ä» 1 Jan 1970 è‡³ä»Šçš„æ—¶é—´æˆ³

  // do the job
  for (let i = 0; i < 100000; i++) {
    let doSomething = i * i * i;
  }

  let end = Date.now();

  alert( `The loop took ${end - start} ms` ); // The loop took 2 ms
  ```

- `Date.parse(dateString)` è§£æä¸€ä¸ªè¡¨ç¤ºæŸä¸ªæ—¥æœŸçš„å­—ç¬¦ä¸²(å­—ç¬¦ä¸²çš„æ ¼å¼åº”è¯¥ä¸ºï¼šYYYY-MM-DDTHH:mm:ss.sssZï¼Œå…¶ä¸­ï¼Œå­—ç¬¦ "T" æ˜¯ä¸€ä¸ªåˆ†éš”ç¬¦ï¼Œå¯é€‰å­—ç¬¦ 'Z' ä¸º +-hh:mm æ ¼å¼çš„æ—¶åŒºã€‚å•ä¸ªå­—ç¬¦ Z ä»£è¡¨ UTC+0 æ—¶åŒºã€‚)ï¼Œå¹¶è¿”å›ä» 1970-1-1 00:00:00 UTC åˆ°è¯¥æ—¥æœŸå¯¹è±¡ï¼ˆè¯¥æ—¥æœŸå¯¹è±¡çš„ UTC æ—¶é—´ï¼‰çš„æ¯«ç§’æ•°ï¼Œå¦‚æœè¯¥å­—ç¬¦ä¸²æ— æ³•è¯†åˆ«ï¼Œæˆ–è€…ä¸€äº›æƒ…å†µä¸‹ï¼ŒåŒ…å«äº†ä¸åˆæ³•çš„æ—¥æœŸæ•°å€¼ï¼ˆå¦‚ï¼š2015-02-31ï¼‰ï¼Œåˆ™è¿”å›å€¼ä¸º `NaN`ã€‚

- JavaScript è‡ªèº«å¹¶æ²¡æœ‰æµ‹é‡å¾®ç§’çš„æ–¹æ³•ï¼ˆç™¾ä¸‡åˆ†ä¹‹ä¸€ç§’ï¼‰ï¼Œä½†å¤§å¤šæ•°è¿è¡Œç¯å¢ƒä¼šæä¾›ã€‚ä¾‹å¦‚ï¼šæµè§ˆå™¨æœ‰ `performance.now()` æ–¹æ³•æ¥ç»™å‡ºä»é¡µé¢åŠ è½½å¼€å§‹çš„ä»¥æ¯«ç§’ä¸ºå•ä½çš„å¾®ç§’æ•°ï¼ˆç²¾ç¡®åˆ°æ¯«ç§’çš„å°æ•°ç‚¹åä¸‰ä½ï¼‰ï¼›Node.js å¯ä»¥é€šè¿‡ `microtime` æ¨¡å—æˆ–ä½¿ç”¨å…¶ä»–æ–¹æ³•ã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œå‡ ä¹æ‰€æœ‰çš„è®¾å¤‡å’Œç¯å¢ƒéƒ½å…è®¸è·å–æ›´é«˜ç²¾åº¦çš„æ—¶é—´æ•°å€¼ï¼Œåªä¸è¿‡ä¸æ˜¯ä½¿ç”¨ Date å¯¹è±¡ã€‚

#### JavaScript çš„æ ‡å‡†å†…ç½®å¯¹è±¡JSON
- `JSON.stringify` å°†å¯¹è±¡è½¬æ¢ä¸º JSONå­—ç¬¦ä¸²ã€‚JSON ä¸­æ²¡æœ‰å•å¼•å·æˆ–åå¼•å·ã€‚æ‰€ä»¥ 'John' è¢«è½¬æ¢ä¸º "John"ã€‚å¯¹è±¡çš„å±æ€§åç§°ä¹Ÿä¼šè¢«è½¬æ¢ä¸ºåŒå¼•å·çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ `age:30` è¢«è½¬æ¢æˆ `"age":30`ã€‚

- `JSON.parse` å°† JSONå­—ç¬¦ä¸² è½¬æ¢å›å¯¹è±¡ã€‚

- `JSON.stringify` ä¹Ÿå¯ä»¥åº”ç”¨äºåŸå§‹ï¼ˆprimitiveï¼‰æ•°æ®ç±»å‹ã€‚
  ```js
  console.log( JSON.stringify(1) )          // 1
  console.log( JSON.stringify('test') )     // "test"
  console.log( JSON.stringify(true) );      // true
  console.log( JSON.stringify([1, 2, 3]) ); // [1,2,3]
  ```

- JSON æ˜¯è¯­è¨€æ— å…³çš„çº¯æ•°æ®è§„èŒƒï¼Œå› æ­¤ä¸€äº›ç‰¹å®šäº JavaScript çš„å¯¹è±¡å±æ€§ï¼ˆ**å‡½æ•°å±æ€§**ã€**Symbolç±»å‹çš„é”®å’Œå€¼**ã€**å­˜å‚¨`undefined`çš„å±æ€§**ï¼‰ä¼šè¢« `JSON.stringify` è·³è¿‡ã€‚
  <CodeRun>{`
  let user = {
    sayHi() { // è¢«å¿½ç•¥
      alert("Hello");
    },
    [Symbol("id")]: 123, // è¢«å¿½ç•¥
    something: undefined // è¢«å¿½ç•¥
  };
  console.log( JSON.stringify(user) ); // "{}"
  `}</CodeRun>

- å¦‚æœå¯¹è±¡æœ‰å¾ªç¯å¼•ç”¨ï¼Œåˆ™å¯¹è¯¥å¯¹è±¡ä½¿ç”¨JSON.stringifyä¼šæŠ¥é”™
  ```js
  let room = {
    number: 23
  };

  let meetup = {
    title: "Conference",
    participants: ["john", "ann"]
  };

  meetup.place = room;       // meetup å¼•ç”¨äº† room
  room.occupiedBy = meetup;  // room å¼•ç”¨äº† meetup

  JSON.stringify(room);      // Uncaught TypeError: Converting circular structure to JSON
  JSON.stringify(meetup);    // Uncaught TypeError: Converting circular structure to JSON
  ```

- JSON.stringify çš„å®Œæ•´è¯­æ³•æ˜¯ï¼š
  ```js
  let json = JSON.stringify(value[, replacer, space]);
  // value è¦ç¼–ç çš„å€¼
  // replacer è¦ç¼–ç çš„å±æ€§æ•°ç»„æˆ–æ˜ å°„å‡½æ•° function(key, value)
  // space ç”¨äºæ ¼å¼åŒ–çš„ç©ºæ ¼æ•°é‡
  ```
  ```js
  // å±æ€§æ•°ç»„ä½œä¸ºreplacer
  let room = {
    number: 23
  };

  let meetup = {
    title: "Conference",
    participants: [{name: "John"}, {name: "Alice"}],
    place: room // meetup å¼•ç”¨äº† room
  };

  room.occupiedBy = meetup; // room å¼•ç”¨äº† meetup

  alert( JSON.stringify(meetup, ['title', 'participants']) ); // {"title":"Conference","participants":[{},{}]}

  // ç”±äº name ä¸åœ¨æŒ‡å®šçš„å±æ€§åˆ—è¡¨ä¸­ï¼Œæ‰€ä»¥ participants: [{name: "John"}, {name: "Alice"}] è¢«è½¬æ¢ä¸º "participants":[{},{}]
  ```
  ```js
  // æŒ‡å®šé™¤äº†ä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨çš„ room.occupiedBy ä¹‹å¤–çš„æ‰€æœ‰å±æ€§
  let room = {
    number: 23
  };

  let meetup = {
    title: "Conference",
    participants: [{name: "John"}, {name: "Alice"}],
    place: room // meetup å¼•ç”¨äº† room
  };

  room.occupiedBy = meetup; // room å¼•ç”¨äº† meetup

  alert( JSON.stringify(meetup, ['title', 'participants', 'place', 'name', 'number']) );
  /*
  {
    "title":"Conference",
    "participants":[{"name":"John"},{"name":"Alice"}],
    "place":{"number":23}
  }
  */
  ```
  <CodeRun>{`
  // ä½¿ç”¨ä¸€ä¸ªå‡½æ•°ä»£æ›¿æ•°ç»„ä½œä¸º replacer
  let room = {
    number: 23
  };
  let meetup = {
    title: "Conference",
    participants: [{name: "John"}, {name: "Alice"}],
    place: room  // meetup å¼•ç”¨äº† room
  };
  room.occupiedBy = meetup; // room å¼•ç”¨äº† meetup
  console.log( JSON.stringify(meetup, function replacer(key, value) {
    console.log(key + ': ' + value);
    return (key == 'occupiedBy') ? undefined : value;
  }));
  /*
  key valueå¦‚ä¸‹ï¼š
  ": [object Object]" // ç¬¬ä¸€ä¸ª (key, value) å¯¹çš„é”®æ˜¯ç©ºçš„ï¼Œå¹¶ä¸”è¯¥å€¼æ˜¯æ•´ä¸ªç›®æ ‡å¯¹è±¡ã€‚å®ƒæ˜¯ä½¿ç”¨ç‰¹æ®Šçš„â€œåŒ…è£…å¯¹è±¡â€åˆ¶ä½œçš„ï¼š{"": meetup}
  "title: Conference"
  "participants: [object Object],[object Object]"
  "0: [object Object]"
  "name: John"
  "1: [object Object]"
  "name: Alice"
  "place: [object Object]"
  "number: 23"
  "occupiedBy: [object Object]"
  */
  `}</CodeRun>

  :::tip
  `replacer` å‡½æ•°ä¼šè·å–æ¯ä¸ªé”®/å€¼å¯¹ï¼ŒåŒ…æ‹¬åµŒå¥—å¯¹è±¡å’Œæ•°ç»„é¡¹ã€‚å®ƒè¢«é€’å½’åœ°åº”ç”¨ã€‚`replacer` ä¸­çš„ `this` çš„å€¼æ˜¯åŒ…å«å½“å‰å±æ€§çš„å¯¹è±¡ã€‚
  :::

  ```js
  // space å‚æ•°ä¸“é—¨ç”¨äºè°ƒæ•´å‡ºæ›´ç¾è§‚çš„è¾“å‡º
  let user = {
    name: "John",
    age: 25,
    roles: {
      isAdmin: false,
      isEditor: true
    }
  };

  alert(JSON.stringify(user, null, 2));
  /* ä¸¤ä¸ªç©ºæ ¼çš„ç¼©è¿›ï¼š
  {
    "name": "John",
    "age": 25,
    "roles": {
      "isAdmin": false,
      "isEditor": true
    }
  }
  */

  /* å¯¹äº JSON.stringify(user, null, 4) çš„ç»“æœä¼šæœ‰æ›´å¤šç¼©è¿›ï¼š
  {
      "name": "John",
      "age": 25,
      "roles": {
          "isAdmin": false,
          "isEditor": true
      }
  }
  */
  ```

## Iterable objectï¼ˆå¯è¿­ä»£å¯¹è±¡ï¼‰
- å¯ä»¥åº”ç”¨ `for..of` çš„å¯¹è±¡è¢«ç§°ä¸º å¯è¿­ä»£å¯¹è±¡ã€‚
  ```js
  let range = {
    from: 1,
    to: 5
  };

  for (const item of range) { // TypeError: range is not iterable
    console.log( item )
  }
  ```

- æŠ€æœ¯ä¸Šæ¥è¯´ï¼Œå¯è¿­ä»£å¯¹è±¡å¿…é¡»å®ç° `Symbol.iterator` æ–¹æ³•ã€‚`obj[Symbol.iterator]()` çš„ç»“æœè¢«ç§°ä¸º è¿­ä»£å™¨ï¼ˆiteratorï¼‰ï¼Œç”±å®ƒå¤„ç†è¿›ä¸€æ­¥çš„è¿­ä»£è¿‡ç¨‹ã€‚ä¸€ä¸ªè¿­ä»£å™¨å¿…é¡»æœ‰ `next()` æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ª `{done: Boolean, value: any}` å¯¹è±¡ï¼Œè¿™é‡Œ `done:true` è¡¨æ˜è¿­ä»£ç»“æŸï¼Œå¦åˆ™ `value` å°±æ˜¯ä¸‹ä¸€ä¸ªå€¼ã€‚
  <CodeRun>{`
  let range = {
    from: 1,
    to: 5
  };
  // 1. å®ç° Symbol.iteratoræ–¹æ³•, for..ofé¦–å…ˆä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•(å¦‚æœæ²¡æ‰¾åˆ°ï¼Œå°±ä¼šæŠ¥é”™), å®ƒè¿”å›è¿­ä»£å™¨å¯¹è±¡ï¼ˆiterator objectï¼‰
  range[Symbol.iterator] = function() {
    // 2. æ¥ä¸‹æ¥ï¼Œfor..of ä»…ä¸ä¸‹é¢çš„è¿­ä»£å™¨å¯¹è±¡ä¸€èµ·å·¥ä½œï¼Œè¦æ±‚å®ƒæä¾›ä¸‹ä¸€ä¸ªå€¼
    return {
      current: this.from,
      last: this.to,
      // 3. next() åœ¨ for..of çš„æ¯ä¸€è½®å¾ªç¯è¿­ä»£ä¸­è¢«è°ƒç”¨
      next() {
        // 4. nextæ–¹æ³•å°†ä¼šè¿”å› {done: Boolean, value: any} æ ¼å¼çš„å¯¹è±¡
        if (this.current <= this.last) {
          return { done: false, value: this.current++ };
        } else {
          return { done: true };
        }
      }
    };
  };
  // ç°åœ¨å®ƒå¯ä»¥è¿è¡Œäº†ï¼
  for (let num of range) {
    console.log( num ); // 1, ç„¶åæ˜¯ 2, 3, 4, 5
  }
  `}</CodeRun>

- è¿­ä»£å™¨å¯¹è±¡å’Œä¸å…¶è¿›è¡Œè¿­ä»£çš„å¯¹è±¡æ˜¯åˆ†å¼€çš„ã€‚å¦‚ä¸Šï¼Œ`range` è‡ªèº«æ²¡æœ‰ `next()` æ–¹æ³•ï¼Œè€Œæ˜¯é€šè¿‡è°ƒç”¨ `range[Symbol.iterator]()` åˆ›å»ºäº†å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå³æ‰€è°“çš„â€œè¿­ä»£å™¨â€å¯¹è±¡ï¼Œå¹¶ä¸”å®ƒçš„ `next` ä¼šä¸ºè¿­ä»£ç”Ÿæˆå€¼ã€‚ä»æŠ€æœ¯ä¸Šè¯´ï¼Œå¯ä»¥å°† `range` è‡ªèº«ä½œä¸ºè¿­ä»£å™¨æ¥ç®€åŒ–ä»£ç ï¼Œä½†ç¼ºç‚¹æ˜¯ï¼Œå°±ä¸èƒ½åŒæ—¶åœ¨ `range` ä¸Šè¿è¡Œä¸¤ä¸ª `for..of` å¾ªç¯äº†ï¼šå®ƒä»¬å°†å…±äº«è¿­ä»£çŠ¶æ€ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå³å¯¹è±¡æœ¬èº«ã€‚
  <CodeRun>{`
  let range = {
    from: 1,
    to: 5,
    [Symbol.iterator]() {
      this.current = this.from;
      return this;
    },
    next() {
      if (this.current <= this.to) {
        return { done: false, value: this.current++ };
      } else {
        return { done: true };
      }
    }
  };
  for (let num of range) {
    console.log( num ); // 1, ç„¶åæ˜¯ 2, 3, 4, 5
  }
  `}</CodeRun>

- `Symbol.iterator` æ–¹æ³•ä¼šè¢« `for..of` è‡ªåŠ¨è°ƒç”¨ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨å®ƒã€‚
  <CodeRun>{`
  let str = "Hello";
  // å’Œ for..of åšç›¸åŒçš„äº‹ for (let char of str) console.log(char);
  let iterator = str[Symbol.iterator]();
  while (true) {
    let result = iterator.next();
    if (result.done) break;
    console.log( result.value ); // ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°è¾“å‡ºå­—ç¬¦
  }
  `}</CodeRun>

- å¯è¿­ä»£ï¼ˆiterableï¼‰å’Œ ç±»æ•°ç»„ï¼ˆarray-likeï¼‰æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µï¼š
  1. Iterable object æ˜¯å®ç°äº† `Symbol.iterator` æ–¹æ³•çš„å¯¹è±¡ã€‚
  2. Array-like object æ˜¯æœ‰ç´¢å¼•å’Œ `length` å±æ€§çš„å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒä»¬çœ‹èµ·æ¥å¾ˆåƒæ•°ç»„ã€‚
  3. ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ä¹Ÿè®¸ä¸æ˜¯ç±»æ•°ç»„å¯¹è±¡ã€‚åä¹‹äº¦ç„¶ï¼Œç±»æ•°ç»„å¯¹è±¡å¯èƒ½ä¸å¯è¿­ä»£ã€‚
   ```js
   let arrayLike = { // æœ‰ç´¢å¼•å’Œ length å±æ€§ => ç±»æ•°ç»„å¯¹è±¡
     0: "Hello",
     1: "World",
     length: 2
   };

   // TypeError: arrayLike is not iterable (æ²¡æœ‰ Symbol.iterator)
   for (let item of arrayLike) {}
   ```
  4. å­—ç¬¦ä¸²æ—¢æ˜¯å¯è¿­ä»£çš„ï¼ˆ`for..of` å¯¹å®ƒä»¬æœ‰æ•ˆï¼‰ï¼Œåˆæ˜¯ç±»æ•°ç»„çš„ï¼ˆå®ƒä»¬æœ‰æ•°å€¼ç´¢å¼•å’Œ `length` å±æ€§ï¼‰ã€‚

## å¯¹è±¡åŒ…è£…å™¨(object wrappers)
- ä¸ºäº†å…è®¸è®¿é—®å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼å’Œ symbol çš„æ–¹æ³•å’Œå±æ€§ï¼ŒJavaScriptåˆ›å»ºäº†æä¾›é¢å¤–åŠŸèƒ½çš„ç‰¹æ®Šâ€œå¯¹è±¡åŒ…è£…å™¨â€ï¼Œ**ä½¿ç”¨åå³è¢«é”€æ¯**ã€‚
<CodeRun>{`
let str = "Hello";
console.log( str.toUpperCase() ); // HELLO
// 1. å­—ç¬¦ä¸² str æ˜¯ä¸€ä¸ªåŸå§‹å€¼ã€‚å› æ­¤ï¼Œåœ¨è®¿é—®å…¶å±æ€§æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªåŒ…å«å­—ç¬¦ä¸²å­—é¢å€¼çš„ç‰¹æ®Šå¯¹è±¡ï¼Œå¹¶ä¸”å…·æœ‰å¯ç”¨çš„æ–¹æ³•ï¼Œä¾‹å¦‚ toUpperCase()ã€‚
// 2. è¯¥æ–¹æ³•è¿è¡Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚
// 3. ç‰¹æ®Šå¯¹è±¡è¢«é”€æ¯ï¼Œåªç•™ä¸‹åŸå§‹å€¼ strã€‚
`}</CodeRun>
<CodeRun>{`
let n = 1.23456;
console.log( n.toFixed(2) ); // 1.23
`}</CodeRun>

- ä»å½¢å¼ä¸Šè®²ï¼ŒåŸå§‹ç±»å‹ï¼ˆå­—ç¬¦ä¸²ã€æ•°å­—(numberã€bigint)ã€å¸ƒå°”å€¼ã€symbolï¼‰çš„æ–¹æ³•é€šè¿‡ä¸´æ—¶å¯¹è±¡å·¥ä½œï¼Œä½† JavaScript å¼•æ“å¯ä»¥å¾ˆå¥½åœ°è°ƒæ•´ï¼Œä»¥åœ¨å†…éƒ¨å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œå› æ­¤è°ƒç”¨å®ƒä»¬å¹¶ä¸éœ€è¦å¤ªé«˜çš„æˆæœ¬ã€‚

- `null` å’Œ `undefined` æ²¡æœ‰å¯¹åº”çš„â€œå¯¹è±¡åŒ…è£…å™¨â€ã€‚

- åŸå§‹ç±»å‹ä¸æ˜¯å¯¹è±¡ï¼Œå®ƒä»¬ä¸èƒ½å­˜å‚¨é¢å¤–çš„æ•°æ®ã€‚
  ```js
  let str = "Hello";

  str.test = 5;

  alert(str.test);

  /*
  æ ¹æ®ä½ æ˜¯å¦å¼€å¯äº†ä¸¥æ ¼æ¨¡å¼ use strictï¼Œä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœï¼šundefinedï¼ˆéä¸¥æ ¼æ¨¡å¼ï¼‰; æŠ¥é”™ï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰
  1. å½“è®¿é—® str çš„å±æ€§æ—¶ï¼Œä¸€ä¸ªâ€œå¯¹è±¡åŒ…è£…å™¨â€è¢«åˆ›å»ºäº†ã€‚
  2. åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‘å…¶å†™å…¥å†…å®¹ä¼šæŠ¥é”™ã€‚
  3. å¦åˆ™ï¼Œå°†ç»§ç»­æ‰§è¡Œå¸¦æœ‰å±æ€§çš„æ“ä½œï¼Œè¯¥å¯¹è±¡å°†è·å¾— test å±æ€§ï¼Œä½†æ˜¯æ­¤åï¼Œâ€œå¯¹è±¡åŒ…è£…å™¨â€å°†æ¶ˆå¤±ï¼Œå› æ­¤åœ¨æœ€åä¸€è¡Œï¼Œstr å¹¶æ²¡æœ‰è¯¥å±æ€§çš„è¸ªè¿¹ã€‚
  */
  ```

### [åŒ…è£…å¯¹è±¡çš„è®¾è®¡ç›®çš„](https://wangdoc.com/javascript/stdlib/wrapper)
åŒ…è£…å¯¹è±¡çš„è®¾è®¡ç›®çš„ï¼Œé¦–å…ˆæ˜¯ä½¿å¾—â€œå¯¹è±¡â€è¿™ç§ç±»å‹å¯ä»¥è¦†ç›– JavaScript æ‰€æœ‰çš„å€¼ï¼Œæ•´é—¨è¯­è¨€æœ‰ä¸€ä¸ªé€šç”¨çš„æ•°æ®æ¨¡å‹ï¼Œå…¶æ¬¡æ˜¯ä½¿å¾—åŸå§‹ç±»å‹çš„å€¼ä¹Ÿæœ‰åŠæ³•è°ƒç”¨è‡ªå·±çš„æ–¹æ³•ã€‚æŸäº›åœºåˆï¼ŒåŸå§‹ç±»å‹çš„å€¼ä¼šè‡ªåŠ¨å½“ä½œåŒ…è£…å¯¹è±¡è°ƒç”¨ï¼Œå³è°ƒç”¨åŒ…è£…å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚è¿™æ—¶ï¼ŒJavaScript å¼•æ“ä¼šè‡ªåŠ¨å°†åŸå§‹ç±»å‹çš„å€¼è½¬ä¸ºåŒ…è£…å¯¹è±¡å®ä¾‹ï¼Œå¹¶åœ¨ä½¿ç”¨åç«‹åˆ»é”€æ¯å®ä¾‹ã€‚
```js
var str = 'abc';
str.length // 3

// ç­‰åŒäº
var strObj = new String(str)
// String {
//   0: "a", 1: "b", 2: "c", length: 3, [[PrimitiveValue]]: "abc"
// }
strObj.length // 3

/*
 abcæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæœ¬èº«ä¸æ˜¯å¯¹è±¡ï¼Œä¸èƒ½è°ƒç”¨lengthå±æ€§ã€‚JavaScript å¼•æ“è‡ªåŠ¨å°†å…¶è½¬ä¸ºåŒ…è£…å¯¹è±¡ï¼Œåœ¨è¿™ä¸ªå¯¹è±¡ä¸Šè°ƒç”¨lengthå±æ€§(å­—ç¬¦ä¸²abcçš„åŒ…è£…å¯¹è±¡æä¾›äº†å¤šä¸ªå±æ€§ï¼Œlengthåªæ˜¯å…¶ä¸­ä¹‹ä¸€)ã€‚è°ƒç”¨ç»“æŸåï¼Œè¿™ä¸ªä¸´æ—¶å¯¹è±¡å°±ä¼šè¢«é”€æ¯ã€‚
 */
```
```js
var s = 'Hello World';
s.x = 123;
s.x // undefined

/*
 ä½¿ç”¨ç»“æŸåï¼ŒåŒ…è£…å¯¹è±¡å®ä¾‹ä¼šè‡ªåŠ¨é”€æ¯ã€‚è¿™æ„å‘³ç€ï¼Œä¸‹ä¸€æ¬¡ä½¿ç”¨å­—ç¬¦ä¸²çš„å±æ€§æ—¶ï¼Œå®é™…ä¼šæ–°ç”Ÿæˆä¸€ä¸ªåŒ…è£…å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¸Šä¸€æ¬¡è°ƒç”¨æ—¶ç”Ÿæˆçš„é‚£ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å–ä¸åˆ°èµ‹å€¼åœ¨ä¸Šä¸€ä¸ªå¯¹è±¡çš„å±æ€§ã€‚
*/
```

:::tip
å¦‚æœè¦ä¸º åŸå§‹ç±»å‹ æ·»åŠ å±æ€§å’Œæ–¹æ³•ï¼Œåªæœ‰åœ¨å®ƒçš„åŸå‹å¯¹è±¡ä¸Šå®šä¹‰
<CodeRun>{`
String.prototype.double = function () {
  return this.valueOf() + this.valueOf();
};
console.log( 'abc'.double() ) // "abcabc"
Number.prototype.double = function () {
  return this.valueOf() + this.valueOf();
};
console.log( (123).double() ) // 246
`}</CodeRun>
:::

:::info
Numberã€Stringå’ŒBooleanè¿™ä¸‰ä¸ªå¯¹è±¡ï¼Œä½œä¸ºæ„é€ å‡½æ•°ä½¿ç”¨ï¼ˆå¸¦æœ‰`new`ï¼‰æ—¶ï¼Œå¯ä»¥å°†åŸå§‹ç±»å‹çš„å€¼è½¬ä¸ºå¯¹è±¡ï¼›ä½œä¸ºæ™®é€šå‡½æ•°ä½¿ç”¨æ—¶ï¼ˆä¸å¸¦æœ‰`new`ï¼‰ï¼Œå¯ä»¥å°†ä»»æ„ç±»å‹çš„å€¼ï¼Œè½¬ä¸ºåŸå§‹ç±»å‹çš„å€¼ã€‚
<CodeRun>{`
var v1 = new Number(123);
var v2 = new String('abc');
var v3 = new Boolean(true);
console.log( typeof v1 )    // "object"
console.log( typeof v2 )    // "object"
console.log( typeof v3 )    // "object"
console.log( v1 === 123 )   // false
console.log( v2 === 'abc' ) // false
console.log( v3 === true )  // false
`}</CodeRun>
<CodeRun>{`
// å­—ç¬¦ä¸²è½¬ä¸ºæ•°å€¼
console.log( Number('123') ) // 123
// æ•°å€¼è½¬ä¸ºå­—ç¬¦ä¸²
console.log( String(123) )   // "123"
// æ•°å€¼è½¬ä¸ºå¸ƒå°”å€¼
console.log( Boolean(123) )  // true
`}</CodeRun>
:::

### åŒ…è£…å¯¹è±¡å…±æœ‰çš„æ–¹æ³•
åŒ…è£…å¯¹è±¡å„è‡ªæä¾›äº†è®¸å¤šå®ä¾‹æ–¹æ³•ã€‚å®ƒä»¬å…±åŒå…·æœ‰çš„ã€ä»Objectå¯¹è±¡ç»§æ‰¿çš„æ–¹æ³•ï¼š`valueOf()` å’Œ `toString()`ã€‚
- `valueOf()`æ–¹æ³•è¿”å›åŒ…è£…å¯¹è±¡å®ä¾‹å¯¹åº”çš„åŸå§‹ç±»å‹çš„å€¼ã€‚
  <CodeRun>{`
  console.log( 'abc'.valueOf() )             // "abc"
  // ä¸Šé¢ç­‰åŒäº
  console.log( new String('abc').valueOf() ) // "abc"
  console.log( new Number(123).valueOf() )   // 123
  console.log( new Boolean(true).valueOf() ) // true
  `}</CodeRun>

- `toString()`æ–¹æ³•è¿”å›å¯¹åº”çš„å­—ç¬¦ä¸²å½¢å¼ã€‚
  <CodeRun>{`
  console.log( (123).toString() )             // "123" æ³¨æ„ï¼š123å¤–é¢å¿…é¡»è¦åŠ ä¸Šåœ†æ‹¬å·ï¼Œå¦åˆ™åé¢çš„ç‚¹è¿ç®—ç¬¦ï¼ˆ.ï¼‰ä¼šè¢«è§£é‡Šæˆå°æ•°ç‚¹
  // ä¸Šé¢ç­‰åŒäº
  console.log( new Number(123).toString() )   // "123"
  console.log( new String('abc').toString() ) // "abc"
  console.log( new Boolean(true).toString() ) // "true"
  `}</CodeRun>

## æ•°æ®ç±»å‹çš„è½¬æ¢
> [æ•°æ®ç±»å‹çš„è½¬æ¢](https://wangdoc.com/javascript/features/conversion)

### æ‰‹åŠ¨å¼ºåˆ¶è½¬æ¢
å¼ºåˆ¶è½¬æ¢ä¸»è¦æŒ‡ä½¿ç”¨ `Number()`ã€`String()`å’Œ`Boolean()` ä¸‰ä¸ªå‡½æ•°ï¼Œæ‰‹åŠ¨å°†å„ç§ç±»å‹çš„å€¼ï¼Œåˆ†åˆ«è½¬æ¢æˆæ•°å­—ã€å­—ç¬¦ä¸²æˆ–è€…å¸ƒå°”å€¼ã€‚

#### `Number()`
1. å‚æ•°æ˜¯åŸå§‹ç±»å‹å€¼

è½¬æ¢è§„åˆ™ï¼š
![Number()è½¬æ¢è§„åˆ™](../img/Number()è½¬æ¢è§„åˆ™.png)
<CodeRun>
{
  `
  console.log( Number("   123   ") ); // 123
  console.log( Number("123z") );      // NaNï¼ˆä»å­—ç¬¦ä¸²â€œè¯»å–â€æ•°å­—ï¼Œè¯»åˆ° "z" æ—¶å‡ºç°é”™è¯¯ï¼‰
  console.log( Number("") );          // 0
  console.log( Number(true) );        // 1
  console.log( Number(false) );       // 0
  console.log( Number(undefined) );   // NaN
  console.log( Number(null) );        // 0
  console.log( Number("+49") );       // 49 è¿™ä¸ªè§£æè§„åˆ™æ˜¯æ€æ ·çš„
  console.log( Number("-49") );       // -49 è¿™ä¸ªè§£æè§„åˆ™æ˜¯æ€æ ·çš„
  console.log( Number("*49") );       // NaN
  console.log( Number("/49") );       // NaN
  `
}
</CodeRun>

:::tip
`Number`å‡½æ•° åŠ åŠ å·`+` å°†å­—ç¬¦ä¸²è½¬ä¸ºæ•°å€¼ï¼Œè¦æ¯”`parseInt`å‡½æ•°ä¸¥æ ¼å¾ˆå¤šã€‚`parseInt`é€ä¸ªè§£æå­—ç¬¦ï¼Œè€Œ`Number`å‡½æ•° åŠ åŠ å·`+` æ•´ä½“è½¬æ¢å­—ç¬¦ä¸²çš„ç±»å‹ã€‚
<CodeRun>
{
  `
  console.log( parseInt('42 cats') )         // 42
  console.log( Number('42 cats') )           // NaN
  console.log( +'42 cats' )                  // NaN
  console.log( parseInt('12.34') )           // 12
  console.log( Number('12.34') )             // 12.34
  console.log( +'12.34' )                    // 12.34
  `
}
</CodeRun>
:::

2. å‚æ•°æ˜¯å¯¹è±¡

`Number()`çš„å‚æ•°æ˜¯å¯¹è±¡æ—¶ï¼Œå°†è¿”å› `NaN`ï¼Œé™¤éæ˜¯åŒ…å«å•ä¸ªæ•°å€¼çš„æ•°ç»„ã€‚
<CodeRun>
{
  `
  console.log( Number({a: 1}) )      // NaN
  console.log( Number([1, 2, 3]) )   // NaN
  console.log( Number([5]) )         // 5
  console.log( Number({}) )          // NaN
  console.log( Number([]) )          // 0
  console.log([].toString())         // ''
  `
}
</CodeRun>

è½¬æ¢è§„åˆ™ï¼š
- ç¬¬ä¸€æ­¥ï¼Œè°ƒç”¨å¯¹è±¡è‡ªèº«çš„ `valueOf` æ–¹æ³•ã€‚å¦‚æœè¿”å›åŸå§‹ç±»å‹çš„å€¼ï¼Œåˆ™ç›´æ¥å¯¹è¯¥å€¼ä½¿ç”¨Numberå‡½æ•°ï¼Œä¸å†è¿›è¡Œåç»­æ­¥éª¤ã€‚
- ç¬¬äºŒæ­¥ï¼Œå¦‚æœ `valueOf` æ–¹æ³•è¿”å›çš„è¿˜æ˜¯å¯¹è±¡ï¼Œåˆ™æ”¹ä¸ºè°ƒç”¨å¯¹è±¡è‡ªèº«çš„ `toString` æ–¹æ³•ã€‚å¦‚æœ `toString` æ–¹æ³•è¿”å›åŸå§‹ç±»å‹çš„å€¼ï¼Œåˆ™å¯¹è¯¥å€¼ä½¿ç”¨Numberå‡½æ•°ï¼Œä¸å†è¿›è¡Œåç»­æ­¥éª¤ã€‚
- ç¬¬ä¸‰æ­¥ï¼Œå¦‚æœ `toString` æ–¹æ³•è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œå°±æŠ¥é”™ã€‚
<CodeRun>
{
  `
  var obj = {x: 1};
  console.log( Number(obj) ) // NaN
  console.log(obj.valueOf(), typeof obj.valueOf(), obj.toString())
  // ç­‰åŒäº
  if (typeof obj.valueOf() === 'object') {
    console.log( Number(obj.toString()) );
  } else {
    console.log( Number(obj.valueOf()) );
  }
  /*
  é¦–å…ˆè°ƒç”¨obj.valueOfæ–¹æ³•, ç»“æœè¿”å›å¯¹è±¡æœ¬èº«ï¼›äºæ˜¯ï¼Œç»§ç»­è°ƒç”¨obj.toStringæ–¹æ³•ï¼Œè¿™æ—¶è¿”å›å­—ç¬¦ä¸²[object Object]ï¼Œå¯¹è¿™ä¸ªå­—ç¬¦ä¸²ä½¿ç”¨Numberå‡½æ•°ï¼Œå¾—åˆ°NaNã€‚
  */
  `
}
</CodeRun>
<CodeRun>
{
  `
  var obj = {
    valueOf: function () {
      return {};
    },
    toString: function () {
      return {};
    }
  };
  console.log( Number(obj) ) // TypeError: Cannot convert object to primitive value
  /*
  valueOfå’ŒtoStringæ–¹æ³•ï¼Œè¿”å›çš„éƒ½æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥è½¬æˆæ•°å€¼æ—¶ä¼šæŠ¥é”™ã€‚
  */
  `
}
</CodeRun>
<CodeRun>
{
  `
  console.log( Number({
    valueOf: function () {
      return 2;
    }
  }) ) // 2
  console.log( Number({
    toString: function () {
      return 3;
    }
  }) ) // 3
  console.log( Number({
    valueOf: function () {
      return 2;
    },
    toString: function () {
      return 3;
    }
  }) ) // 2
  `
}
</CodeRun>

#### `String()`
1. å‚æ•°æ˜¯åŸå§‹ç±»å‹å€¼

è½¬æ¢è§„åˆ™ï¼š
- æ•°å€¼ï¼šè½¬ä¸ºç›¸åº”çš„å­—ç¬¦ä¸²ã€‚
- å­—ç¬¦ä¸²ï¼šè½¬æ¢åè¿˜æ˜¯åŸæ¥çš„å€¼ã€‚
- å¸ƒå°”å€¼ï¼štrueè½¬ä¸ºå­—ç¬¦ä¸²"true"ï¼Œfalseè½¬ä¸ºå­—ç¬¦ä¸²"false"ã€‚
- `undefined`ï¼šè½¬ä¸ºå­—ç¬¦ä¸²"undefined"ã€‚
- `null`ï¼šè½¬ä¸ºå­—ç¬¦ä¸²"null"ã€‚
<CodeRun>
{
  `
  console.log( String(123) )       // "123"
  console.log( String('abc') )     // "abc"
  console.log( String(true) )      // "true"
  console.log( String(undefined) ) // "undefined"
  console.log( String(null) )      // "null"
  `
}
</CodeRun>

2. å‚æ•°æ˜¯å¯¹è±¡

è½¬æ¢è§„åˆ™ï¼š
- å…ˆè°ƒç”¨å¯¹è±¡è‡ªèº«çš„ `toString` æ–¹æ³•ã€‚å¦‚æœè¿”å›åŸå§‹ç±»å‹çš„å€¼ï¼Œåˆ™å¯¹è¯¥å€¼ä½¿ç”¨Stringå‡½æ•°ï¼Œä¸å†è¿›è¡Œä»¥ä¸‹æ­¥éª¤ã€‚
- å¦‚æœ `toString` æ–¹æ³•è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œå†è°ƒç”¨åŸå¯¹è±¡çš„ `valueOf` æ–¹æ³•ã€‚å¦‚æœ `valueOf` æ–¹æ³•è¿”å›åŸå§‹ç±»å‹çš„å€¼ï¼Œåˆ™å¯¹è¯¥å€¼ä½¿ç”¨Stringå‡½æ•°ï¼Œä¸å†è¿›è¡Œä»¥ä¸‹æ­¥éª¤ã€‚
- å¦‚æœ `valueOf` æ–¹æ³•è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œå°±æŠ¥é”™ã€‚
<CodeRun>
{
  `
  console.log( String([1, 2, 3]) ) // "1,2,3"
  console.log( String([{a:1}, {b:2}, {c:3}]) ) // "[object Object],[object Object],[object Object]"
  console.log( [1, 2, 3].toString() )
  console.log( [{a:1}, {b:2}, {c:3}].toString() )
  // å…ˆè°ƒç”¨å¯¹è±¡{a: 1}çš„toStringæ–¹æ³•ï¼Œå‘ç°è¿”å›çš„æ˜¯å­—ç¬¦ä¸²[object Object]ï¼Œå°±ä¸å†è°ƒç”¨valueOfæ–¹æ³•äº†
  console.log( String({a: 1}) )    // "[object Object]"
  console.log( {a: 1}.toString() )
  `
}
</CodeRun>
<CodeRun>
{
  `
  // toStringå’ŒvalueOfæ–¹æ³•ï¼Œè¿”å›çš„éƒ½æ˜¯å¯¹è±¡ï¼Œå°±ä¼šæŠ¥é”™
  var obj = {
    valueOf: function () {
      return {};
    },
    toString: function () {
      return {};
    }
  };
  console.log( String(obj) ) // TypeError: Cannot convert object to primitive value
  `
}
</CodeRun>
<CodeRun>
{
  `
  console.log( String({
    toString: function () {
      return 3;
    }
  }) ) // "3"
  console.log( String({
    valueOf: function () {
      return 2;
    }
  }) ) // "[object Object]"
  console.log( String({
    valueOf: function () {
      return 2;
    },
    toString: function () {
      return 3;
    }
  }) ) // "3"
  `
}
</CodeRun>

#### `Boolean()`
è½¬æ¢è§„åˆ™ï¼šé™¤äº†ä»¥ä¸‹äº”ä¸ªå€¼çš„è½¬æ¢ç»“æœä¸º`false`ï¼Œå…¶ä»–çš„å€¼å…¨éƒ¨ä¸º`true`
- `undefined`
- `null`
- `0`ï¼ˆåŒ…å«`-0` å’Œ `+0`ï¼‰
- `NaN`
- ''ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰
<CodeRun>
{
  `
  console.log( Boolean(undefined) ) // false
  console.log( Boolean(null) )      // false
  console.log( Boolean(0) )         // false
  console.log( Boolean(NaN) )       // false
  console.log( Boolean('') )        // false
  `
}
</CodeRun>

:::warning
æ³¨æ„ï¼Œæ‰€æœ‰å¯¹è±¡ï¼ˆåŒ…æ‹¬ç©ºå¯¹è±¡ï¼‰çš„è½¬æ¢ç»“æœéƒ½æ˜¯`true`ï¼Œç”šè‡³è¿`false`å¯¹åº”çš„å¸ƒå°”å¯¹è±¡`new Boolean(false)`ä¹Ÿæ˜¯`true`
<CodeRun>
{
  `
  console.log( Boolean({}) )                 // true
  console.log( Boolean([]) )                 // true
  console.log( Boolean(new Boolean(false)) ) // true
  `
}
</CodeRun>
:::

### è‡ªåŠ¨è½¬æ¢
é‡åˆ°ä»¥ä¸‹ä¸‰ç§æƒ…å†µæ—¶ï¼ŒJavaScript ä¼šè‡ªåŠ¨è½¬æ¢æ•°æ®ç±»å‹:
1. ä¸åŒç±»å‹çš„æ•°æ®äº’ç›¸è¿ç®—ã€‚è™½ç„¶å˜é‡çš„æ•°æ®ç±»å‹æ˜¯ä¸ç¡®å®šçš„ï¼Œä½†æ˜¯å„ç§è¿ç®—ç¬¦å¯¹æ•°æ®ç±»å‹æ˜¯æœ‰è¦æ±‚çš„ã€‚å¦‚æœè¿ç®—ç¬¦å‘ç°ï¼Œè¿ç®—å…ƒçš„ç±»å‹ä¸é¢„æœŸä¸ç¬¦ï¼Œå°±ä¼šè‡ªåŠ¨è½¬æ¢ç±»å‹ã€‚
   - **é™¤äº†åŠ æ³•è¿ç®—ç¬¦ï¼ˆ+ï¼‰æœ‰å¯èƒ½æŠŠè¿ç®—å…ƒè½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå…¶ä»–è¿ç®—ç¬¦éƒ½ä¼šæŠŠè¿ç®—å…ƒè‡ªåŠ¨è½¬æˆæ•°å€¼ï¼ˆä¼šè‡ªåŠ¨è°ƒç”¨`Number()`å‡½æ•°ï¼‰**ã€‚
   - å­—ç¬¦ä¸²çš„è‡ªåŠ¨è½¬æ¢ï¼Œä¸»è¦å‘ç”Ÿåœ¨å­—ç¬¦ä¸²çš„åŠ æ³•è¿ç®—æ—¶ï¼Œåªè¦ä»»æ„ä¸€ä¸ªè¿ç®—å…ƒæ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªè¿ç®—å…ƒä¹Ÿå°†è¢«è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼ˆä¼šè‡ªåŠ¨è°ƒç”¨`String()`å‡½æ•°ï¼‰ã€‚
<CodeRun>
{
  `
  console.log( "6" / "2" )           // 3
  console.log( '5' - '2' )           // 3
  console.log( '5' * '2' )           // 10
  console.log( true - 1 )            // 0
  console.log( false - 1 )           // -1
  console.log( '1' - 1 )             // 0
  console.log( '5' * [] )            // 0
  console.log( false / '5' )         // 0
  console.log( 'abc' - 1 )           // NaN
  console.log( null + 1 )            // 1
  console.log( undefined + 1 )       // NaN
  console.log( "" + 1 + 0 )          // "10"
  console.log( "" - 1 + 0 )          // -1
  console.log( "  -9  " + 5 )        // "  -9  5"
  console.log( "  -9  " - 5 )        // -14
  `
}
</CodeRun>

   ```js
   console.log( " \t \n" - 2 )        // -2
   ```
   <CodeRun>
   {
     `
     console.log( 123 + 'abc' )         // "123abc"
     console.log( '5' + 1 )             // '51'
     console.log( '5' + true )          // "5true"
     console.log( '5' + false )         // "5false"
     console.log( '5' + {} )            // "5[object Object]"
     console.log( '5' + [] )            // "5"
     console.log( '5' + function (){} ) // "5function (){}"
     console.log( '5' + undefined )     // "5undefined"
     console.log( '5' + null )          // "5null"
     `
   }
   </CodeRun>

2. JavaScript é‡åˆ°é¢„æœŸä¸ºå¸ƒå°”å€¼çš„åœ°æ–¹ï¼ˆæ¯”å¦‚ifè¯­å¥çš„æ¡ä»¶éƒ¨åˆ†ï¼‰ï¼Œå°±ä¼šå°†éå¸ƒå°”å€¼çš„å‚æ•°è‡ªåŠ¨è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼ˆä¼šè‡ªåŠ¨è°ƒç”¨`Boolean()`å‡½æ•°ï¼‰ã€‚
<CodeRun>
{
  `
  if ('abc') {
    console.log('hello')
  }
  // ä¸‹é¢ä¸¤ç§å†™æ³•ï¼Œæœ‰æ—¶ä¹Ÿç”¨äºå°†ä¸€ä¸ªè¡¨è¾¾å¼è½¬ä¸ºå¸ƒå°”å€¼ã€‚å®ƒä»¬å†…éƒ¨è°ƒç”¨çš„ä¹Ÿæ˜¯Boolean()å‡½æ•°ã€‚
  // å†™æ³•ä¸€
  expression ? true : false
  // å†™æ³•äºŒ
  !! expression
  `
}
</CodeRun>

3. å¯¹éæ•°å€¼ç±»å‹çš„å€¼ä½¿ç”¨ä¸€å…ƒè¿ç®—ç¬¦ï¼ˆå³+å’Œ-ï¼‰ï¼Œä¼šæŠŠè¿ç®—å…ƒè½¬æˆæ•°å€¼ã€‚
<CodeRun>
{
  `
  console.log( +{foo: 'bar'} )  // NaN
  console.log( -[1, 2, 3] )     // NaN
  console.log( +'abc' )         // NaN
  console.log( -'abc' )         // NaN
  console.log( +true )          // 1
  console.log( -false )         // 0
  console.log( +"" )            // 0
  `
}
</CodeRun>

## å€¼çš„æ¯”è¾ƒ
### å­—ç¬¦ä¸²æ¯”è¾ƒ
å­—ç¬¦ä¸²æ˜¯æŒ‰å­—ç¬¦ï¼ˆæ¯ï¼‰é€ä¸ªè¿›è¡Œæ¯”è¾ƒçš„(éµå¾ª Unicode ç¼–ç é¡ºåº)ï¼š
1. é¦–å…ˆæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„é¦–ä½å­—ç¬¦å¤§å°ã€‚
2. å¦‚æœä¸€æ–¹å­—ç¬¦è¾ƒå¤§ï¼ˆæˆ–è¾ƒå°ï¼‰ï¼Œåˆ™è¯¥å­—ç¬¦ä¸²å¤§äºï¼ˆæˆ–å°äºï¼‰å¦ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ç®—æ³•ç»“æŸã€‚
3. å¦åˆ™ï¼Œå¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²çš„é¦–ä½å­—ç¬¦ç›¸ç­‰ï¼Œåˆ™ç»§ç»­å–å‡ºä¸¤ä¸ªå­—ç¬¦ä¸²å„è‡ªçš„åä¸€ä½å­—ç¬¦è¿›è¡Œæ¯”è¾ƒã€‚
4. é‡å¤ä¸Šè¿°æ­¥éª¤è¿›è¡Œæ¯”è¾ƒï¼Œç›´åˆ°æ¯”è¾ƒå®ŒæˆæŸå­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦ä¸ºæ­¢ã€‚
5. å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²çš„å­—ç¬¦åŒæ—¶ç”¨å®Œï¼Œé‚£ä¹ˆåˆ™åˆ¤å®šå®ƒä»¬ç›¸ç­‰ï¼Œå¦åˆ™æœªç»“æŸï¼ˆè¿˜æœ‰æœªæ¯”è¾ƒçš„å­—ç¬¦ï¼‰çš„å­—ç¬¦ä¸²æ›´å¤§ã€‚
<CodeRun>
{
  `
  console.log( 'Z' > 'A' );       // true
  console.log( 'Glow' > 'Glee' ); // true
  console.log( 'Bee' > 'Be' );    // true
  `
}
</CodeRun>

#### å­—ç¬¦ä¸²æ¯”è¾ƒå¯¹å­—æ¯å¤§å°å†™æ˜¯æ•æ„Ÿçš„
æ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½ä½¿ç”¨ UTF-16 ç¼–ç ã€‚å³ï¼šæ¯ä¸ªå­—ç¬¦éƒ½æœ‰å¯¹åº”çš„æ•°å­—ä»£ç ã€‚å­—ç¬¦é€šè¿‡æ•°å­—ä»£ç è¿›è¡Œæ¯”è¾ƒï¼Œè¶Šå¤§çš„ä»£ç æ„å‘³ç€å­—ç¬¦è¶Šå¤§ã€‚aï¼ˆ97ï¼‰çš„ä»£ç å¤§äº Zï¼ˆ90ï¼‰çš„ä»£ç ã€‚
- `codePointAt(pos)` è¿”å›åœ¨ `pos` ä½ç½®çš„å­—ç¬¦ä»£ç 
  ```js
  // ä¸åŒçš„å­—æ¯æœ‰ä¸åŒçš„ä»£ç 
  alert( "z".codePointAt(0) ); // 122
  alert( "Z".codePointAt(0) ); // 90
  ```

- `String.fromCodePoint(code)` é€šè¿‡æ•°å­— code åˆ›å»ºå­—ç¬¦
  ```js
  alert( String.fromCodePoint(90) ); // 'Z'
  // è¿˜å¯ä»¥ç”¨ \u åè·Ÿåå…­è¿›åˆ¶ä»£ç ï¼Œåœ¨åå…­è¿›åˆ¶ç³»ç»Ÿä¸­ 90 ä¸º 5a
  alert( '\u005a' ); // Z
  ```
  ```js
  let str = '';

  for (let i = 65; i <= 220; i++) {
    str += String.fromCodePoint(i);
  }
  alert( str );
  // ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~Â€ÂÂ‚ÂƒÂ„
  // Â¡Â¢Â£Â¤Â¥Â¦Â§Â¨Â©ÂªÂ«Â¬Â­Â®Â¯Â°Â±Â²Â³Â´ÂµÂ¶Â·Â¸Â¹ÂºÂ»Â¼Â½Â¾Â¿Ã€ÃÃ‚ÃƒÃ„Ã…Ã†Ã‡ÃˆÃ‰ÃŠÃ‹ÃŒÃÃÃÃÃ‘Ã’Ã“Ã”Ã•Ã–Ã—Ã˜Ã™ÃšÃ›Ãœ
  ```

#### [`localeCompare`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare)
æ‰€æœ‰ç°ä»£æµè§ˆå™¨ï¼ˆIE10 éœ€è¦é¢å¤–çš„åº“ [Intl.JS](https://github.com/andyearnshaw/Intl.js/)ï¼‰éƒ½æ”¯æŒå›½é™…åŒ–æ ‡å‡† [ECMA-402](http://www.ecma-international.org/ecma-402/1.0/ECMA-402.pdf)ã€‚å®ƒæä¾›äº†`localeCompare`æ–¹æ³•æ¥æ¯”è¾ƒä¸åŒè¯­è¨€çš„å­—ç¬¦ä¸²ï¼Œéµå¾ªå®ƒä»¬çš„è§„åˆ™ã€‚

è°ƒç”¨ `str.localeCompare(str2)` ä¼šæ ¹æ®è¯­è¨€è§„åˆ™è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¿™ä¸ªæ•´æ•°èƒ½æŒ‡ç¤ºå­—ç¬¦ä¸² str åœ¨æ’åºé¡ºåºä¸­æ’åœ¨å­—ç¬¦ä¸² str2 å‰é¢ã€åé¢ã€è¿˜æ˜¯ç›¸åŒï¼š
- å¦‚æœ str æ’åœ¨ str2 å‰é¢ï¼Œåˆ™è¿”å›è´Ÿæ•°ã€‚
- å¦‚æœ str æ’åœ¨ str2 åé¢ï¼Œåˆ™è¿”å›æ­£æ•°ã€‚
- å¦‚æœå®ƒä»¬åœ¨ç›¸åŒä½ç½®ï¼Œåˆ™è¿”å› 0ã€‚

```js
alert( 'Ã–sterreich'.localeCompare('Zealand') ); // -1
```

`localeCompare`æ–¹æ³• è¿˜æŒ‡å®šäº†ä¸¤ä¸ªé¢å¤–çš„å‚æ•°ï¼Œè¿™ä¸¤ä¸ªå‚æ•°å…è®¸å®ƒæŒ‡å®šè¯­è¨€ï¼ˆé»˜è®¤è¯­è¨€ä»ç¯å¢ƒä¸­è·å–ï¼Œå­—ç¬¦é¡ºåºè§†è¯­è¨€ä¸åŒè€Œä¸åŒï¼‰å¹¶è®¾ç½®è¯¸å¦‚åŒºåˆ†å¤§å°å†™ï¼Œæˆ–åº”è¯¥å°† "a" å’Œ "aÌ" ä½œç›¸åŒå¤„ç†ç­‰é™„åŠ çš„è§„åˆ™ã€‚


### ä¸åŒç±»å‹é—´çš„æ¯”è¾ƒ
**å½“å¯¹ä¸åŒç±»å‹çš„å€¼è¿›è¡Œæ¯”è¾ƒæ—¶ï¼ŒJavaScript ä¼šé¦–å…ˆå°†å…¶è½¬åŒ–ä¸ºæ•°å­—ï¼ˆnumberï¼‰å†åˆ¤å®šå¤§å°ã€‚**
:::warning
`undefined` å’Œ `null` åœ¨ç›¸ç­‰æ€§æ£€æŸ¥ `==` ä¸­ä¸ä¼šè¿›è¡Œä»»ä½•çš„ç±»å‹è½¬æ¢ï¼Œå®ƒä»¬æœ‰è‡ªå·±ç‹¬ç«‹çš„æ¯”è¾ƒè§„åˆ™: é™¤äº†å®ƒä»¬ä¹‹é—´äº’ç­‰å¤–ï¼Œä¸ä¼šç­‰äºä»»ä½•å…¶ä»–çš„å€¼ã€‚
:::

<CodeRun>
{
  `
  console.log( '2' > 1 );    // trueï¼Œå­—ç¬¦ä¸² '2' ä¼šè¢«è½¬åŒ–ä¸ºæ•°å­— 2
  console.log( '01' == 1 );  // trueï¼Œå­—ç¬¦ä¸² '01' ä¼šè¢«è½¬åŒ–ä¸ºæ•°å­— 1
  // å¯¹äºå¸ƒå°”ç±»å‹å€¼ï¼Œtrue ä¼šè¢«è½¬åŒ–ä¸º 1ã€false è½¬åŒ–ä¸º 0
  console.log( true == 1 );  // true
  console.log( false == 0 ); // true
  console.log( "2" > "12" ); // true æ³¨æ„ï¼šä¸åŒç±»å‹çš„å€¼è¿›è¡Œæ¯”è¾ƒæ—¶ä¼šå…ˆå°†å…¶è½¬åŒ–ä¸ºæ•°å­—å†åˆ¤å®šå¤§å°ï¼›åŒç±»å‹å­—ç¬¦ä¸²æ¯”è¾ƒæŒ‰ Unicode ç¼–ç é¡ºåºæ¯”è¾ƒï¼Œé¦–ä½å­—ç¬¦ "2" å¤§äº "1"
  `
}
</CodeRun>

#### ä¸¥æ ¼ç›¸ç­‰
æ™®é€šçš„ç›¸ç­‰æ€§æ£€æŸ¥ `==` å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå®ƒä¸èƒ½åŒºåˆ†å‡º `0` å’Œ `false` ä»¥åŠ ç©ºå­—ç¬¦ä¸² å’Œ `false`ï¼Œè¿™æ˜¯å› ä¸ºåœ¨æ¯”è¾ƒä¸åŒç±»å‹çš„å€¼æ—¶ï¼Œå¤„äºç›¸ç­‰åˆ¤æ–­ç¬¦å· `==` ä¸¤ä¾§çš„å€¼ä¼šå…ˆè¢«è½¬åŒ–ä¸ºæ•°å­—ã€‚ç©ºå­—ç¬¦ä¸²å’Œ `false` ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œè½¬åŒ–åå®ƒä»¬éƒ½ä¸ºæ•°å­— `0`ã€‚
<CodeRun>
{
  `
  console.log( 0 == false );  // true
  console.log( '' == false ); // true
  `
}
</CodeRun>

ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ `===` åœ¨è¿›è¡Œæ¯”è¾ƒæ—¶ä¸ä¼šåšä»»ä½•çš„ç±»å‹è½¬æ¢ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœ `a` å’Œ `b` å±äºä¸åŒçš„æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆ `a === b` ä¸ä¼šåšä»»ä½•çš„ç±»å‹è½¬æ¢è€Œç«‹åˆ»è¿”å› `false`ã€‚
<CodeRun>
{
  `
  console.log( 0 === false ); // falseï¼Œå› ä¸ºè¢«æ¯”è¾ƒå€¼çš„æ•°æ®ç±»å‹ä¸åŒ
  `
}
</CodeRun>

#### `null` æˆ– `undefined` å‚ä¸çš„å€¼æ¯”è¾ƒ
1. å½“ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰ `===` æ¯”è¾ƒäºŒè€…æ—¶ï¼Œå®ƒä»¬ä¸ç›¸ç­‰ï¼Œå› ä¸ºå®ƒä»¬å±äºä¸åŒçš„ç±»å‹ã€‚
   <CodeRun>
   {
    `
    console.log( null === undefined ); // false
    `
   }
   </CodeRun>

2. **å½“ä½¿ç”¨éä¸¥æ ¼ç›¸ç­‰ `==` æ¯”è¾ƒæ—¶ï¼Œ`null`ã€`undefined`ä»…ä»…ç­‰äºå¯¹æ–¹è€Œä¸ç­‰äºå…¶ä»–ä»»ä½•çš„å€¼ã€‚**
<CodeRun>
{
  `
  console.log( undefined == null ) // true
  console.log( undefined == 0 )    // false
  console.log( null == 0 )         // false
  `
}
</CodeRun>

3. å½“ä½¿ç”¨æ•°å­¦å¼æˆ–å…¶ä»–æ¯”è¾ƒæ–¹æ³• `<` `>` `<=` `>=` æ—¶ï¼Œ`null`ã€`undefined` ä¼šè¢«è½¬åŒ–ä¸ºæ•°å­—ï¼š`null` è¢«è½¬åŒ–ä¸º `0`ï¼Œ`undefined` è¢«è½¬åŒ–ä¸º `NaN`ã€‚**`NaN` æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ•°å€¼å‹å€¼ï¼Œå®ƒä¸ä»»ä½•å€¼(åŒ…æ‹¬å®ƒè‡ªèº«)è¿›è¡Œæ¯”è¾ƒéƒ½ä¼šè¿”å› `false`ã€‚**
<CodeRun>
{
  `
  console.log( null > 0 );       // false
  console.log( null == 0 );      // false
  console.log( null >= 0 );      // true
  console.log( undefined > 0 );  // false
  console.log( undefined < 0 );  // false
  console.log( undefined == 0 ); // false
  console.log( NaN === NaN );    // false
  `
}
</CodeRun>

### `Object.is`
åœ¨æ‰€æœ‰å…¶ä»–æƒ…å†µä¸‹ï¼Œ`Object.is(a, b)` ä¸ `a === b` ç›¸åŒã€‚ä»¥ä¸‹ä¸¤ç§æƒ…å†µä¸åŒï¼š
1. `NaN`è‡ªèº«çš„æ¯”è¾ƒ
<CodeRun>{`
console.log( Object.is(NaN, NaN) ); // true
console.log( NaN === NaN );         // false
`}</CodeRun>

2. 0 å’Œ -0
<CodeRun>{`
console.log( Object.is(0, -0) ); // false ä»æŠ€æœ¯ä¸Šè®² 0 å’Œ -0 æ˜¯ä¸åŒçš„ï¼Œå› ä¸ºåœ¨å†…éƒ¨ï¼Œæ•°å­—çš„ç¬¦å·ä½å¯èƒ½ä¼šä¸åŒï¼Œå³ä½¿å…¶ä»–æ‰€æœ‰ä½å‡ä¸ºé›¶ã€‚
console.log( 0 === -0 );         // true
`}</CodeRun>