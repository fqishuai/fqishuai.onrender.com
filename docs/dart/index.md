# Dart
[Dart](https://dart.dev/)

åœ¨çº¿ç»ƒä¹ ï¼š[DartPad](https://dartpad.dev/)

## JIT å’Œ AOT
Dart VM æä¾›äº†ä¸€ä¸ªå®æ—¶ç¼–è¯‘å™¨ (JIT)ï¼Œç¼–è¯‘å™¨æ‹¥æœ‰å¢é‡é‡ç¼–è¯‘åŠŸèƒ½ (æ”¯æŒçƒ­é‡è½½)ã€è¿è¡Œæ•°æ®æ”¶é›†ï¼ˆç”¨äºé©±åŠ¨ DevToolsï¼‰ä»¥åŠä¸°å¯Œçš„å¼€å‘è°ƒè¯•æ”¯æŒã€‚

å½“åº”ç”¨ç¨‹åºå¯ä»¥éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶ (æ— è®ºæ˜¯å‘å¸ƒåˆ°åº”ç”¨å•†åº—è¿˜æ˜¯éƒ¨ç½²åˆ°ç”Ÿäº§åç«¯)ï¼Œ Dart AOT ç¼–è¯‘å™¨å¯ä»¥ç¼–è¯‘æˆåŸç”Ÿçš„ ARM æˆ– x64 çš„æœºå™¨ç ã€‚

JIT æ›´é€‚åˆå¼€å‘é˜¶æ®µï¼Œæä¾›æ›´å¥½çš„å¼€å‘ä½“éªŒã€‚AOT æ›´é€‚åˆç”Ÿäº§ç¯å¢ƒï¼Œæä¾›æ›´å¥½çš„è¿è¡Œæ—¶æ€§èƒ½ã€‚

Dart çš„å¼€å‘å·¥å…·ï¼ˆå¦‚ Dart DevToolsï¼‰ä¸è¿™ä¸¤ç§ç¼–è¯‘æ¨¡å¼æ— ç¼é›†æˆã€‚

åœ¨ Flutter ä¸­çš„åº”ç”¨ï¼š
- å¼€å‘æ—¶ä½¿ç”¨ JITï¼Œæ”¯æŒçƒ­é‡è½½åŠŸèƒ½ã€‚
- å‘å¸ƒæ—¶ä½¿ç”¨ AOTï¼Œç”Ÿæˆé«˜æ€§èƒ½çš„æœ¬åœ°åº”ç”¨ã€‚

### JIT
JIT ä»£è¡¨ Just-In-Timeï¼ˆå³æ—¶ç¼–è¯‘ï¼‰ã€‚

å·¥ä½œåŸç†ï¼šDart ä»£ç åœ¨è¿è¡Œæ—¶è¢«ç¼–è¯‘æˆæœ¬åœ°æœºå™¨ç ã€‚

ä¼˜ç‚¹ï¼š
- å¿«é€Ÿå¼€å‘å‘¨æœŸï¼šæ”¯æŒçƒ­é‡è½½ï¼Œå…è®¸å¿«é€Ÿè¿­ä»£ã€‚
- åŠ¨æ€ä¼˜åŒ–ï¼šå¯ä»¥æ ¹æ®è¿è¡Œæ—¶ä¿¡æ¯ä¼˜åŒ–ä»£ç ã€‚

åº”ç”¨åœºæ™¯ï¼šä¸»è¦ç”¨äºå¼€å‘å’Œè°ƒè¯•é˜¶æ®µã€‚

### AOT
AOT ä»£è¡¨ Ahead-Of-Timeï¼ˆæå‰ç¼–è¯‘ï¼‰ã€‚

å·¥ä½œåŸç†ï¼šåœ¨åº”ç”¨å‘å¸ƒå‰ï¼ŒDart ä»£ç è¢«ç¼–è¯‘æˆæœ¬åœ°æœºå™¨ç ã€‚

ä¼˜ç‚¹ï¼š
- æ›´å¿«çš„å¯åŠ¨æ—¶é—´ï¼šæ— éœ€è¿è¡Œæ—¶ç¼–è¯‘ã€‚
- æ›´å°çš„å†…å­˜å ç”¨ï¼šä¸éœ€è¦åŒ…å«ç¼–è¯‘å™¨ã€‚
- æ›´å¥½çš„æ€§èƒ½ï¼šä»£ç å·²ç»ä¼˜åŒ–ä¸ºæœ¬åœ°æœºå™¨ç ã€‚

åº”ç”¨åœºæ™¯ï¼šç”¨äºç”Ÿäº§ç¯å¢ƒçš„åº”ç”¨å‘å¸ƒã€‚

## `extends` å’Œ `implements`
Dart è¯­è¨€ä¸­çš„ `extends` å’Œ `implements` æ˜¯ä¸¤ç§ä¸åŒçš„ç»§æ‰¿æœºåˆ¶ï¼Œå®ƒä»¬åœ¨ç”¨é€”å’Œè¡Œä¸ºä¸Šæœ‰æ˜¾è‘—çš„åŒºåˆ«ã€‚è®©æˆ‘ä»¬è¯¦ç»†æ¢è®¨è¿™ä¸¤ä¸ªå…³é”®å­—ï¼š

1. `extends`ï¼ˆæ‰©å±•ï¼‰:

   - ç”¨é€”ï¼šç”¨äºåˆ›å»ºä¸€ä¸ªç±»çš„å­ç±»ã€‚
   - ç‰¹ç‚¹ï¼š
     a) å•ç»§æ‰¿ï¼šä¸€ä¸ªç±»åªèƒ½ `extends` ä¸€ä¸ªçˆ¶ç±»ã€‚
     b) ç»§æ‰¿å®ç°ï¼šå­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³•å’Œå±æ€§çš„å®ç°ã€‚
     c) æ„é€ å‡½æ•°ï¼šå­ç±»å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚
     d) é‡å†™ï¼šå­ç±»å¯ä»¥é‡å†™çˆ¶ç±»çš„æ–¹æ³•ã€‚
     e) `super` å…³é”®å­—ï¼šå¯ä»¥ä½¿ç”¨ `super` è®¿é—®çˆ¶ç±»çš„æˆå‘˜ã€‚

   - ç¤ºä¾‹ï¼š
     ```dart
     class Animal {
       void makeSound() {
         print('Some sound');
       }
     }

     class Dog extends Animal {
       @override
       void makeSound() {
         print('Bark');
       }
     }
     ```

   - ä½¿ç”¨åœºæ™¯ï¼šå½“ä½ æƒ³è¦åˆ›å»ºä¸€ä¸ªç‰¹æ®ŠåŒ–çš„ç‰ˆæœ¬çš„ç°æœ‰ç±»æ—¶ä½¿ç”¨ã€‚

2. `implements`ï¼ˆå®ç°ï¼‰:

   - ç”¨é€”ï¼šç”¨äºå®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ã€‚
   - ç‰¹ç‚¹ï¼š
     a) å¤šå®ç°ï¼šä¸€ä¸ªç±»å¯ä»¥ `implements` å¤šä¸ªæ¥å£ã€‚
     b) å¼ºåˆ¶å®ç°ï¼šå¿…é¡»å®ç°æ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ã€‚
     c) æ²¡æœ‰ç»§æ‰¿å®ç°ï¼šåªç»§æ‰¿æ–¹æ³•ç­¾åï¼Œä¸ç»§æ‰¿å®ç°ã€‚
     d) æ²¡æœ‰ `super`ï¼šä¸èƒ½ä½¿ç”¨ `super` å…³é”®å­—ã€‚
     e) æ„é€ å‡½æ•°ï¼šä¸ç»§æ‰¿æ¥å£çš„æ„é€ å‡½æ•°ã€‚

   - ç¤ºä¾‹ï¼š
     ```dart
     abstract class Flyable {
       void fly();
     }

     abstract class Swimmable {
       void swim();
     }

     class Duck implements Flyable, Swimmable {
       @override
       void fly() {
         print('Duck flying');
       }

       @override
       void swim() {
         print('Duck swimming');
       }
     }
     ```

   - ä½¿ç”¨åœºæ™¯ï¼šå½“ä½ æƒ³è¦ç¡®ä¿ä¸€ä¸ªç±»å…·æœ‰ç‰¹å®šçš„æ–¹æ³•æ—¶ä½¿ç”¨ã€‚

:::tip
æ–¹æ³•ç­¾åçš„å®šä¹‰ï¼š
- æ–¹æ³•ç­¾ååŒ…æ‹¬æ–¹æ³•åã€å‚æ•°åˆ—è¡¨ï¼ˆå‚æ•°ç±»å‹å’Œé¡ºåºï¼‰ä»¥åŠè¿”å›ç±»å‹ã€‚
- å®ƒä¸åŒ…æ‹¬æ–¹æ³•çš„å…·ä½“å®ç°ï¼ˆæ–¹æ³•ä½“ï¼‰ã€‚

å½“ä¸€ä¸ªç±» `implements` ä¸€ä¸ªæ¥å£æ—¶ï¼Œå®ƒåªç»§æ‰¿è¯¥æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ç­¾åã€‚è¿™æ„å‘³ç€å®ç°ç±»å¿…é¡»æä¾›è¿™äº›æ–¹æ³•çš„å…·ä½“å®ç°ï¼Œè€Œä¸æ˜¯ç»§æ‰¿ç°æœ‰çš„å®ç°ã€‚å¦‚ä¸‹ä¾‹å­ä¸­ï¼Œ`Circle` ç±»å¿…é¡»å®ç° `draw()` å’Œ `getDescription()` æ–¹æ³•ã€‚å³ä½¿ `Drawable` æ¥å£ä¸­ `getDescription()` æœ‰é»˜è®¤å®ç°ï¼Œ`Circle` ç±»ä¹Ÿä¸èƒ½ç›´æ¥ä½¿ç”¨å®ƒã€‚
```dart
abstract class Drawable {
  void draw();
  String getDescription() {
    return "This is drawable";
  }
}

class Circle implements Drawable {
  @override
  void draw() {
    print("Drawing a circle");
  }

  @override
  String getDescription() {
    // å¿…é¡»é‡æ–°å®ç°ï¼Œä¸èƒ½ä½¿ç”¨ Drawable ä¸­çš„å®ç°
    return "This is a circle";
  }
}
```
:::

3. ä¸»è¦åŒºåˆ«ï¼š

   - ç»§æ‰¿ vs æ¥å£ï¼š`extends` ç”¨äºç±»ç»§æ‰¿ï¼Œ`implements` ç”¨äºæ¥å£å®ç°ã€‚
   - å•ä¸€ vs å¤šé‡ï¼š`extends` åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œ`implements` å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚
   - å®ç°ç»§æ‰¿ï¼š`extends` ç»§æ‰¿æ–¹æ³•å’Œå±æ€§çš„å®ç°ï¼Œ`implements` åªç»§æ‰¿æ–¹æ³•ç­¾åã€‚
   - å¼ºåˆ¶æ€§ï¼š`implements` å¼ºåˆ¶å®ç°æ‰€æœ‰æ–¹æ³•ï¼Œ`extends` å…è®¸é€‰æ‹©æ€§é‡å†™ã€‚

4. æ··åˆä½¿ç”¨ï¼š

   - Dart å…è®¸åŒæ—¶ä½¿ç”¨ `extends` å’Œ `implements`ï¼š
     ```dart
     class Bird extends Animal implements Flyable {
       @override
       void fly() {
         print('Bird flying');
       }
     }
     ```

5. æŠ½è±¡ç±»ï¼š

   - æŠ½è±¡ç±»å¯ä»¥åŒ…å«æŠ½è±¡æ–¹æ³•å’Œå…·ä½“æ–¹æ³•ã€‚
   - å¯ä»¥ç”¨ `extends` ç»§æ‰¿æŠ½è±¡ç±»ï¼Œä¹Ÿå¯ä»¥ç”¨ `implements` å®ç°æŠ½è±¡ç±»ã€‚

6. `mixin`ï¼š

   - Dart è¿˜æä¾›äº† `mixin` å…³é”®å­—ï¼Œç”¨äºå¤šé‡ç»§æ‰¿çš„ä¸€ç§å½¢å¼ã€‚
   - ä½¿ç”¨ `with` å…³é”®å­—åº”ç”¨ `mixin`ã€‚ç¤ºä¾‹ï¼š
    ```dart
    mixin Piloted {
      int astronauts = 1;

      void describeCrew() {
        print('Number of astronauts: $astronauts');
      }
    }

    class PilotedCraft extends Spacecraft with Piloted {
      // Â·Â·Â·
    }
    ```

7. é€‰æ‹©æŒ‡å—ï¼š

   - ä½¿ç”¨ `extends` å½“ä½ æƒ³è¦åˆ›å»ºä¸€ä¸ªæ˜¯å¦ä¸€ä¸ªç±»çš„ç‰¹æ®ŠåŒ–ç‰ˆæœ¬ã€‚
   - ä½¿ç”¨ `implements` å½“ä½ æƒ³è¦åˆ›å»ºä¸€ä¸ªç¬¦åˆç‰¹å®šæ¥å£çš„ç±»ï¼Œä½†ä¸éœ€è¦ç»§æ‰¿ä»»ä½•å®ç°ã€‚

8. æ€§èƒ½è€ƒè™‘ï¼š

   - `extends` é€šå¸¸æ¯” `implements` æœ‰æ›´å¥½çš„æ€§èƒ½ï¼Œå› ä¸ºå®ƒä¸éœ€è¦é‡æ–°å®ç°æ‰€æœ‰æ–¹æ³•ã€‚

9. ä»£ç é‡ç”¨ï¼š

   - `extends` æä¾›äº†æ›´å¥½çš„ä»£ç é‡ç”¨æœºä¼šï¼Œå› ä¸ºå®ƒç»§æ‰¿äº†å®ç°ã€‚
   - `implements` æ›´å¤šåœ°ç”¨äºç¡®ä¿ç±»å‹å®‰å…¨å’Œæ¥å£ä¸€è‡´æ€§ã€‚

ç†è§£ `extends` å’Œ `implements` çš„åŒºåˆ«å¯¹äºè®¾è®¡çµæ´»ã€å¯ç»´æŠ¤çš„ Dart ä»£ç ç»“æ„è‡³å…³é‡è¦ã€‚æ­£ç¡®ä½¿ç”¨è¿™ä¸¤ä¸ªå…³é”®å­—å¯ä»¥å¸®åŠ©ä½ åˆ›å»ºæ›´æ¸…æ™°ã€æ›´æ¨¡å—åŒ–çš„ä»£ç æ¶æ„ã€‚

## ç©ºå®‰å…¨
ç©ºå®‰å…¨ï¼ˆNull Safetyï¼‰æ˜¯ Dart 2.12 ç‰ˆæœ¬å¼•å…¥çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼Œç›®çš„æ˜¯é˜²æ­¢ç©ºå¼•ç”¨é”™è¯¯ï¼Œæé«˜ä»£ç çš„å¯é æ€§ã€‚

å¯ç”¨ç©ºå®‰å…¨åï¼Œå˜é‡é»˜è®¤ä¸èƒ½ä¸º `null`ã€‚è¿™æ„å‘³ç€ä½ ä¸èƒ½å°† `null` èµ‹å€¼ç»™æ™®é€šå˜é‡ã€‚

ç©ºå®‰å…¨çš„å¥½å¤„ï¼š
- å‡å°‘ `NullPointerException` ç±»å‹çš„é”™è¯¯ã€‚
- ä½¿ä»£ç æ„å›¾æ›´æ¸…æ™°ã€‚
- æ”¹å–„ç±»å‹ç³»ç»Ÿï¼Œä½¿ç¼–è¯‘å™¨èƒ½å¤Ÿæ•è·æ›´å¤šæ½œåœ¨é”™è¯¯ã€‚
- ç©ºå®‰å…¨é€šå¸¸èƒ½æé«˜ä»£ç çš„æ€§èƒ½ï¼Œå› ä¸ºå‡å°‘äº†è¿è¡Œæ—¶çš„ `null` æ£€æŸ¥ã€‚

## æ–­è¨€
åœ¨Dartä¸­ï¼Œ`assert` æ˜¯ä¸€ä¸ªç”¨äºå¼€å‘å’Œè°ƒè¯•çš„é‡è¦å·¥å…·ã€‚å®ƒç”¨äºéªŒè¯å¸ƒå°”æ¡ä»¶ï¼Œå¦‚æœæ¡ä»¶ä¸º falseï¼Œåˆ™ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚ä»¥ä¸‹æ˜¯å¯¹ assert çš„è¯¦ç»†è§£é‡Šï¼š

1. åŸºæœ¬ç”¨æ³•

`assert` çš„åŸºæœ¬è¯­æ³•æ˜¯ï¼š

```dart
assert(condition, [optionalMessage]);
```

- `condition` æ˜¯ä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼
- `optionalMessage` æ˜¯ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²ï¼Œç”¨äºæä¾›æ›´å¤šä¿¡æ¯

ä¾‹å¦‚ï¼š

```dart
void setAge(int age) {
  assert(age >= 0, 'Age cannot be negative');
  // ...
}
```

2. ä½œç”¨å’Œç›®çš„

- è°ƒè¯•å·¥å…·ï¼š`assert` ä¸»è¦ç”¨äºå¼€å‘å’Œè°ƒè¯•é˜¶æ®µï¼Œå¸®åŠ©å¼€å‘è€…æ•è·å’Œè¯†åˆ«æ½œåœ¨çš„é”™è¯¯ã€‚
- å‰ç½®æ¡ä»¶æ£€æŸ¥ï¼šç”¨äºéªŒè¯å‡½æ•°æˆ–æ–¹æ³•çš„è¾“å…¥å‚æ•°æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚
- çŠ¶æ€éªŒè¯ï¼šç¡®ä¿å¯¹è±¡æˆ–ç³»ç»Ÿå¤„äºé¢„æœŸçš„çŠ¶æ€ã€‚

3. è¿è¡Œæ—¶è¡Œä¸º

- åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼ˆåŒ…æ‹¬ `dartdevc` å’Œ `dart run`ï¼‰ï¼Œ`assert` ä¼šè¢«æ‰§è¡Œã€‚
- åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ï¼ˆä½¿ç”¨ `dart compile` æˆ– Flutter çš„å‘å¸ƒæ¨¡å¼ï¼‰ï¼Œ`assert` ä¼šè¢«å¿½ç•¥ï¼Œä¸ä¼šå½±å“æ€§èƒ½ã€‚

4. å¯ç”¨å’Œç¦ç”¨

- é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨å¼€å‘æ¨¡å¼ä¸­ `assert` æ˜¯å¯ç”¨çš„ã€‚
- å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•° `--enable-asserts` æ˜¾å¼å¯ç”¨ `assert`ã€‚

5. ä½¿ç”¨åœºæ™¯

- å‚æ•°éªŒè¯ï¼š
  ```dart
  void processData(List<int> data) {
    assert(data.isNotEmpty, 'Data list cannot be empty');
    // ...
  }
  ```

- çŠ¶æ€æ£€æŸ¥ï¼š
  ```dart
  class BankAccount {
    double balance = 0;
    
    void withdraw(double amount) {
      assert(amount > 0, 'Withdrawal amount must be positive');
      assert(balance >= amount, 'Insufficient funds');
      balance -= amount;
    }
  }
  ```

- ä¸å¯è¾¾ä»£ç æ£€æµ‹ï¼š
  ```dart
  enum Color { red, green, blue }
  
  String getColorName(Color color) {
    switch (color) {
      case Color.red: return 'Red';
      case Color.green: return 'Green';
      case Color.blue: return 'Blue';
    }
    assert(false, 'Unreachable code');
    return ''; // è¿™è¡Œä»£ç ç†è®ºä¸Šæ°¸è¿œä¸ä¼šæ‰§è¡Œ
  }
  ```

6. æœ€ä½³å®è·µ

- ä½¿ç”¨æœ‰æ„ä¹‰çš„é”™è¯¯æ¶ˆæ¯ã€‚
- ä¸è¦åœ¨ `assert` ä¸­åŒ…å«æœ‰å‰¯ä½œç”¨çš„ä»£ç ã€‚
- ä¸è¦ä¾èµ– `assert` æ¥æ‰§è¡Œç¨‹åºé€»è¾‘ï¼Œå› ä¸ºå®ƒä»¬åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¼šè¢«å¿½ç•¥ã€‚
- å¯¹äºéœ€è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¹Ÿè¿›è¡Œæ£€æŸ¥çš„æ¡ä»¶ï¼Œä½¿ç”¨å¸¸è§„çš„ `if` è¯­å¥å’Œå¼‚å¸¸å¤„ç†ã€‚

7. æ³¨æ„äº‹é¡¹

- `assert` ä¸åº”è¯¥ç”¨äºå¤„ç†é¢„æœŸçš„è¿è¡Œæ—¶é”™è¯¯ï¼Œè¿™äº›é”™è¯¯åº”è¯¥ä½¿ç”¨å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚
- åœ¨ç”Ÿäº§ä»£ç ä¸­ï¼Œä¸è¦ä¾èµ– `assert` æ¥ä¿è¯ç¨‹åºçš„æ­£ç¡®æ€§ï¼Œå› ä¸ºå®ƒä»¬ä¼šè¢«å¿½ç•¥ã€‚

æ€»ç»“ï¼š
`assert` æ˜¯ Dart ä¸­ä¸€ä¸ªå¼ºå¤§çš„å¼€å‘å’Œè°ƒè¯•å·¥å…·ï¼Œå®ƒå¸®åŠ©å¼€å‘è€…åœ¨æ—©æœŸæ•è·å’Œè¯†åˆ«æ½œåœ¨çš„é—®é¢˜ã€‚æ­£ç¡®ä½¿ç”¨ `assert` å¯ä»¥æé«˜ä»£ç è´¨é‡ï¼Œå¢å¼ºç¨‹åºçš„å¥å£®æ€§ï¼Œå¹¶ç®€åŒ–è°ƒè¯•è¿‡ç¨‹ã€‚ç„¶è€Œï¼Œé‡è¦çš„æ˜¯è¦è®°ä½å®ƒä¸»è¦ç”¨äºå¼€å‘é˜¶æ®µï¼Œä¸åº”è¯¥è¢«ç”¨ä½œå¤„ç†ç”Ÿäº§ç¯å¢ƒä¸­é¢„æœŸé”™è¯¯çš„æœºåˆ¶ã€‚

## ç±»å‹
:::tip
Dart æ˜¯å¼ºç±»å‹çš„è¯­è¨€ï¼Œæ„å‘³ç€æ¯ä¸ªå˜é‡å’Œè¡¨è¾¾å¼éƒ½æœ‰ä¸€ä¸ªæ˜ç¡®çš„ç±»å‹ã€‚è¿™æœ‰åŠ©äºåœ¨ç¼–è¯‘æ—¶æ•è·ç±»å‹ç›¸å…³çš„é”™è¯¯ã€‚

åœ¨ Dart ä¸­ï¼Œæ‰€æœ‰å¯ä»¥å­˜å‚¨åœ¨å˜é‡ä¸­çš„å€¼éƒ½æ˜¯å¯¹è±¡ã€‚

æ¯ä¸ªå¯¹è±¡éƒ½æ˜¯æŸä¸ªç±»çš„å®ä¾‹ã€‚è¿™æ„å‘³ç€ Dart ä¸­æ²¡æœ‰åŸå§‹ç±»å‹ï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ã€‚æ•°å­—ï¼ˆå¦‚æ•´æ•°ã€æµ®ç‚¹æ•°ï¼‰ã€å‡½æ•°ã€`null`éƒ½æ˜¯å¯¹è±¡ã€‚
:::

### å¯ç©ºç±»å‹
ä½¿ç”¨ `?` åç¼€åˆ›å»ºå¯ç©ºç±»å‹ã€‚ä¾‹å¦‚ï¼Œ`int?` è¡¨ç¤ºå¯ä»¥æ˜¯ æ•´æ•° æˆ– `null`ï¼Œ`String?` å¯ä»¥æ˜¯ å­—ç¬¦ä¸² æˆ– `null`ã€‚

```dart
int nonNullableInt = 42;  // ä¸èƒ½ä¸º null
int? nullableInt = null;  // å¯ä»¥ä¸º null
```

### ç©ºæ–­è¨€æ“ä½œç¬¦
ç©ºæ–­è¨€æ“ä½œç¬¦ï¼ˆ`!`ï¼‰ç”¨äºå‘Šè¯‰ Dart ä¸€ä¸ªå¯ç©ºç±»å‹çš„è¡¨è¾¾å¼åœ¨æ­¤å¤„ä¸ä¸º `null`ï¼ˆå¦‚æœè¡¨è¾¾å¼å®é™…ä¸Šæ˜¯ `null`ï¼Œä¼šæŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ï¼‰ã€‚

```dart
int? nullableButNotNullInt = 10;
int x = nullableButNotNullInt!;  // æ–­è¨€ nullableButNotNullInt ä¸ä¸º null
```

ä½¿ç”¨åœºæ™¯ï¼šç©ºæ–­è¨€é€šå¸¸ç”¨äºä½ ç¡®å®šå€¼ä¸ä¸º `null`ï¼Œä½†ç¼–è¯‘å™¨æ— æ³•æ¨æ–­è¿™ä¸€ç‚¹çš„æƒ…å†µã€‚

:::warning
åº”è°¨æ…ä½¿ç”¨ `!`ï¼Œå› ä¸ºå®ƒå¯èƒ½å¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚

æœ€å¥½å…ˆè¿›è¡Œ `null` æ£€æŸ¥ï¼Œè€Œä¸æ˜¯ç›²ç›®ä½¿ç”¨ `!`ã€‚
:::

### å†…ç½®ç±»å‹
Dart è¯­è¨€å¯¹ä»¥ä¸‹ç±»å‹æä¾›æ”¯æŒï¼š
- æ•°å­—ï¼ˆ`int`, `double`ï¼‰
- å­—ç¬¦ä¸²ï¼ˆ`String`ï¼‰
- å¸ƒå°”å€¼ï¼ˆ`bool`ï¼‰
- è®°å½•ï¼ˆ`(value1, value2)`ï¼‰
- å‡½æ•°ï¼ˆ`Function`ï¼‰
- åˆ—è¡¨ï¼ˆ`List`ï¼Œä¹Ÿç§°ä¸ºæ•°ç»„ï¼‰
- é›†åˆï¼ˆ`Set`ï¼‰
- æ˜ å°„ï¼ˆ`Map`ï¼‰
- ç¬¦æ–‡ï¼ˆ`Runes`ï¼›é€šå¸¸è¢« `characters`(å­—ç¬¦) API æ›¿ä»£ï¼‰
- ç¬¦å·ï¼ˆ`Symbol`ï¼‰
- ç©ºå€¼ï¼ˆ`Null`ï¼‰

ä¸€äº›å…¶ä»–ç±»å‹åœ¨ Dart è¯­è¨€ä¸­ä¹Ÿæœ‰ç‰¹æ®Šä½œç”¨ï¼š
- `Object`ï¼šé™¤ `Null` å¤–æ‰€æœ‰ Dart ç±»çš„è¶…ç±»ã€‚
- `Enum`ï¼šæ‰€æœ‰æšä¸¾çš„è¶…ç±»ã€‚
- `Future` å’Œ `Stream`ï¼šç”¨äºå¼‚æ­¥ç¼–ç¨‹ã€‚
- `Iterable`ï¼šç”¨äºå¤„ç†å¯è¿­ä»£å¯¹è±¡ã€‚
- `Never`ï¼šè¡¨ç¤ºä¸€ä¸ªè¡¨è¾¾å¼æ°¸è¿œä¸èƒ½æˆåŠŸå®Œæˆæ±‚å€¼ã€‚æœ€å¸¸ç”¨äºæ€»æ˜¯æŠ›å‡ºå¼‚å¸¸çš„å‡½æ•°ã€‚
- `dynamic`ï¼šè¡¨ç¤ºä½ æƒ³ç¦ç”¨é™æ€æ£€æŸ¥ã€‚é€šå¸¸ä½ åº”è¯¥ä½¿ç”¨ `Object` æˆ– `Object?` ä»£æ›¿ã€‚
- `void`ï¼šè¡¨ç¤ºä¸€ä¸ªå€¼æ°¸è¿œä¸ä¼šè¢«ä½¿ç”¨ã€‚é€šå¸¸ç”¨ä½œè¿”å›ç±»å‹ã€‚

ä¸€äº›å†…ç½®ç±»å‹æœ‰å®ƒä»¬è‡ªå·±çš„æ„é€ å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ `Map()` æ„é€ å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªæ˜ å°„ã€‚

Dart æ”¯æŒå­—é¢é‡è¯­æ³•ï¼Œä½¿å¾—åˆ›å»ºæŸäº›ç±»å‹çš„å¯¹è±¡å˜å¾—ç®€å•ç›´æ¥ã€‚ä¾‹å¦‚ï¼Œ'this is a string' æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ï¼Œtrue æ˜¯ä¸€ä¸ªå¸ƒå°”å­—é¢é‡ã€‚

Dart æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œæ‰€æœ‰å˜é‡éƒ½æ˜¯å¯¹è±¡ã€‚è¿™æ„å‘³ç€å³ä½¿æ˜¯åŸºæœ¬ç±»å‹å¦‚ `int` ä¹Ÿæ˜¯å¯¹è±¡ã€‚

#### æ•°å­—

![æ•°å­—ç±»å‹](./img/number-classes.png)

Dart çš„æ•°å­—æœ‰ä¸¤ç§ç±»å‹ï¼š
- `int`ã€‚æ•´æ•°å€¼ä¸å¤§äº64ä½ï¼Œå…·ä½“å–å†³äºå¹³å°ã€‚åœ¨åŸç”Ÿå¹³å°ä¸Šï¼Œå€¼çš„èŒƒå›´å¯ä»¥ä» -2^63 åˆ° 2^63 - 1ã€‚åœ¨ Web ä¸Šï¼Œæ•´æ•°å€¼è¢«è¡¨ç¤ºä¸º JavaScript æ•°å­—ï¼ˆ64ä½æµ®ç‚¹å€¼ï¼Œæ²¡æœ‰å°æ•°éƒ¨åˆ†ï¼‰ï¼ŒèŒƒå›´å¯ä»¥ä» -2^53 åˆ° 2^53 - 1ã€‚ä½è¿ç®—ç¬¦ï¼ˆå¦‚ `>>`ï¼‰åªåœ¨ `int` ç±»ä¸­å®šä¹‰ï¼Œå› ä¸ºå®ƒä»¬åªé€‚ç”¨äºæ•´æ•°ã€‚
  ```dart
  void main() {
    var hex = 0xDEADBEEF;
    print(hex.runtimeType); // int
  }
  ```

- `double`ã€‚64ä½ï¼ˆåŒç²¾åº¦ï¼‰æµ®ç‚¹æ•°ï¼Œéµå¾ª IEEE 754 æ ‡å‡†ã€‚

`int` å’Œ `double` éƒ½æ˜¯ `num` çš„å­ç±»å‹ã€‚`num` æä¾›åŸºæœ¬çš„ç®—æœ¯è¿ç®—ç¬¦ï¼ˆ`+`, `-`, `*`, `/`ï¼‰ä»¥åŠä¸€äº›å¸¸ç”¨çš„æ•°å­¦æ–¹æ³•å¦‚ `abs()`ï¼ˆç»å¯¹å€¼ï¼‰, `ceil()`ï¼ˆå‘ä¸Šå–æ•´ï¼‰, `floor()`ï¼ˆå‘ä¸‹å–æ•´ï¼‰ç­‰ã€‚
```dart
void main() {
  num x = 1;
  print(x.runtimeType); // int
  x += 2.5;
  print(x.runtimeType); // double
}
```

:::tip
Dart å°† `int` å’Œ `double` è®¾è®¡ä¸º `num` çš„å­ç±»å‹æ˜¯ä¸€ä¸ªç»è¿‡æ·±æ€ç†Ÿè™‘çš„å†³å®šï¼Œè¿™ç§è®¾è®¡æœ‰å‡ ä¸ªé‡è¦çš„åŸå› å’Œä¼˜åŠ¿ï¼š

1. æŠ½è±¡å’Œé€šç”¨æ€§

`num` ä½œä¸ºä¸€ä¸ªæŠ½è±¡ç±»å‹ï¼Œä»£è¡¨äº†æ‰€æœ‰æ•°å€¼ç±»å‹çš„å…±åŒç‰¹æ€§ã€‚è¿™å…è®¸å¼€å‘è€…åœ¨ä¸éœ€è¦åŒºåˆ†æ•´æ•°å’Œæµ®ç‚¹æ•°çš„æƒ…å†µä¸‹ç¼–å†™æ›´é€šç”¨çš„ä»£ç ã€‚

2. å¤šæ€æ€§

é€šè¿‡è¿™ç§ç»§æ‰¿å…³ç³»ï¼Œå¯ä»¥åœ¨éœ€è¦ `num` ç±»å‹çš„åœ°æ–¹ä½¿ç”¨ `int` æˆ– `double`ï¼Œè¿™æä¾›äº†æ›´å¤§çš„çµæ´»æ€§å’Œå¤šæ€æ€§ã€‚

3. å…±äº«æ–¹æ³•å’Œå±æ€§

`num` ç±»å®šä¹‰äº†ä¸€äº›å…±åŒçš„æ–¹æ³•å’Œå±æ€§ï¼Œå¦‚ `abs()`ã€`ceil()`ã€`floor()` ç­‰ï¼Œè¿™äº›å¯ä»¥è¢« `int` å’Œ `double` ç»§æ‰¿å’Œä½¿ç”¨ã€‚

4. ç±»å‹æ¨æ–­å’Œè½¬æ¢

è¿™ç§è®¾è®¡ä½¿å¾—åœ¨ `int` å’Œ `double` ä¹‹é—´çš„è½¬æ¢æ›´åŠ è‡ªç„¶ï¼Œä¹Ÿæœ‰åŠ©äº Dart çš„ç±»å‹æ¨æ–­ç³»ç»Ÿã€‚
```dart
double z = 1; // Equivalent to double z = 1.0.
```

ä½¿ç”¨ `num` çš„åœºæ™¯ï¼š

1. é€šç”¨æ•°å­¦å‡½æ•°

å½“ä½ ç¼–å†™ä¸€ä¸ªå¯ä»¥å¤„ç†ä»»ä½•æ•°å­—ç±»å‹çš„å‡½æ•°æ—¶ï¼š

```dart
num calculateArea(num length, num width) {
  return length * width;
}
```

è¿™ä¸ªå‡½æ•°å¯ä»¥æ¥å—æ•´æ•°æˆ–æµ®ç‚¹æ•°ä½œä¸ºå‚æ•°ã€‚

2. é›†åˆå’Œæ³›å‹

å½“ä½ æƒ³åˆ›å»ºä¸€ä¸ªå¯ä»¥åŒ…å«æ•´æ•°æˆ–æµ®ç‚¹æ•°çš„é›†åˆæ—¶ï¼š

```dart
List<num> numbers = [1, 2.5, 3, 4.7];
```

3. API è®¾è®¡

å½“è®¾è®¡ä¸€ä¸ª API æ—¶ï¼Œä½¿ç”¨ `num` å¯ä»¥è®©ç”¨æˆ·æœ‰æ›´å¤§çš„çµæ´»æ€§ï¼š

```dart
class Rectangle {
  num width;
  num height;
  
  Rectangle(this.width, this.height);
  
  num get area => width * height;
}
```

4. æ•°å€¼èŒƒå›´

å½“ä½ éœ€è¦è¡¨ç¤ºä¸€ä¸ªå¯èƒ½æ˜¯æ•´æ•°ä¹Ÿå¯èƒ½æ˜¯æµ®ç‚¹æ•°çš„èŒƒå›´æ—¶ï¼š

```dart
class NumberRange {
  num start;
  num end;
  
  NumberRange(this.start, this.end);
}
```

5. æ•°å­¦åº“

åœ¨å®ç°æ•°å­¦åº“æ—¶ï¼Œä½¿ç”¨ `num` å¯ä»¥è®©å‡½æ•°é€‚ç”¨äºæ›´å¤šç±»å‹çš„æ•°å­—ï¼š

```dart
num power(num base, int exponent) {
  // å®ç°...
}
```

6. åŠ¨æ€ç±»å‹è½¬æ¢

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½ä¸ç¡®å®šä¸€ä¸ªæ•°å€¼æ˜¯æ•´æ•°è¿˜æ˜¯æµ®ç‚¹æ•°ï¼š

```dart
num parseNumber(String input) {
  if (input.contains('.')) {
    return double.parse(input);
  } else {
    return int.parse(input);
  }
}
```

æ€»ç»“ï¼š
`num` ç±»å‹çš„è®¾è®¡æä¾›äº†æ›´å¤§çš„çµæ´»æ€§å’ŒæŠ½è±¡æ€§ï¼Œä½¿å¾— Dart èƒ½å¤Ÿæ›´ä¼˜é›…åœ°å¤„ç†æ•°å€¼è®¡ç®—å’Œç±»å‹è½¬æ¢ã€‚å®ƒåœ¨éœ€è¦å¤„ç†é€šç”¨æ•°å€¼ã€è®¾è®¡çµæ´» API æˆ–å¤„ç†å¯èƒ½æ˜¯æ•´æ•°æˆ–æµ®ç‚¹æ•°çš„æƒ…å†µä¸‹ç‰¹åˆ«æœ‰ç”¨ã€‚è¿™ç§è®¾è®¡åæ˜ äº† Dart è¯­è¨€åœ¨ç±»å‹ç³»ç»Ÿå’Œé¢å‘å¯¹è±¡è®¾è®¡æ–¹é¢çš„æ·±æ€ç†Ÿè™‘ã€‚
:::


ç”±äº Dart å°†æ•°å­—è§†ä¸ºå¯¹è±¡ï¼Œå› æ­¤æ•°å­—å¯ä»¥å°†å…¶è‡ªå·±çš„å®ç”¨å‡½æ•°å…¬å¼€ä¸ºå¯¹è±¡æ–¹æ³•ã€‚æ‚¨æ— éœ€ä½¿ç”¨å…¶ä»–å¯¹è±¡å³å¯å°†å‡½æ•°åº”ç”¨äºæ•°å­—ã€‚ä¾‹å¦‚ï¼š
```dart
var rounded = 2.5.round();
```

å¦‚æœéœ€è¦æ›´å¤šæ•°å­¦åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ `dart:math` åº“ã€‚

2. å­—ç¬¦ä¸²

è¦åœ¨å­—ç¬¦ä¸²ä¸­åŒ…å«å…·æœ‰å…¶ä»–å«ä¹‰çš„å­—ç¬¦ï¼Œå¿…é¡»å¯¹è¯¥å­—ç¬¦è¿›è¡Œè½¬ä¹‰ã€‚è¦è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼Œè¯·åœ¨è¯¥å­—ç¬¦å‰åŠ ä¸Šåæ–œæ å­—ç¬¦ã€‚ä¾‹å¦‚ï¼š
```dart
final singleQuotes = 'I\'m learning Dart'; // I'm learning Dart
final doubleQuotes = "Escaping the \" character"; // Escaping the " character
final dollarEscape = 'The price is \$3.14.'; // The price is $3.14.
final backslashEscape = 'The Dart string escape character is \\.';
final unicode = '\u{1F60E}'; // ğŸ˜,  Unicode scalar U+1F60E
```

å­—ç¬¦ä¸²æ’å€¼ï¼šå¯ä»¥ä½¿ç”¨`${<expression>}`è¯­æ³•å°†è¡¨è¾¾å¼æ’å…¥å­—ç¬¦ä¸²æ–‡å­—ä¸­ï¼Œå¹¶å…è®¸æ‚¨åœ¨è¡¨è¾¾å¼ä½¿ç”¨å•ä¸ªæ ‡è¯†ç¬¦æ—¶çœç•¥èŠ±æ‹¬å·ã€‚ä¾‹å¦‚ï¼š
```dart
var food = 'bread';
var str = 'I eat $food'; // I eat bread
var str = 'I eat ${food}'; // I eat bread
```

å¤šè¡Œå­—ç¬¦ä¸²ï¼šä½¿ç”¨éšå¼å­—ç¬¦ä¸²è¿æ¥ æˆ–è€… ä½¿ç”¨å¤šè¡Œå­—ç¬¦ä¸²æ–‡å­—ã€‚ä¾‹å¦‚ï¼š
```dart
// ä½¿ç”¨éšå¼å­—ç¬¦ä¸²è¿æ¥ï¼šDart è¿æ¥ä»»ä½•ç›¸é‚»çš„å­—ç¬¦ä¸²æ–‡å­—ï¼Œå³ä½¿åˆ†å¸ƒåœ¨å¤šè¡Œä¸Šä¹Ÿæ˜¯å¦‚æ­¤
final s1 = 'String '
    'concatenation'
    " even works over line breaks.";
```
```dart
// ä½¿ç”¨å¤šè¡Œå­—ç¬¦ä¸²æ–‡å­—ï¼šåœ¨å­—ç¬¦ä¸²ä¸¤ä¾§ä½¿ç”¨ä¸‰ä¸ªå¼•å·ï¼ˆå•å¼•å·æˆ–åŒå¼•å·ï¼‰æ—¶ï¼Œæ–‡å­—å¯ä»¥è·¨è¶Šå¤šè¡Œã€‚
final s2 = '''
You can create
multiline strings like this one.
''';

final s3 = """
This is also a
multiline string.""";
```

å­—ç¬¦ä¸²æ¯”è¾ƒï¼šå½“ä¸¤ä¸ªå­—ç¬¦ä¸²åŒ…å«ç›¸åŒçš„ä»£ç å•å…ƒåºåˆ—æ—¶ï¼ŒDart è®¤ä¸ºå®ƒä»¬ç›¸ç­‰ã€‚ä¾‹å¦‚ï¼š
```dart
final s1 = 'String '
    'concatenation'
    " works even over line breaks.";
assert(s1 ==
    'String concatenation works even over '
        'line breaks.');
```

### åˆ¤æ–­å˜é‡çš„ç±»å‹
åœ¨Dartä¸­ï¼Œæœ‰å‡ ç§æ–¹æ³•å¯ä»¥åˆ¤æ–­å˜é‡çš„ç±»å‹ï¼š

1. `is` å…³é”®å­—

ä½¿ç”¨ `is` å…³é”®å­—å¯ä»¥æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç‰¹å®šç±»å‹çš„å®ä¾‹ã€‚

```dart
var myVariable = 42;
if (myVariable is int) {
  print('myVariable is an integer');
}
```

2. `runtimeType` å±æ€§

æ¯ä¸ªDartå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª `runtimeType` å±æ€§ï¼Œå®ƒè¿”å›å¯¹è±¡çš„è¿è¡Œæ—¶ç±»å‹ã€‚

```dart
var myVariable = 'Hello';
print(myVariable.runtimeType); // è¾“å‡º: String
```

3. ç±»å‹æµ‹è¯•æ“ä½œç¬¦ (`as`, `is`, `is!`)

- `as`: ç±»å‹è½¬æ¢
- `is`: å¦‚æœå¯¹è±¡å…·æœ‰æŒ‡å®šçš„ç±»å‹ï¼Œåˆ™è¿”å› true
- `is!`: å¦‚æœå¯¹è±¡ä¸å…·æœ‰æŒ‡å®šçš„ç±»å‹ï¼Œåˆ™è¿”å› true

```dart
var myVariable = 3.14;
if (myVariable is double) {
  print('myVariable is a double');
}
if (myVariable is! int) {
  print('myVariable is not an integer');
}
```

4. ä½¿ç”¨ `typeof` å‡½æ•°ï¼ˆä¸æ¨èï¼‰

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°ä½¿ç”¨ `typeof` å‡½æ•°ï¼Œä½†è¿™ä¸æ˜¯Dartçš„æ ‡å‡†åšæ³•ï¼Œä¸»è¦ç”¨äºJavaScriptäº’æ“ä½œã€‚

```dart
print(typeof(myVariable)); // æ³¨æ„ï¼šè¿™ä¸æ˜¯æ ‡å‡†Dartï¼Œä¸»è¦ç”¨äºJavaScriptäº’æ“ä½œ
```

5. æ³›å‹å’Œç±»å‹æ¨æ–­

Dartæœ‰å¼ºå¤§çš„ç±»å‹æ¨æ–­èƒ½åŠ›ï¼Œé€šå¸¸ä½ ä¸éœ€è¦æ˜¾å¼å£°æ˜ç±»å‹ï¼š

```dart
var list = [1, 2, 3]; // List<int>
var map = {'a': 1, 'b': 2}; // Map<String, int>
```

6. åœ¨å‡½æ•°å‚æ•°ä¸­ä½¿ç”¨ç±»å‹æ³¨è§£

```dart
void printType(Object obj) {
  if (obj is int) {
    print('Integer');
  } else if (obj is double) {
    print('Double');
  } else if (obj is String) {
    print('String');
  } else {
    print('Other type');
  }
}
```

æ³¨æ„äº‹é¡¹ï¼š
- åœ¨ä½¿ç”¨ç±»å‹æ£€æŸ¥æ—¶ï¼Œè¦è€ƒè™‘åˆ°Dartçš„ç±»å‹ç³»ç»Ÿï¼ŒåŒ…æ‹¬ç»§æ‰¿å’Œæ¥å£å®ç°ã€‚
- åœ¨è¿›è¡Œç±»å‹æ£€æŸ¥åï¼ŒDartçš„ç±»å‹æ¨æ–­ä¼šåœ¨è¯¥ä½œç”¨åŸŸå†…è®¤ä¸ºå˜é‡æ˜¯è¢«æ£€æŸ¥çš„ç±»å‹ï¼Œè¿™ç§°ä¸ºç±»å‹æå‡ã€‚
- è¿‡åº¦ä½¿ç”¨ç±»å‹æ£€æŸ¥å¯èƒ½è¡¨æ˜ä»£ç è®¾è®¡å­˜åœ¨é—®é¢˜ï¼Œåº”è¯¥è€ƒè™‘ä½¿ç”¨å¤šæ€æ€§æˆ–å…¶ä»–é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ã€‚

æ€»çš„æ¥è¯´ï¼ŒDartæä¾›äº†å¤šç§æ–¹å¼æ¥æ£€æŸ¥å’Œå¤„ç†ç±»å‹ï¼Œé€‰æ‹©å“ªç§æ–¹æ³•å–å†³äºä½ çš„å…·ä½“éœ€æ±‚å’Œä»£ç ä¸Šä¸‹æ–‡ã€‚

### ç±»å‹è½¬æ¢
#### å­—ç¬¦ä¸²å’Œæ•°å­—çš„è½¬æ¢
```dart
// String -> int
var one = int.parse('1');
assert(one == 1);

// String -> double
var onePointOne = double.parse('1.1');
assert(onePointOne == 1.1);

// int -> String
String oneAsString = 1.toString();
assert(oneAsString == '1');

// double -> String
String piAsString = 3.14159.toStringAsFixed(2);
assert(piAsString == '3.14');
```

### åŠ¨æ€ç±»å‹
åŠ¨æ€ç±»å‹ï¼š
- Dart ä¹Ÿæä¾› `dynamic` ç±»å‹ï¼Œå…è®¸å˜é‡åœ¨è¿è¡Œæ—¶æ”¹å˜ç±»å‹ã€‚
- ä½†è¿™ä¸ç±»å‹æ¨æ–­ä¸åŒï¼Œ`dynamic` ç»•è¿‡äº†é™æ€ç±»å‹æ£€æŸ¥ã€‚

## å˜é‡
åœ¨ Dart ä¸­ï¼Œä½ å¯ä»¥æ˜¾å¼å£°æ˜å˜é‡çš„ç±»å‹ï¼Œä½†è¿™ä¸æ˜¯å¿…é¡»çš„ã€‚Dart ç¼–è¯‘å™¨èƒ½å¤Ÿæ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨æ¨æ–­å˜é‡çš„ç±»å‹ã€‚

æ¨æ–­çš„å¥½å¤„ï¼š
- å‡å°‘ä»£ç å†—ä½™ï¼Œæé«˜å¯è¯»æ€§ã€‚
- ä¿æŒé™æ€ç±»å‹æ£€æŸ¥çš„ä¼˜åŠ¿ï¼ŒåŒæ—¶æä¾›åŠ¨æ€è¯­è¨€çš„ç®€æ´æ€§ã€‚

æ¨æ–­çš„é™åˆ¶ï¼šåœ¨æŸäº›å¤æ‚æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å¯èƒ½æ— æ³•å‡†ç¡®æ¨æ–­ç±»å‹ã€‚æ­¤æ—¶ï¼Œæ˜¾å¼ç±»å‹æ³¨è§£å¯èƒ½æ˜¯å¿…è¦çš„ã€‚

æœ€ä½³å®è·µï¼š
- å¯¹äºå±€éƒ¨å˜é‡ï¼Œé€šå¸¸ä½¿ç”¨ `var` å¹¶ä¾èµ–ç±»å‹æ¨æ–­ã€‚
- å¯¹äºå…¬å…± API æˆ–ç±»æˆå‘˜ï¼Œé€šå¸¸æ¨èä½¿ç”¨æ˜¾å¼ç±»å‹æ³¨è§£ã€‚

Dart å˜é‡é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼ä¹‹ä¸€è·å–å…¶ç±»å‹ï¼š
- å£°æ˜ï¼šå£°æ˜ä¸­å†™çš„ç±»å‹ã€‚
- æ¨æ–­ï¼šç”¨äºåˆå§‹åŒ–å˜é‡çš„è¡¨è¾¾å¼ã€‚

```dart
// å½“ä¸æä¾›åˆå§‹å€¼æ—¶ï¼Œå£°æ˜å…·æœ‰ç‰¹å®šç±»å‹çš„å˜é‡
String name;
// å£°æ˜å¹¶åˆå§‹åŒ–å˜é‡ï¼ŒDart æ¨æ–­ç±»å‹
var name = 'bob';
```

å˜é‡åªèƒ½æ¥å—å…¶ç±»å‹çš„å€¼ã€‚
```dart
var name = 'bob';
name = 123; // é”™è¯¯ A value of type 'int' can't be assigned to a variable of type 'String'.
```

å¦‚æœæ‚¨ä¸æä¾›åˆå§‹å€¼æˆ–æ˜¾å¼ç±»å‹ï¼Œåˆ™Dartå°†å˜é‡çš„ç±»å‹æ¨æ–­ä¸ºåŠ¨æ€ç±»å‹ã€‚å¯ä»¥ä¸ºä½¿ç”¨åŠ¨æ€ç±»å‹çš„Dartå˜é‡åˆ†é…ä»»ä½•å€¼ã€‚
```dart
var name;
name = 'bob';
name = 123; // æ­£ç¡®
```

å½“ä½¿ç”¨`final`å£°æ˜å˜é‡æ—¶ï¼Œè¦ä½¿ç”¨è¯¥å˜é‡åˆ™å¿…é¡»å…ˆåˆå§‹åŒ–è¯¥å˜é‡ã€‚åˆå§‹åŒ–åï¼Œä½ å°±æ— æ³•æ›´æ”¹è¿™äº›å˜é‡çš„å¼•ç”¨ã€‚
```dart
void main() {
  final String name;
  // print(name); // é”™è¯¯ Final variable 'name' must be assigned before it can be used.
  if (1 == 1) {
    name = 'bob';
  } else {
    name = 'tony';
  }
  print(name); // bob
}
```

```dart
void main() {
  var foo = const [];
  const baz = [];
  print(foo == baz); // true
}
```