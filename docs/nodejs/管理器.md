---
slug: node-package-manager
tags: [åŒ…ç®¡ç†]
---

## npmåŒ…ç®¡ç†å™¨
### [yarn](https://yarnpkg.com/)
- å®‰è£…ï¼š`corepack enable`ï¼ˆ`Corepack`æ˜¯Node.js é»˜è®¤é™„å¸¦çš„å·¥å…·ï¼Œä¼šå°†`yarn`äºŒè¿›åˆ¶æ–‡ä»¶æ·»åŠ åˆ°PATHï¼‰

### [npm](https://docs.npmjs.com)
npmï¼ˆNode Package Managerï¼‰æ˜¯Node.jsçš„é»˜è®¤åŒ…ç®¡ç†å™¨ã€‚npmæ˜¯ç”¨äºå®‰è£…ã€å‡çº§ã€åˆ é™¤å’Œç®¡ç†JavaScriptåŒ…çš„å·¥å…·ï¼Œè¿™äº›åŒ…å¯ä»¥æ˜¯åº“ã€æ’ä»¶ã€æ¡†æ¶æˆ–åº”ç”¨ç¨‹åºã€‚

#### `npm link`
é—®é¢˜è®°å½•ï¼šnpm link Aï¼Œnpm unlink Aåï¼Œnpm install Aè¿˜æ˜¯æ˜¾ç¤ºlinkçš„åŒ…

å¸è½½ npm é“¾æ¥çš„å…¨å±€è½¯ä»¶åŒ…ï¼š`npm rm ï½œ uninstall --global packageName`

:::info
yalc
:::

#### `node_modules`æ–‡ä»¶å¤¹å‡ºç°`.staging`
:::tip
npm install è¿‡ç¨‹ä¸­ï¼Œ`node_modules`Â é‡Œé¢å‡ºç°äº†ä¸€ä¸ªÂ `.staging`Â æ–‡ä»¶å¤¹ï¼Œè¿™è¡¨æ˜æˆ‘ä»¬çš„ä¾èµ–è¿˜æ²¡æœ‰ä¸‹è½½å®Œæˆï¼Œå½“ä¾èµ–å½»åº•ä¸‹è½½å®Œä¹‹åï¼Œè¯¥æ–‡ä»¶å¤¹ä¼šè‡ªåŠ¨æ¶ˆå¤±ã€‚
:::

å¦‚æœinstallå®Œè¿˜æ˜¯åªæœ‰`.staging`æ–‡ä»¶å¤¹ï¼Œåˆ™éœ€è¦åˆ é™¤`package-lock.json`æ–‡ä»¶ï¼Œåˆ é™¤`node_modules`æ–‡ä»¶å¤¹ï¼Œç„¶åé‡æ–° `npm install`ã€‚

#### `npm install`
å®‰è£…1.0ä¸­çš„æœ€æ–°ç‰ˆæœ¬: `npm install packageName@1`

#### `npm update`

#### `npm home`
æŸ¥çœ‹npmåŒ…çš„ä¸»é¡µ

#### npmé•œåƒç®¡ç†
ä½¿ç”¨[`nnrm`](https://github.com/YunYouJun/nnrm/blob/main/README.zh-CN.md)åˆ‡æ¢npmé•œåƒï¼š
- `npm install -g nnrm`
- `nrm ls` æŸ¥çœ‹æ‰€æœ‰çš„npmé•œåƒ
- `nrm use taobao` åˆ‡æ¢npmé•œåƒä¸ºtaobao
- `nnrm add <registry name> <registry url>` å¢åŠ npmé•œåƒ

#### `npm version`
ç”¨äºæ›´æ–° `package.json` æ–‡ä»¶ä¸­çš„ "version" å­—æ®µï¼Œå¹¶ä¸”å¯ä»¥é€‰æ‹©æ€§åœ°åˆ›å»ºä¸€ä¸ªæ–°çš„ Git commit å’Œ tagã€‚è¿™ä¸ªå‘½ä»¤é€šå¸¸åœ¨å‡†å¤‡å‘å¸ƒä¸€ä¸ªæ–°ç‰ˆæœ¬çš„ npm åŒ…æ—¶ä½¿ç”¨ã€‚

ä½¿ç”¨ `npm version` å‘½ä»¤æ—¶ï¼Œä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªæ–°çš„ç‰ˆæœ¬å·ï¼Œæˆ–è€…ä½¿ç”¨å…³é”®å­—æ¥è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å·ï¼š
- `patch` - å¢åŠ è¡¥ä¸ç‰ˆæœ¬å· (0.0.x)
- `minor` - å¢åŠ æ¬¡ç‰ˆæœ¬å· (0.x.0)
- `major` - å¢åŠ ä¸»ç‰ˆæœ¬å· (x.0.0)
- `prepatch` - å¢åŠ ä¸€ä¸ªé¢„å‘å¸ƒçš„è¡¥ä¸ç‰ˆæœ¬å·
- `preminor` - å¢åŠ ä¸€ä¸ªé¢„å‘å¸ƒçš„æ¬¡ç‰ˆæœ¬å·
- `premajor` - å¢åŠ ä¸€ä¸ªé¢„å‘å¸ƒçš„ä¸»ç‰ˆæœ¬å·
- `prerelease` - å¢åŠ ä¸€ä¸ªé¢„å‘å¸ƒç‰ˆæœ¬å·

æ­¤å¤–ï¼Œnpm version å‘½ä»¤è¿˜æœ‰ä¸€äº›æœ‰ç”¨çš„é€‰é¡¹ï¼š
- `--no-git-tag-version` - æ›´æ–°ç‰ˆæœ¬å·ä½†ä¸åˆ›å»º Git commit æˆ– tag
- `--commit-hooks` - åœ¨åˆ›å»º Git commit æ—¶è¿è¡Œé’©å­ (é»˜è®¤ä¸º true)
- `--git-tag-version` - åˆ›å»º Git commit å’Œ tag (é»˜è®¤ä¸º true)
- `--sign-git-tag` - ä½¿ç”¨ GPG ç­¾å Git tag
- `--force` - å¼ºåˆ¶åˆ›å»º Git tagï¼Œå³ä½¿å½“å‰ Git å·¥ä½œç›®å½•ä¸å¹²å‡€

#### npmå‘å¸ƒ
1. åˆ‡æ¢åˆ°npmæº
2. npm login
3. npm publish

:::warning
ä¸ªäººæƒ³å‘å¸ƒåŒ…çš„åå­—ä¸º`@scopeName/package-name`çš„è¯ï¼Œéœ€è¦æ³¨æ„2ç‚¹ï¼š
- `scopeName`åº”ä¸ºä¸ªäººnpmçš„è´¦æˆ·å
- å‘å¸ƒåº”ä½¿ç”¨ `npm publish --access public`
:::

#### `npm owner`
```bash
npm owner add <user> [<@scope>/]<pkg> # æ·»åŠ åŒ…ç»´æŠ¤è€…ï¼ŒåŒ…ç»´æŠ¤è€…æ‰æœ‰å‘å¸ƒè¯¥åŒ…çš„æƒé™
npm owner rm <user> [<@scope>/]<pkg>
npm owner ls [<@scope>/]<pkg>

aliases: author
```

#### [npx](https://docs.npmjs.com/cli/v10/commands/npx)
npx æ˜¯ npm5.2.0ç‰ˆæœ¬æ–°å¢çš„ä¸€ä¸ªå·¥å…·åŒ…ï¼Œä»æœ¬åœ°æˆ–è¿œç¨‹ npm åŒ…è¿è¡Œå‘½ä»¤ï¼Œç›¸æ¯” npmï¼Œnpx ä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–åŒ…å¹¶æ‰§è¡ŒæŸä¸ªå‘½ä»¤ã€‚

npmè‡ªå¸¦npxï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹ï¼š`npm i -g npx`

##### npxå’Œnpmçš„åŒºåˆ«
- npxä¾§é‡äºæ‰§è¡Œå‘½ä»¤çš„ï¼Œæ‰§è¡ŒæŸä¸ªæ¨¡å—å‘½ä»¤ã€‚è™½ç„¶ä¼šè‡ªåŠ¨å®‰è£…æ¨¡å—ï¼Œä½†æ˜¯é‡åœ¨æ‰§è¡ŒæŸä¸ªå‘½ä»¤ã€‚
- npmä¾§é‡äºå®‰è£…æˆ–è€…å¸è½½æŸä¸ªæ¨¡å—çš„ã€‚é‡åœ¨å®‰è£…ï¼Œå¹¶ä¸å…·å¤‡æ‰§è¡ŒæŸä¸ªæ¨¡å—çš„åŠŸèƒ½ã€‚

å‡å¦‚æˆ‘ä»¬è¦ç”¨ create-react-app è„šæ‰‹æ¶åˆ›å»ºä¸€ä¸ª react é¡¹ç›®ï¼Œå¸¸è§„çš„åšæ³•æ˜¯å…ˆå®‰è£… create-react-appï¼Œç„¶åæ‰èƒ½ä½¿ç”¨ create-react-app æ‰§è¡Œå‘½ä»¤è¿›è¡Œé¡¹ç›®åˆ›å»ºã€‚
```bash
npm i -g create-react-app
create-react-app my-react-app
```

æœ‰äº† npx åï¼Œæˆ‘ä»¬å¯ä»¥çœç•¥å®‰è£… create-react-app è¿™ä¸€æ­¥ã€‚
```bash
npx create-react-app my-react-app
```

##### npxå·¥ä½œæ–¹å¼
npx ä¼šåœ¨å½“å‰ç›®å½•ä¸‹çš„`./node_modules/.bin`é‡Œå»æŸ¥æ‰¾æ˜¯å¦æœ‰å¯æ‰§è¡Œçš„å‘½ä»¤ï¼Œæ²¡æœ‰æ‰¾åˆ°çš„è¯å†ä»å…¨å±€é‡ŒæŸ¥æ‰¾æ˜¯å¦æœ‰å®‰è£…å¯¹åº”çš„æ¨¡å—ï¼Œå…¨å±€ä¹Ÿæ²¡æœ‰çš„è¯å°±ä¼šè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„æ¨¡å—ï¼Œå¦‚ä¸Šé¢çš„ create-react-appï¼Œnpx ä¼šå°† create-react-app ä¸‹è½½åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œç”¨å®Œå³åˆ ï¼Œä¸ä¼šå ç”¨æœ¬åœ°èµ„æºã€‚

##### npxå‘½ä»¤å‚æ•°
- `--no-install`ï¼šä¸è¦è‡ªåŠ¨ä¸‹è½½ï¼Œä¹Ÿå°±æ„å‘³ç€å¦‚æœæœ¬åœ°æ²¡æœ‰è¯¥æ¨¡å—åˆ™æ— æ³•æ‰§è¡Œåç»­çš„å‘½ä»¤ã€‚
  ```bash
  npx --no-install create-react-app my-react-app

  ## not found: create-react-app
  ```

- `--ignore-existing`ï¼šå¿½ç•¥æœ¬åœ°å·²ç»å­˜åœ¨çš„æ¨¡å—ï¼Œæ¯æ¬¡éƒ½å»æ‰§è¡Œä¸‹è½½æ“ä½œï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡éƒ½ä¼šä¸‹è½½å®‰è£…ä¸´æ—¶æ¨¡å—å¹¶åœ¨ç”¨å®Œååˆ é™¤ã€‚

- `-p`ï¼šå¯ä»¥æŒ‡å®šæŸä¸€ä¸ªç‰ˆæœ¬è¿›è¡Œå®‰è£…ã€‚`-p` è¿˜å¯ä»¥ç”¨äºåŒæ—¶å®‰è£…å¤šä¸ªæ¨¡å—ã€‚
  ```bash
  # æŒ‡å®šæŸä¸€ä¸ªç‰ˆæœ¬è¿›è¡Œå®‰è£…
  npx -p node@12.0.0 node index.js

  # åŒæ—¶å®‰è£…å¤šä¸ªæ¨¡å—
  npx -p lolcatjs -p cowsay [command]
  ```

- `-c`ï¼šæ‰€æœ‰å‘½ä»¤éƒ½ç”¨npxè§£é‡Šã€‚
  ```bash
  npx -p lolcatjs -p cowsay 'cowsay hello | lolcatjs'

  # ä¸Šé¢è¿™æ ·è¿è¡Œä¼šæŠ¥é”™
  # å› ä¸ºç¬¬ä¸€é¡¹å‘½ä»¤cowsay helloé»˜è®¤æœ‰npxè§£é‡Šï¼Œä½†ç¬¬äºŒé¡¹å‘½ä»¤localcatjsä¼šæœ‰shellè§£é‡Šï¼Œ
  # æ­¤æ—¶lolcatjså¹¶æ²¡æœ‰å…¨å±€å®‰è£…ï¼Œæ‰€æœ‰å°±æŠ¥é”™äº†ã€‚
  # è¿™æ—¶å€™å¯ä»¥ç”¨-cå‚æ•°æ¥è§£å†³
  npx -p lolcatjs -p cowsay -c 'cowsay hello | lolcatjs'
  ```

- `-pm`: ç”¨äºæŒ‡å®šè¦ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨
  ```bash
  npx create-nx-workspace --pm pnpm
  ```

### [pnpm](https://pnpm.io/zh/)
pnpm æ˜¯ä¸€ä¸ªå¿«é€Ÿã€èŠ‚çœç£ç›˜ç©ºé—´çš„åŒ…ç®¡ç†å·¥å…·ï¼Œå®ƒä½¿ç”¨ç¡¬é“¾æ¥å’Œç¬¦å·é“¾æ¥æ¥èŠ‚çœç£ç›˜ç©ºé—´å¹¶æé«˜æ€§èƒ½ã€‚

#### `pnpm add`
ä½¿ç”¨`pnpm add --save-peer <pkg>` å°†å®‰è£…ä¾èµ–åˆ° peerDependencies å’Œ devDependencies

#### `pnpm create`
ä» `create-*` æˆ– `@foo/create-*` starterå·¥å…·åŒ…åˆ›å»ºé¡¹ç›®ã€‚

ä½¿ç”¨`pnpm create react-app my-app`æŠ¥é”™ï¼š`No package.json (or package.yaml, or package.json5) was found`ï¼Œè§£å†³åŠæ³•ï¼š`npx pnpm install --global pnpm`

#### å·¥ä½œç©ºé—´(Workspace)
pnpm å†…ç½®äº†å¯¹å•ä¸€å­˜å‚¨åº“ï¼ˆä¹Ÿç§°ä¸ºå¤šåŒ…å­˜å‚¨åº“ã€å¤šé¡¹ç›®å­˜å‚¨åº“æˆ–å•ä½“å­˜å‚¨åº“ï¼‰çš„æ”¯æŒï¼Œ ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª workspace ä»¥å°†å¤šä¸ªé¡¹ç›®åˆå¹¶åˆ°ä¸€ä¸ªä»“åº“ä¸­ã€‚

ä¸€ä¸ª workspace çš„æ ¹ç›®å½•ä¸‹å¿…é¡»æœ‰ `pnpm-workspace.yaml` æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åˆ—å‡ºäº†å·¥ä½œåŒºä¸­åŒ…çš„ä½ç½®ï¼Œä½¿å¾— pnpm èƒ½å¤Ÿè¯†åˆ«å¹¶é“¾æ¥è¿™äº›åŒ…ä¹‹é—´çš„æœ¬åœ°ä¾èµ–å…³ç³»ã€‚

`pnpm-workspace.yaml` æ–‡ä»¶ç¤ºä¾‹ï¼š
```yaml
packages:
  - "packages/*"
```

ä½¿ç”¨ pnpm å·¥ä½œåŒºçš„å¥½å¤„åŒ…æ‹¬ï¼š
- å…±äº«ä¾èµ–é¡¹ï¼šå·¥ä½œåŒºä¸­çš„æ‰€æœ‰åŒ…å¯ä»¥å…±äº«ç›¸åŒçš„ä¾èµ–é¡¹ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœç£ç›˜ç©ºé—´å¹¶åŠ å¿«å®‰è£…é€Ÿåº¦ã€‚

- è”åˆæ„å»ºå’Œæµ‹è¯•ï¼šå¯ä»¥ä¸€æ¬¡æ€§æ„å»ºã€æµ‹è¯•æˆ–å‘å¸ƒå·¥ä½œåŒºä¸­çš„æ‰€æœ‰åŒ…ï¼Œè¿™ä½¿å¾—è·¨åŒ…çš„åä½œæ›´åŠ å®¹æ˜“ã€‚

- æœ¬åœ°é“¾æ¥ï¼špnpm ä¼šè‡ªåŠ¨å¤„ç†å·¥ä½œåŒºä¸­åŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œé€šè¿‡æœ¬åœ°é“¾æ¥è€Œä¸æ˜¯ä¸‹è½½å·²ç»å­˜åœ¨äºå·¥ä½œåŒºä¸­çš„åŒ…ã€‚

##### `-w, --workspace-root`
å¦‚æœé¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰`pnpm-workspace.yaml` æ–‡ä»¶ï¼Œå½“æ‰§è¡Œpnpmå‘½ä»¤æ—¶ä¼šæç¤ºï¼Œå‘½ä»¤å°†åœ¨å·¥ä½œç©ºé—´çš„æ ¹ç›®å½•ä¸­æ‰§è¡Œ(å³ `pnpm-workspace.yaml` æ–‡ä»¶ æ‰€åœ¨çš„ç›®å½•)ã€‚ä½¿ç”¨ `--ignore-workspace-root-check` å°†ä¸å†æç¤ºã€‚

ä½¿ç”¨`-w`æˆ–è€…`--workspace-root`åˆ™ä»£è¡¨pnpmå‘½ä»¤å°†åœ¨å·¥ä½œç©ºé—´çš„æ ¹ç›®å½•ä¸­æ‰§è¡Œã€‚

åœ¨`packages`ç›®å½•ä¸‹çš„å­packageä¸­å®‰è£…ä¾èµ–ï¼Œé™¤äº†è¿›å…¥å­packageç›®å½•ç›´æ¥å®‰è£…`pnpm add pkgname`ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡è¿‡æ»¤å‚æ•° `--filter`æˆ–`-F`æŒ‡å®šå‘½ä»¤ä½œç”¨èŒƒå›´ã€‚

æ¯”å¦‚ï¼Œåœ¨`packages`ç›®å½•ä¸‹æ–°å»ºä¸¤ä¸ªå­packageï¼Œåˆ†åˆ«ä¸º`tools`å’Œ`mini-cli`ï¼Œè¦åœ¨`min-cli`åŒ…ä¸‹å®‰è£…`react`ï¼Œé‚£ä¹ˆå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
```bash
pnpm --filter mini-cli add react
```
:::tip
æ³¨æ„ï¼Œ`--filter`æˆ–è€…`-F`åé¢è·Ÿçš„æ˜¯åŒ…çš„`package.json`çš„`name`ï¼Œè€Œä¸æ˜¯åŒ…çš„ç›®å½•å
:::

#### `pnpm run -r <script>`
`pnpm run -r <script>` å‘½ä»¤ç”¨äºåœ¨å·¥ä½œåŒºä¸­çš„æ‰€æœ‰åŒ…ä¸Šé€’å½’è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚è¿™ä¸ªå‘½ä»¤éå¸¸é€‚åˆåœ¨ monorepo é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œå› ä¸ºå®ƒå¯ä»¥åœ¨æ‰€æœ‰å­åŒ…ä¸­è¿è¡Œç›¸åŒçš„è„šæœ¬ã€‚

å‡è®¾ä½ æœ‰ä¸€ä¸ª monorepo é¡¹ç›®ï¼Œç»“æ„å¦‚ä¸‹ï¼š

```
my-monorepo/
â”œâ”€â”€ package.json
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ package-a/
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â””â”€â”€ package-b/
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ index.js
```

åœ¨æ ¹ç›®å½•çš„ `package.json` ä¸­ï¼Œä½ å¯ä»¥å®šä¹‰å·¥ä½œåŒºï¼š

```json
{
  "name": "my-monorepo",
  "version": "1.0.0",
  "private": true,
  "workspaces": [
    "packages/*"
  ],
  "devDependencies": {
    "pnpm": "^6.0.0"
  }
}
```

åœ¨æ¯ä¸ªå­åŒ…çš„ `package.json` ä¸­ï¼Œä½ å¯ä»¥å®šä¹‰è„šæœ¬ã€‚ä¾‹å¦‚ï¼Œåœ¨ `packages/package-a/package.json` ä¸­ï¼š

```json
{
  "name": "package-a",
  "version": "1.0.0",
  "scripts": {
    "build": "echo Building package-a"
  }
}
```

åœ¨ `packages/package-b/package.json` ä¸­ï¼š

```json
{
  "name": "package-b",
  "version": "1.0.0",
  "scripts": {
    "build": "echo Building package-b"
  }
}
```

ä½ å¯ä»¥åœ¨æ ¹ç›®å½•ä¸­è¿è¡Œ `pnpm run -r <script>` æ¥é€’å½’è¿è¡Œè„šæœ¬ã€‚ä¾‹å¦‚ï¼š

```bash
pnpm run -r build
```

è¿™ä¸ªå‘½ä»¤å°†ä¼šåœ¨ `packages/package-a` å’Œ `packages/package-b` ä¸­è¿è¡Œ `build` è„šæœ¬ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š

```
> package-a:build
> echo Building package-a
Building package-a

> package-b:build
> echo Building package-b
Building package-b
```

`pnpm run -r` å‘½ä»¤è¿˜æ”¯æŒä¸€äº›å…¶ä»–é€‰é¡¹ï¼š

- **`--filter`**ï¼šåªåœ¨åŒ¹é…çš„åŒ…ä¸Šè¿è¡Œè„šæœ¬ã€‚ä¾‹å¦‚ï¼Œåªåœ¨ `package-a` ä¸Šè¿è¡Œè„šæœ¬ï¼š
  ```bash
  pnpm run -r --filter package-a build
  ```

- **`--parallel`**ï¼šå¹¶è¡Œè¿è¡Œè„šæœ¬ï¼Œè€Œä¸æ˜¯æŒ‰é¡ºåºè¿è¡Œï¼š
  ```bash
  pnpm run -r --parallel build
  ```

- **`--stream`**ï¼šå®æ—¶è¾“å‡ºæ¯ä¸ªåŒ…çš„æ—¥å¿—ï¼š
  ```bash
  pnpm run -r --stream build
  ```

é€šè¿‡è¿™äº›é€‰é¡¹ï¼Œä½ å¯ä»¥æ›´çµæ´»åœ°æ§åˆ¶åœ¨ monorepo é¡¹ç›®ä¸­è¿è¡Œè„šæœ¬çš„æ–¹å¼ã€‚

#### `pnpm exec`
`pnpm exec` å’Œ `npx` éƒ½æ˜¯ç”¨äºæ‰§è¡Œæœ¬åœ°å®‰è£…çš„å‘½ä»¤è¡Œå·¥å…·çš„å‘½ä»¤ï¼Œä½†å®ƒä»¬æœ‰ä¸€äº›å…³é”®çš„åŒºåˆ«ã€‚

`npx` æ˜¯ `npm` åŒ…ç®¡ç†å™¨çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºæ‰§è¡Œæœ¬åœ°æˆ–è¿œç¨‹å®‰è£…çš„å‘½ä»¤è¡Œå·¥å…·ã€‚å®ƒåœ¨ `npm` ç‰ˆæœ¬ 5.2.0 ä¸­å¼•å…¥ï¼Œå¹¶åœ¨ `npm` ç‰ˆæœ¬ 7 ä¸­æˆä¸ºä¸€ä¸ªç‹¬ç«‹çš„åŒ…ã€‚

`npx`çš„ç‰¹ç‚¹ï¼š
1. **æ‰§è¡Œæœ¬åœ°å®‰è£…çš„å·¥å…·**ï¼š`npx` å¯ä»¥æ‰§è¡Œé¡¹ç›®ä¸­æœ¬åœ°å®‰è£…çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œè€Œæ— éœ€å…¨å±€å®‰è£…ã€‚
2. **ä¸´æ—¶å®‰è£…å·¥å…·**ï¼šå¦‚æœå‘½ä»¤è¡Œå·¥å…·æœªåœ¨æœ¬åœ°å®‰è£…ï¼Œ`npx` ä¼šä¸´æ—¶ä¸‹è½½å¹¶æ‰§è¡Œå®ƒã€‚
3. **ç®€åŒ–å‘½ä»¤**ï¼š`npx` å¯ä»¥ç®€åŒ–ä¸€äº›å¸¸è§çš„å‘½ä»¤è¡Œæ“ä½œï¼Œä¾‹å¦‚è¿è¡Œè„šæœ¬æˆ–å·¥å…·ã€‚

```bash
# æ‰§è¡Œæœ¬åœ°å®‰è£…çš„å·¥å…·
npx eslint .

# ä¸´æ—¶å®‰è£…å¹¶æ‰§è¡Œå·¥å…·
npx create-react-app my-app
```

`pnpm exec` æ˜¯ `pnpm` åŒ…ç®¡ç†å™¨çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºæ‰§è¡Œæœ¬åœ°å®‰è£…çš„å‘½ä»¤è¡Œå·¥å…·ã€‚å®ƒç±»ä¼¼äº `npx`ï¼Œä½†ä¸“é—¨ä¸º `pnpm` ç”Ÿæ€ç³»ç»Ÿè®¾è®¡ã€‚

`pnpm exec`çš„ç‰¹ç‚¹
1. **æ‰§è¡Œæœ¬åœ°å®‰è£…çš„å·¥å…·**ï¼š`pnpm exec` å¯ä»¥æ‰§è¡Œé¡¹ç›®ä¸­æœ¬åœ°å®‰è£…çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œè€Œæ— éœ€å…¨å±€å®‰è£…ã€‚
2. **ä¾èµ–äº pnpm**ï¼š`pnpm exec` åªèƒ½ç”¨äºä½¿ç”¨ `pnpm` ç®¡ç†ä¾èµ–çš„é¡¹ç›®ã€‚
3. **ä¸æ”¯æŒä¸´æ—¶å®‰è£…**ï¼šä¸ `npx` ä¸åŒï¼Œ`pnpm exec` ä¸ä¼šä¸´æ—¶ä¸‹è½½å¹¶æ‰§è¡Œæœªå®‰è£…çš„å·¥å…·ã€‚

```bash
# æ‰§è¡Œæœ¬åœ°å®‰è£…çš„å·¥å…·
pnpm exec eslint .

# ä½¿ç”¨ pnpm exec è¿è¡Œè„šæœ¬
pnpm exec jest
```

ä¸»è¦åŒºåˆ«ï¼š
1. **åŒ…ç®¡ç†å™¨**ï¼š
   - `npx` æ˜¯ `npm` çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥ç”¨äºä»»ä½•ä½¿ç”¨ `npm` æˆ– `yarn` ç®¡ç†ä¾èµ–çš„é¡¹ç›®ã€‚
   - `pnpm exec` æ˜¯ `pnpm` çš„ä¸€éƒ¨åˆ†ï¼Œåªèƒ½ç”¨äºä½¿ç”¨ `pnpm` ç®¡ç†ä¾èµ–çš„é¡¹ç›®ã€‚

2. **ä¸´æ—¶å®‰è£…**ï¼š
   - `npx` å¯ä»¥ä¸´æ—¶ä¸‹è½½å¹¶æ‰§è¡Œæœªå®‰è£…çš„å‘½ä»¤è¡Œå·¥å…·ã€‚
   - `pnpm exec` ä¸æ”¯æŒä¸´æ—¶å®‰è£…å·¥å…·ï¼Œåªèƒ½æ‰§è¡Œå·²ç»å®‰è£…çš„å·¥å…·ã€‚

3. **æ€§èƒ½å’Œç£ç›˜ç©ºé—´**ï¼š
   - `pnpm` é€šè¿‡ç¡¬é“¾æ¥å’Œå»é‡æŠ€æœ¯ï¼Œé€šå¸¸æ¯” `npm` å’Œ `yarn` æ›´èŠ‚çœç£ç›˜ç©ºé—´å’Œå®‰è£…æ—¶é—´ã€‚
   - `npx` çš„ä¸´æ—¶å®‰è£…åŠŸèƒ½å¯èƒ½ä¼šå¢åŠ ç½‘ç»œè¯·æ±‚å’Œå®‰è£…æ—¶é—´ã€‚

### [bun](https://bun.sh/)

## node.jsç‰ˆæœ¬ç®¡ç†å™¨
### fnm
:::tip
ğŸš€ Fast and simple Node.js version manager, built in Rust
:::

- `brew install fnm`
- åœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š`eval "$(fnm env --use-on-cd)"`
- åœ¨vscodeçš„terminalæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š`eval "$(fnm env --use-on-cd)"`
- `fnm -h`
- `fnm -V`
- `fnm list`(`fnm ls`)
- `fnm install`
```bash
fnm install 14.14.0
fnm install 16.16.0
```
- `fnm use`
```bash
fnm use 14.14.0
fnm use a2
```
- `fnm alias`
```bash
fnm alias 16.16.0 a1
fnm alias 14.14.0 a2
```
- `fnm unalias`

### n
- `npm install -g n` æˆ–è€… `brew install n`
- æŸ¥çœ‹ä½¿ç”¨nå®‰è£…çš„åˆ—è¡¨---`n` æˆ–è€… `n ls`
- å®‰è£…---`n <version>` `n lts`
- åˆ‡æ¢---`n run <version>` runçš„åˆ«åæœ‰useã€as

### [nvm](https://github.com/nvm-sh/nvm) 
> nvm is a popular way to run Node.js.

#### å®‰è£…åŠé…ç½®
- `brew install nvm`
- `mkdir ~/.nvm`
- `open -e ~/.zshrc`ç„¶åæŠŠå¦‚ä¸‹é…ç½®å†™è¿›å»
```markdown
export NVM_DIR="$HOME/.nvm"
[ -s "/opt/homebrew/opt/nvm/nvm.sh" ] && \. "/opt/homebrew/opt/nvm/nvm.sh"  # This loads nvm
[ -s "/opt/homebrew/opt/nvm/etc/bash_completion.d/nvm" ] && \. "/opt/homebrew/opt/nvm/etc/bash_completion.d/nvm"  # This loads nvm bash_completion
```
- æ›´æ–°é…ç½® `source ~/.zshrc`
- å¦‚æœæ˜¯åœ¨vscodeçš„terminalæ“ä½œçš„å¦‚ä¸Šæ­¥éª¤ï¼Œåˆ™terminaléœ€è¦å…³é—­å†æ‰“å¼€

:::info
[nvm-windows](https://github.com/coreybutler/nvm-windows/releases) å®‰è£…åæŸ¥çœ‹[nvmç¯å¢ƒå˜é‡](https://www.cnblogs.com/banbaibanzi/p/13307312.html)ï¼Œé»˜è®¤å®‰è£…åä¼šè‡ªåŠ¨æ·»åŠ ç¯å¢ƒå˜é‡åŠpathï¼Œå®‰è£…åé‡å¯ç”µè„‘åˆ™ç”Ÿæ•ˆã€‚
:::

#### å¸¸ç”¨å‘½ä»¤
- `nvm install <version>`
- `nvm uninstall <version>` å¸è½½åˆ¶å®šçš„ç‰ˆæœ¬
- `nvm use <version>|<aliasName>` åˆ‡æ¢ä½¿ç”¨æŒ‡å®šçš„ç‰ˆæœ¬æˆ–åˆ«åçš„node
- `nvm ls` åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬
- `nvm current` æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬
- `nvm install` å®‰è£…æœ€æ–°ç‰ˆæœ¬nvm
- `nvm alias <name> <version>` ç»™ä¸åŒçš„ç‰ˆæœ¬å·æ·»åŠ åˆ«å
- `nvm unalias <name>` åˆ é™¤å·²å®šä¹‰çš„åˆ«å